import{c as J,j as e,a as r,B as s,bk as K,H as S,K as z,ad as Z,T as t,J as $,aJ as N,W as Q,o as C,C as u,$ as g,L as X,ae as Y,z as _,D as F,a0 as ee,y as D,R as te,t as ae}from"./index-DfP_Aygt.js";import{G as o}from"./Grid-Bdewy4dZ.js";import{R as se}from"./Assessment-Cn6wyk24.js";import{A as R,a as A,b as T}from"./AccordionSummary-B2MbOQJh.js";const ie=J(e.jsx("path",{d:"M23 8c0 1.1-.9 2-2 2-.18 0-.35-.02-.51-.07l-3.56 3.55c.05.16.07.34.07.52 0 1.1-.9 2-2 2s-2-.9-2-2c0-.18.02-.36.07-.52l-2.55-2.55c-.16.05-.34.07-.52.07s-.36-.02-.52-.07l-4.55 4.56c.05.16.07.33.07.51 0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2c.18 0 .35.02.51.07l4.56-4.55C8.02 9.36 8 9.18 8 9c0-1.1.9-2 2-2s2 .9 2 2c0 .18-.02.36-.07.52l2.55 2.55c.16-.05.34-.07.52-.07s.36.02.52.07l3.55-3.56C19.02 8.35 19 8.18 19 8c0-1.1.9-2 2-2s2 .9 2 2"}),"Timeline"),L=({src:m,alt:d,width:l="100%",height:x="auto",thumbnail:j=!1,quality:a=75,priority:h=!1,aspectRatio:i,placeholder:p,lazy:re,onLoad:k,onError:w,className:P,style:B,objectFit:f="cover"})=>{const[v,E]=r.useState(!1),[y,V]=r.useState(h),[b,O]=r.useState(!1),W=r.useRef(null),I=r.useRef(null);r.useEffect(()=>{if(h||y)return;const c=new IntersectionObserver(n=>{n.forEach(G=>{G.isIntersecting&&(V(!0),c.disconnect())})},{rootMargin:"50px",threshold:.1});return I.current&&c.observe(I.current),()=>c.disconnect()},[h,y]);const M=r.useCallback(c=>{if(c.includes("r2.dev")||c.includes("cloudflare.com")){const n=new URL(c);return j?(n.searchParams.set("w","150"),n.searchParams.set("h","150")):typeof l=="number"&&n.searchParams.set("w",l.toString()),typeof x=="number"&&n.searchParams.set("h",x.toString()),n.searchParams.set("q",a.toString()),n.searchParams.set("format","webp"),n.searchParams.set("fit",f),n.toString()}return c},[j,l,x,a,f]),H=r.useCallback(()=>{E(!0),k?.()},[k]),U=r.useCallback(()=>{O(!0),w?.()},[w]),q=M(m);return e.jsxs(s,{ref:I,sx:{position:"relative",width:l,height:x,overflow:"hidden",backgroundColor:"#f5f5f5",...B},className:P,children:[!v&&!b&&e.jsx(K,{variant:"rectangular",width:"100%",height:"100%",animation:"wave",sx:{position:"absolute",top:0,left:0,zIndex:1}}),y&&!b&&e.jsx("img",{ref:W,src:q,alt:d,onLoad:H,onError:U,style:{width:"100%",height:"100%",objectFit:f,transition:"opacity 0.3s ease, filter 0.3s ease",opacity:v?1:0,filter:v?"none":"blur(5px)",position:"absolute",top:0,left:0,zIndex:2},loading:h?"eager":"lazy"}),b&&e.jsx(s,{sx:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#f5f5f5",color:"#999",fontSize:"0.875rem",position:"absolute",top:0,left:0,zIndex:3},children:"📷 Obrázok sa nepodarilo načítať"})]})},de=({itemId:m,open:d,onClose:l})=>{const[x,j]=r.useState(!0),[a,h]=r.useState(null);return r.useEffect(()=>{d&&(j(!0),setTimeout(()=>{h({id:m,title:`Detail View for Item ${m}`,subtitle:"Comprehensive item details",image:"/placeholder-image.jpg",status:"active",category:"Sample Category",description:"This is a detailed description of the item with lots of information.",metadata:{createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),views:Math.floor(Math.random()*1e3),rating:4.5},timeline:[{date:"2025-01-15",event:"Item created",type:"info"},{date:"2025-01-14",event:"Status updated",type:"success"},{date:"2025-01-13",event:"Category changed",type:"warning"}],analytics:{totalViews:1234,uniqueVisitors:567,averageTime:"2m 34s",bounceRate:"12%"},relatedItems:[{id:"1",title:"Related Item 1",image:"/placeholder-1.jpg"},{id:"2",title:"Related Item 2",image:"/placeholder-2.jpg"},{id:"3",title:"Related Item 3",image:"/placeholder-3.jpg"}]}),j(!1)},800))},[d,m]),x?e.jsx(S,{open:d,onClose:l,maxWidth:"lg",fullWidth:!0,children:e.jsx(z,{children:e.jsxs(s,{display:"flex",justifyContent:"center",alignItems:"center",py:6,children:[e.jsx(Z,{size:60}),e.jsxs(s,{ml:3,children:[e.jsx(t,{variant:"h6",children:"Načítavam detailné informácie..."}),e.jsx(t,{variant:"body2",color:"text.secondary",children:"Spracovávam komplexné dáta..."})]})]})})}):a?e.jsxs(S,{open:d,onClose:l,maxWidth:"lg",fullWidth:!0,children:[e.jsx($,{children:e.jsxs(s,{display:"flex",alignItems:"center",gap:2,children:[e.jsx(N,{sx:{bgcolor:"primary.main"},children:e.jsx(Q,{})}),e.jsxs(s,{children:[e.jsx(t,{variant:"h5",children:a.title}),e.jsx(t,{variant:"subtitle2",color:"text.secondary",children:a.subtitle})]}),e.jsx(s,{ml:"auto",children:e.jsx(C,{label:a.status,color:a.status==="active"?"success":"default"})})]})}),e.jsxs(z,{children:[e.jsxs(o,{container:!0,spacing:3,children:[e.jsxs(o,{item:!0,xs:12,md:8,children:[a.image&&e.jsx(L,{src:a.image,alt:a.title,width:"100%",height:300,aspectRatio:16/9,placeholder:"skeleton",priority:!0}),e.jsx(u,{sx:{mt:2},children:e.jsxs(g,{children:[e.jsx(t,{variant:"h6",gutterBottom:!0,children:"Popis"}),e.jsx(t,{variant:"body1",children:a.description})]})}),e.jsx(u,{sx:{mt:2},children:e.jsxs(g,{children:[e.jsxs(t,{variant:"h6",gutterBottom:!0,children:[e.jsx(ie,{sx:{mr:1,verticalAlign:"middle"}}),"História zmien"]}),e.jsx(X,{children:a.timeline.map((i,p)=>e.jsxs(Y.Fragment,{children:[e.jsxs(_,{children:[e.jsx(F,{primary:i.event,secondary:new Date(i.date).toLocaleDateString("sk")}),e.jsx(C,{size:"small",label:i.type,color:i.type==="success"?"success":i.type==="warning"?"warning":"info"})]}),p<a.timeline.length-1&&e.jsx(ee,{})]},p))})]})})]}),e.jsxs(o,{item:!0,xs:12,md:4,children:[e.jsx(u,{children:e.jsxs(g,{children:[e.jsx(t,{variant:"h6",gutterBottom:!0,children:"Informácie"}),e.jsxs(s,{sx:{"& > *":{mb:1}},children:[e.jsxs(t,{variant:"body2",children:[e.jsx("strong",{children:"Kategória:"})," ",a.category]}),e.jsxs(t,{variant:"body2",children:[e.jsx("strong",{children:"Zobrazenia:"})," ",a.metadata.views]}),e.jsxs(t,{variant:"body2",children:[e.jsx("strong",{children:"Hodnotenie:"})," ",a.metadata.rating,"/5"]}),e.jsxs(t,{variant:"body2",children:[e.jsx("strong",{children:"Vytvorené:"})," "," ",new Date(a.metadata.createdAt).toLocaleDateString("sk")]})]})]})}),e.jsx(u,{sx:{mt:2},children:e.jsxs(g,{children:[e.jsxs(t,{variant:"h6",gutterBottom:!0,children:[e.jsx(se,{sx:{mr:1,verticalAlign:"middle"}}),"Analytika"]}),e.jsxs(o,{container:!0,spacing:2,children:[e.jsx(o,{item:!0,xs:6,children:e.jsxs(s,{textAlign:"center",children:[e.jsx(t,{variant:"h4",color:"primary.main",children:a.analytics.totalViews.toLocaleString()}),e.jsx(t,{variant:"caption",children:"Celkové zobrazenia"})]})}),e.jsx(o,{item:!0,xs:6,children:e.jsxs(s,{textAlign:"center",children:[e.jsx(t,{variant:"h4",color:"secondary.main",children:a.analytics.uniqueVisitors}),e.jsx(t,{variant:"caption",children:"Unikátni návštevníci"})]})}),e.jsx(o,{item:!0,xs:6,children:e.jsxs(s,{textAlign:"center",children:[e.jsx(t,{variant:"body1",children:a.analytics.averageTime}),e.jsx(t,{variant:"caption",children:"Priemerný čas"})]})}),e.jsx(o,{item:!0,xs:6,children:e.jsxs(s,{textAlign:"center",children:[e.jsx(t,{variant:"body1",children:a.analytics.bounceRate}),e.jsx(t,{variant:"caption",children:"Bounce rate"})]})})]})]})}),e.jsx(u,{sx:{mt:2},children:e.jsxs(g,{children:[e.jsx(t,{variant:"h6",gutterBottom:!0,children:"Súvisiace položky"}),a.relatedItems.map(i=>e.jsxs(s,{sx:{display:"flex",gap:2,mb:1},children:[e.jsx(L,{src:i.image,alt:i.title,width:60,height:60,aspectRatio:1,placeholder:"icon",lazy:!0}),e.jsxs(s,{children:[e.jsx(t,{variant:"body2",fontWeight:"medium",children:i.title}),e.jsxs(t,{variant:"caption",color:"text.secondary",children:["ID: ",i.id]})]})]},i.id))]})})]})]}),e.jsxs(s,{sx:{mt:3},children:[e.jsxs(R,{children:[e.jsx(A,{expandIcon:e.jsx(D,{}),children:e.jsx(t,{variant:"h6",children:"Pokročilé nastavenia"})}),e.jsx(T,{children:e.jsx(t,{children:"Tu by boli pokročilé nastavenia a konfigurácie pre túto položku. Tento obsah sa načítava iba keď používateľ rozbalí sekciu."})})]}),e.jsxs(R,{children:[e.jsx(A,{expandIcon:e.jsx(D,{}),children:e.jsx(t,{variant:"h6",children:"Technické detaily"})}),e.jsx(T,{children:e.jsx(t,{children:"Technické informácie, logy, a diagnostické dáta. Tieto dáta sa načítavajú iba na požiadanie."})})]})]})]}),e.jsx(te,{children:e.jsx(ae,{onClick:l,variant:"contained",children:"Zavrieť"})})]}):null};export{de as default};
