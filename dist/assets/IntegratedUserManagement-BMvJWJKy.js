import{c as B,j as e,a3 as fe,as as Me,a4 as xe,a as m,B as a,bk as A,C as Z,$ as J,T as l,t as w,Q as pe,aH as Oe,aJ as ye,o as S,aK as re,I as ne,E as ke,G as we,H as K,J as G,K as Q,q as k,M as ce,N as le,O as de,P as I,ad as Ee,R as X,aI as _e,a8 as De,a9 as Be,aG as V,aX as ue,a1 as _,a0 as Re,bl as Le,au as Pe,y as Ue,L as $e,z as Ve,aT as Fe,D as He,bm as qe}from"./index-DfP_Aygt.js";import{R as Ze}from"./PermissionGuard-CNQGriEX.js";import{T as Je,a as Ke,b as Ge,c as Se,d as y,e as Qe}from"./TableRow-CF4KSyf5.js";import{G as b}from"./Grid-Bdewy4dZ.js";import{S as W}from"./Switch-Bee8sYsg.js";import{S as Ce}from"./Settings-IgKCPozF.js";import{F as Xe}from"./FormGroup-Xz9CvQBC.js";import{E as Ye}from"./Error-CDe1qGib.js";import{W as es}from"./Warning-C4pA-vE-.js";import{C as ss}from"./Business-CW2_TAXE.js";import{M as ts}from"./Build-D9Ysn6mJ.js";import{A as rs,a as ns,b as as}from"./AccordionSummary-B2MbOQJh.js";import{C as is}from"./Check-eRMTb7fG.js";import{T as os,a as he}from"./Tabs-BoloKirS.js";import{S as cs}from"./Security-D9d1EOYw.js";const ls=B([e.jsx("path",{d:"M17 11c.34 0 .67.04 1 .09V6.27L10.5 3 3 6.27v4.91c0 4.54 3.2 8.79 7.5 9.82.55-.13 1.08-.32 1.6-.55-.69-.98-1.1-2.17-1.1-3.45 0-3.31 2.69-6 6-6"},"0"),e.jsx("path",{d:"M17 13c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4m0 1.38c.62 0 1.12.51 1.12 1.12s-.51 1.12-1.12 1.12-1.12-.51-1.12-1.12.5-1.12 1.12-1.12m0 5.37c-.93 0-1.74-.46-2.24-1.17.05-.72 1.51-1.08 2.24-1.08s2.19.36 2.24 1.08c-.5.71-1.31 1.17-2.24 1.17"},"1")],"AdminPanelSettings"),ds=B(e.jsx("path",{d:"M10 16v-1H3.01L3 19c0 1.11.89 2 2 2h14c1.11 0 2-.89 2-2v-4h-7v1zm10-9h-4.01V5l-2-2h-4l-2 2v2H4c-1.1 0-2 .9-2 2v3c0 1.11.89 2 2 2h6v-2h4v2h6c1.1 0 2-.9 2-2V9c0-1.1-.9-2-2-2m-6 0h-4V5h4z"}),"BusinessCenter"),us=B(e.jsx("path",{d:"M9 15c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4m13.1-8.16c.01-.11.02-.22.02-.34 0-.12-.01-.23-.03-.34l.74-.58c.07-.05.08-.15.04-.22l-.7-1.21c-.04-.08-.14-.1-.21-.08l-.86.35c-.18-.14-.38-.25-.59-.34l-.13-.93c-.02-.09-.09-.15-.18-.15h-1.4c-.09 0-.16.06-.17.15l-.13.93c-.21.09-.41.21-.59.34l-.87-.35c-.08-.03-.17 0-.21.08l-.7 1.21c-.04.08-.03.17.04.22l.74.58c-.02.11-.03.23-.03.34 0 .11.01.23.03.34l-.74.58c-.07.05-.08.15-.04.22l.7 1.21c.04.08.14.1.21.08l.87-.35c.18.14.38.25.59.34l.13.93c.01.09.08.15.17.15h1.4c.09 0 .16-.06.17-.15l.13-.93c.21-.09.41-.21.59-.34l.87.35c.08.03.17 0 .21-.08l.7-1.21c.04-.08.03-.17-.04-.22zm-2.6.91c-.69 0-1.25-.56-1.25-1.25s.56-1.25 1.25-1.25 1.25.56 1.25 1.25-.56 1.25-1.25 1.25m.42 3.93-.5-.87c-.03-.06-.1-.08-.15-.06l-.62.25c-.13-.1-.27-.18-.42-.24l-.09-.66c-.02-.06-.08-.1-.14-.1h-1c-.06 0-.11.04-.12.11l-.09.66c-.15.06-.29.15-.42.24l-.62-.25c-.06-.02-.12 0-.15.06l-.5.87c-.03.06-.02.12.03.16l.53.41c-.01.08-.02.16-.02.24 0 .08.01.17.02.24l-.53.41c-.05.04-.06.11-.03.16l.5.87c.03.06.1.08.15.06l.62-.25c.13.1.27.18.42.24l.09.66c.01.07.06.11.12.11h1c.06 0 .12-.04.12-.11l.09-.66c.15-.06.29-.15.42-.24l.62.25c.06.02.12 0 .15-.06l.5-.87c.03-.06.02-.12-.03-.16l-.52-.41c.01-.08.02-.16.02-.24 0-.08-.01-.17-.02-.24l.53-.41c.05-.04.06-.11.04-.17m-2.42 1.65c-.46 0-.83-.38-.83-.83 0-.46.38-.83.83-.83s.83.38.83.83c0 .46-.37.83-.83.83M4.74 9h8.53c.27 0 .49-.22.49-.49v-.02c0-.27-.22-.49-.49-.49H13c0-1.48-.81-2.75-2-3.45v.95c0 .28-.22.5-.5.5s-.5-.22-.5-.5V4.14C9.68 4.06 9.35 4 9 4s-.68.06-1 .14V5.5c0 .28-.22.5-.5.5S7 5.78 7 5.5v-.95C5.81 5.25 5 6.52 5 8h-.26c-.27 0-.49.22-.49.49v.03c0 .26.22.48.49.48M9 13c1.86 0 3.41-1.28 3.86-3H5.14c.45 1.72 2 3 3.86 3"}),"Engineering"),hs=B(e.jsx("path",{d:"M20 18.69 7.84 6.14 5.27 3.49 4 4.76l2.8 2.8v.01c-.52.99-.8 2.16-.8 3.42v5l-2 2v1h13.73l2 2L21 19.72zM12 22c1.11 0 2-.89 2-2h-4c0 1.11.89 2 2 2m6-7.32V11c0-3.08-1.64-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68c-.15.03-.29.08-.42.12-.1.03-.2.07-.3.11h-.01c-.01 0-.01 0-.02.01-.23.09-.46.2-.68.31 0 0-.01 0-.01.01z"}),"NotificationsOff"),ms=B(e.jsx("path",{d:"M15 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4m-9-2V7H4v3H1v2h3v3h2v-3h3v-2zm9 4c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4"}),"PersonAdd"),me=B(e.jsx("path",{d:"M19.8 18.4 14 10.67V6.5l1.35-1.69c.26-.33.03-.81-.39-.81H9.04c-.42 0-.65.48-.39.81L10 6.5v4.17L4.2 18.4c-.49.66-.02 1.6.8 1.6h14c.82 0 1.29-.94.8-1.6"}),"Science"),xs=B(e.jsx("path",{d:"M16.5 12c0-1.77-1.02-3.29-2.5-4.03v2.21l2.45 2.45c.03-.2.05-.41.05-.63m2.5 0c0 .94-.2 1.82-.54 2.64l1.51 1.51C20.63 14.91 21 13.5 21 12c0-4.28-2.99-7.86-7-8.77v2.06c2.89.86 5 3.54 5 6.71M4.27 3 3 4.27 7.73 9H3v6h4l5 5v-6.73l4.25 4.25c-.67.52-1.42.93-2.25 1.18v2.06c1.38-.31 2.63-.95 3.69-1.81L19.73 21 21 19.73l-9-9zM12 4 9.91 6.09 12 8.18z"}),"VolumeOff"),ps=B(e.jsx("path",{d:"M20 6h-4V4c0-1.11-.89-2-2-2h-4c-1.11 0-2 .89-2 2v2H4c-1.11 0-1.99.89-1.99 2L2 19c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V8c0-1.11-.89-2-2-2m-6 0h-4V4h4z"}),"Work"),Ne=()=>{const z=fe(),{state:n}=Me(),t=xe(z.breakpoints.down("md")),c=xe(z.breakpoints.down("lg")),p=(s,r,N="Neznámy")=>{if(!s)return N;try{const f=new Date(s);return isNaN(f.getTime())?N:De(f,r,{locale:Be})}catch{return N}},[i,x]=m.useState(!0),[g,u]=m.useState(null),[d,M]=m.useState([]),[ae,R]=m.useState(!1),[Y,T]=m.useState(!1),[ie,P]=m.useState(!1),[L,C]=m.useState(null),[F,U]=m.useState([]),[ee,H]=m.useState(!1),[v,h]=m.useState({username:"",email:"",password:"",firstName:"",lastName:"",role:"user",linkedInvestorId:""}),$=()=>"https://blackrent-app-production-4d6f.up.railway.app/api",O=()=>n.token||localStorage.getItem("blackrent_token")||sessionStorage.getItem("blackrent_token");m.useEffect(()=>{E(),se()},[]);const E=async()=>{x(!0),u(null);try{const s=await fetch(`${$()}/auth/users`,{headers:{Authorization:`Bearer ${O()}`}});if(s.ok){const r=await s.json(),N=(r.data||r.users||[]).map(f=>({id:f.id,username:f.username,email:f.email,role:f.role,firstName:f.first_name||f.firstName,lastName:f.last_name||f.lastName,isActive:f.is_active!==!1,lastLogin:f.last_login||f.lastLogin,createdAt:f.created_at||f.createdAt}));M(N)}else{const r=await s.json();u(r.error||"Chyba pri načítavaní používateľov")}}catch(s){console.error("Error loading users:",s),u("Chyba pri načítavaní používateľov")}finally{x(!1)}},se=async()=>{try{H(!0);const s=await fetch(`${$()}/auth/investors-with-shares`,{headers:{Authorization:`Bearer ${O()}`}});if(s.ok){const r=await s.json();U(r.data||[])}else console.error("Failed to load investors"),U([])}catch(s){console.error("Error loading investors:",s),U([])}finally{H(!1)}},o=async()=>{try{const s=await fetch(`${$()}/auth/users`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${O()}`},body:JSON.stringify(v)});if(s.ok)R(!1),te(),await E(),u(null);else{const r=await s.json();u(r.error||"Chyba pri vytváraní používateľa")}}catch(s){console.error("Error creating user:",s),u("Chyba pri vytváraní používateľa")}},j=s=>{C(s),h({username:s.username,email:s.email,password:"",firstName:s.firstName||"",lastName:s.lastName||"",role:s.role,linkedInvestorId:""}),T(!0)},q=async()=>{if(L)try{const s={...v};s.password||delete s.password;const r=await fetch(`${$()}/auth/users/${L.id}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${O()}`},body:JSON.stringify(s)});if(r.ok)T(!1),C(null),te(),await E(),u(null);else{const N=await r.json();u(N.error||"Chyba pri úprave používateľa")}}catch(s){console.error("Error updating user:",s),u("Chyba pri úprave používateľa")}},oe=async()=>{if(L)try{const s=await fetch(`${$()}/auth/users/${L.id}`,{method:"DELETE",headers:{Authorization:`Bearer ${O()}`}});if(s.ok)P(!1),C(null),await E(),u(null);else{const r=await s.json();u(r.error||"Chyba pri mazaní používateľa")}}catch(s){console.error("Error deleting user:",s),u("Chyba pri mazaní používateľa")}},te=()=>{h({username:"",email:"",password:"",firstName:"",lastName:"",role:"user",linkedInvestorId:""})},ve=s=>{switch(s){case"admin":return"error";case"manager":return"warning";case"employee":return"info";default:return"default"}},je=s=>{switch(s){case"admin":return"Administrátor";case"manager":return"Manažér";case"employee":return"Zamestnanec";default:return"Používateľ"}},Ie=({user:s})=>e.jsx(Z,{sx:{mb:2,border:"1px solid",borderColor:"divider"},children:e.jsxs(J,{sx:{p:2},children:[e.jsxs(a,{sx:{display:"flex",alignItems:"flex-start",justifyContent:"space-between",mb:2},children:[e.jsxs(a,{sx:{display:"flex",alignItems:"center",gap:1.5,flex:1},children:[e.jsx(ye,{sx:{width:40,height:40},children:s.firstName?.[0]||s.username[0].toUpperCase()}),e.jsxs(a,{sx:{flex:1,minWidth:0},children:[e.jsx(l,{variant:"subtitle1",sx:{fontWeight:600,lineHeight:1.2},children:s.firstName&&s.lastName?`${s.firstName} ${s.lastName}`:s.username}),e.jsxs(l,{variant:"body2",color:"text.secondary",sx:{fontSize:"0.875rem"},children:["@",s.username]}),e.jsx(l,{variant:"body2",color:"text.secondary",sx:{fontSize:"0.875rem"},children:s.email})]})]}),e.jsxs(a,{sx:{display:"flex",gap:.5},children:[e.jsx(re,{title:"Upraviť",children:e.jsx(ne,{size:"small",onClick:()=>j(s),children:e.jsx(ke,{fontSize:"small"})})}),s.id!==n.user?.id&&e.jsx(re,{title:"Vymazať",children:e.jsx(ne,{size:"small",color:"error",onClick:()=>{C(s),P(!0)},children:e.jsx(we,{fontSize:"small"})})})]})]}),e.jsxs(_e,{spacing:1.5,children:[e.jsxs(a,{sx:{display:"flex",flexWrap:"wrap",gap:1,alignItems:"center"},children:[e.jsx(S,{size:"small",label:je(s.role),color:ve(s.role),variant:"outlined"}),e.jsx(S,{size:"small",label:s.isActive?"Aktívny":"Neaktívny",color:s.isActive?"success":"error"})]}),e.jsxs(a,{sx:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:1,fontSize:"0.875rem"},children:[e.jsxs(a,{children:[e.jsx(l,{variant:"caption",color:"text.secondary",sx:{display:"block",fontWeight:500},children:"Posledné prihlásenie:"}),e.jsx(l,{variant:"body2",sx:{fontSize:"0.875rem"},children:p(s.lastLogin,"dd.MM.yyyy HH:mm","Nikdy")})]}),e.jsxs(a,{children:[e.jsx(l,{variant:"caption",color:"text.secondary",sx:{display:"block",fontWeight:500},children:"Vytvorený:"}),e.jsx(l,{variant:"body2",sx:{fontSize:"0.875rem"},children:p(s.createdAt,"dd.MM.yyyy","Neznámy")})]})]})]})]})});return i?e.jsxs(a,{sx:{p:{xs:2,sm:3},backgroundColor:{xs:"transparent",sm:"background.paper"},borderRadius:{xs:0,sm:2}},children:[e.jsx(A,{variant:"text",width:"60%",height:40}),t?e.jsx(a,{sx:{mt:2},children:[1,2,3].map(s=>e.jsx(Z,{sx:{mb:2},children:e.jsxs(J,{children:[e.jsxs(a,{sx:{display:"flex",alignItems:"center",gap:1.5,mb:2},children:[e.jsx(A,{variant:"circular",width:40,height:40}),e.jsxs(a,{sx:{flex:1},children:[e.jsx(A,{variant:"text",width:"70%"}),e.jsx(A,{variant:"text",width:"50%"})]})]}),e.jsx(A,{variant:"text",width:"100%"}),e.jsx(A,{variant:"text",width:"80%"})]})},s))}):e.jsx(A,{variant:"rectangular",height:400,sx:{mt:2}})]}):e.jsxs(a,{sx:{p:{xs:2,sm:3},backgroundColor:{xs:"transparent",sm:"background.paper"},borderRadius:{xs:0,sm:2},minHeight:{xs:"calc(100vh - 200px)",sm:"auto"}},children:[e.jsxs(a,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:{xs:2,sm:3},flexDirection:{xs:"column",sm:"row"},gap:2,pb:{xs:2,sm:0},borderBottom:{xs:"1px solid",sm:"none"},borderColor:"divider"},children:[e.jsx(l,{variant:"h4",sx:{fontWeight:700,color:"#1976d2",fontSize:{xs:"1.25rem",sm:"1.75rem",md:"2rem"},textAlign:{xs:"center",sm:"left"}},children:"👥 Správa používateľov"}),e.jsx(w,{variant:"contained",startIcon:e.jsx(ms,{fontSize:t?"small":"medium"}),onClick:()=>R(!0),sx:{minWidth:{xs:"100%",sm:"auto"},py:{xs:1.5,sm:1},fontSize:{xs:"0.9rem",sm:"1rem"}},children:"Pridať používateľa"})]}),g&&e.jsx(pe,{severity:"error",sx:{mb:2},onClose:()=>u(null),children:g}),e.jsx(Z,{children:e.jsxs(J,{children:[e.jsxs(l,{variant:"h6",sx:{mb:2},children:["Používatelia (",d.length,")"]}),(()=>{const s=[...d].sort((r,N)=>{const f=r.firstName||"",Ae=N.firstName||"",ge=f.localeCompare(Ae,"sk");if(ge!==0)return ge;const Te=r.lastName||"",We=N.lastName||"",be=Te.localeCompare(We,"sk");return be!==0?be:r.username.localeCompare(N.username,"sk")});return e.jsx(e.Fragment,{children:t?e.jsx(a,{sx:{maxHeight:"calc(100vh - 300px)",overflowY:"auto",pr:1},children:s.length===0?e.jsx(l,{variant:"body2",color:"text.secondary",sx:{textAlign:"center",py:4},children:"Žiadni používatelia"}):s.map(r=>e.jsx(Ie,{user:r},r.id))}):e.jsx(Je,{component:Oe,sx:{overflowX:"auto"},children:e.jsxs(Ke,{sx:{minWidth:c?800:1e3},children:[e.jsx(Ge,{children:e.jsxs(Se,{children:[e.jsx(y,{children:"Používateľ"}),e.jsx(y,{children:"Email"}),e.jsx(y,{children:"Rola"}),e.jsx(y,{children:"Status"}),e.jsx(y,{children:"Posledné prihlásenie"}),e.jsx(y,{children:"Vytvorený"}),e.jsx(y,{children:"Akcie"})]})}),e.jsx(Qe,{children:s.map(r=>e.jsxs(Se,{hover:!0,children:[e.jsx(y,{children:e.jsxs(a,{sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(ye,{sx:{width:32,height:32},children:r.firstName?.[0]||r.username[0].toUpperCase()}),e.jsxs(a,{children:[e.jsx(l,{variant:"body2",sx:{fontWeight:500},children:r.firstName&&r.lastName?`${r.firstName} ${r.lastName}`:r.username}),e.jsx(l,{variant:"caption",color:"text.secondary",children:r.username})]})]})}),e.jsx(y,{children:e.jsx(l,{variant:"body2",sx:{maxWidth:c?150:200,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:r.email})}),e.jsx(y,{children:e.jsx(S,{size:"small",label:je(r.role),color:ve(r.role),variant:"outlined"})}),e.jsx(y,{children:e.jsx(S,{size:"small",label:r.isActive?"Aktívny":"Neaktívny",color:r.isActive?"success":"error"})}),e.jsx(y,{children:e.jsx(l,{variant:"body2",sx:{fontSize:"0.875rem"},children:p(r.lastLogin,c?"dd.MM.yy":"dd.MM.yyyy HH:mm","Nikdy")})}),e.jsx(y,{children:e.jsx(l,{variant:"body2",sx:{fontSize:"0.875rem"},children:p(r.createdAt,c?"dd.MM.yy":"dd.MM.yyyy","Neznámy")})}),e.jsx(y,{children:e.jsxs(a,{sx:{display:"flex",gap:.5},children:[e.jsx(re,{title:"Upraviť",children:e.jsx(ne,{size:"small",onClick:()=>j(r),children:e.jsx(ke,{})})}),r.id!==n.user?.id&&e.jsx(re,{title:"Vymazať",children:e.jsx(ne,{size:"small",color:"error",onClick:()=>{C(r),P(!0)},children:e.jsx(we,{})})})]})})]},r.id))})]})})})})()]})}),e.jsxs(K,{open:ae,onClose:()=>R(!1),maxWidth:"sm",fullWidth:!0,fullScreen:t,PaperProps:{sx:{...t&&{m:0,borderRadius:0,maxHeight:"100vh"}}},children:[e.jsx(G,{sx:{pb:1,fontSize:t?"1.25rem":"1.5rem",borderBottom:t?"1px solid":"none",borderColor:"divider"},children:"Pridať používateľa"}),e.jsx(Q,{sx:{px:t?2:3,py:t?2:1},children:e.jsxs(b,{container:!0,spacing:2,sx:{mt:1},children:[e.jsx(b,{item:!0,xs:12,sm:6,children:e.jsx(k,{fullWidth:!0,label:"Používateľské meno",value:v.username,onChange:s=>h(r=>({...r,username:s.target.value})),required:!0})}),e.jsx(b,{item:!0,xs:12,sm:6,children:e.jsx(k,{fullWidth:!0,label:"Email",type:"email",value:v.email,onChange:s=>h(r=>({...r,email:s.target.value})),required:!0})}),e.jsx(b,{item:!0,xs:12,sm:6,children:e.jsx(k,{fullWidth:!0,label:"Meno",value:v.firstName,onChange:s=>h(r=>({...r,firstName:s.target.value}))})}),e.jsx(b,{item:!0,xs:12,sm:6,children:e.jsx(k,{fullWidth:!0,label:"Priezvisko",value:v.lastName,onChange:s=>h(r=>({...r,lastName:s.target.value}))})}),e.jsx(b,{item:!0,xs:12,sm:6,children:e.jsx(k,{fullWidth:!0,label:"Heslo",type:"password",value:v.password,onChange:s=>h(r=>({...r,password:s.target.value})),required:!0})}),e.jsx(b,{item:!0,xs:12,sm:6,children:e.jsxs(ce,{fullWidth:!0,children:[e.jsx(le,{children:"Rola"}),e.jsxs(de,{value:v.role,onChange:s=>h(r=>({...r,role:s.target.value})),label:"Rola",children:[e.jsx(I,{value:"user",children:"Používateľ"}),e.jsx(I,{value:"employee",children:"Zamestnanec"}),e.jsx(I,{value:"manager",children:"Manažér"}),e.jsx(I,{value:"admin",children:"Administrátor"})]})]})}),e.jsx(b,{item:!0,xs:12,children:e.jsxs(ce,{fullWidth:!0,children:[e.jsx(le,{children:"Priradenie k investorovi (voliteľné)"}),e.jsxs(de,{value:v.linkedInvestorId,onChange:s=>h(r=>({...r,linkedInvestorId:s.target.value})),label:"Priradenie k investorovi (voliteľné)",disabled:ee,children:[e.jsx(I,{value:"",children:"Žiadne priradenie - bežný používateľ"}),F.map(s=>e.jsxs(I,{value:s.id,children:[s.firstName," ",s.lastName," - Podiely: ",s.companies.map(r=>`${r.companyName} (${r.ownershipPercentage}%)`).join(", ")]},s.id))]}),ee&&e.jsxs(a,{sx:{display:"flex",alignItems:"center",mt:1},children:[e.jsx(Ee,{size:16,sx:{mr:1}}),e.jsx(l,{variant:"caption",children:"Načítavam investorov..."})]})]})})]})}),e.jsxs(X,{sx:{p:t?2:1,gap:1,flexDirection:t?"column-reverse":"row",borderTop:t?"1px solid":"none",borderColor:"divider"},children:[e.jsx(w,{onClick:()=>{R(!1),te()},fullWidth:t,sx:{minWidth:t?"100%":"auto"},children:"Zrušiť"}),e.jsx(w,{variant:"contained",onClick:o,fullWidth:t,sx:{minWidth:t?"100%":"auto"},children:"Vytvoriť"})]})]}),e.jsxs(K,{open:Y,onClose:()=>T(!1),maxWidth:"sm",fullWidth:!0,fullScreen:t,PaperProps:{sx:{...t&&{m:0,borderRadius:0,maxHeight:"100vh"}}},children:[e.jsx(G,{sx:{pb:1,fontSize:t?"1.25rem":"1.5rem",borderBottom:t?"1px solid":"none",borderColor:"divider"},children:"Upraviť používateľa"}),e.jsx(Q,{sx:{px:t?2:3,py:t?2:1},children:e.jsxs(b,{container:!0,spacing:2,sx:{mt:1},children:[e.jsx(b,{item:!0,xs:12,sm:6,children:e.jsx(k,{fullWidth:!0,label:"Používateľské meno",value:v.username,onChange:s=>h(r=>({...r,username:s.target.value})),required:!0})}),e.jsx(b,{item:!0,xs:12,sm:6,children:e.jsx(k,{fullWidth:!0,label:"Email",type:"email",value:v.email,onChange:s=>h(r=>({...r,email:s.target.value})),required:!0})}),e.jsx(b,{item:!0,xs:12,sm:6,children:e.jsx(k,{fullWidth:!0,label:"Meno",value:v.firstName,onChange:s=>h(r=>({...r,firstName:s.target.value}))})}),e.jsx(b,{item:!0,xs:12,sm:6,children:e.jsx(k,{fullWidth:!0,label:"Priezvisko",value:v.lastName,onChange:s=>h(r=>({...r,lastName:s.target.value}))})}),e.jsx(b,{item:!0,xs:12,sm:6,children:e.jsx(k,{fullWidth:!0,label:"Nové heslo (nechajte prázdne pre zachovanie)",type:"password",value:v.password,onChange:s=>h(r=>({...r,password:s.target.value}))})}),e.jsx(b,{item:!0,xs:12,sm:6,children:e.jsxs(ce,{fullWidth:!0,children:[e.jsx(le,{children:"Rola"}),e.jsxs(de,{value:v.role,onChange:s=>h(r=>({...r,role:s.target.value})),label:"Rola",children:[e.jsx(I,{value:"user",children:"Používateľ"}),e.jsx(I,{value:"employee",children:"Zamestnanec"}),e.jsx(I,{value:"manager",children:"Manažér"}),e.jsx(I,{value:"admin",children:"Administrátor"})]})]})})]})}),e.jsxs(X,{sx:{p:t?2:1,gap:1,flexDirection:t?"column-reverse":"row",borderTop:t?"1px solid":"none",borderColor:"divider"},children:[e.jsx(w,{onClick:()=>{T(!1),C(null),te()},fullWidth:t,sx:{minWidth:t?"100%":"auto"},children:"Zrušiť"}),e.jsx(w,{variant:"contained",onClick:q,fullWidth:t,sx:{minWidth:t?"100%":"auto"},children:"Uložiť"})]})]}),e.jsxs(K,{open:ie,onClose:()=>P(!1),maxWidth:"xs",fullWidth:!0,PaperProps:{sx:{...t&&{m:2,borderRadius:2}}},children:[e.jsx(G,{sx:{pb:1,fontSize:t?"1.25rem":"1.5rem"},children:"Potvrdiť vymazanie"}),e.jsx(Q,{sx:{px:t?2:3,py:t?1:2},children:e.jsxs(l,{sx:{fontSize:t?"0.9rem":"1rem"},children:["Naozaj chcete vymazať používateľa ",e.jsx("strong",{children:L?.username}),"? Táto akcia sa nedá vrátiť späť."]})}),e.jsxs(X,{sx:{p:t?2:1,gap:1,flexDirection:t?"column-reverse":"row"},children:[e.jsx(w,{onClick:()=>{P(!1),C(null)},fullWidth:t,sx:{minWidth:t?"100%":"auto"},children:"Zrušiť"}),e.jsx(w,{variant:"contained",color:"error",onClick:oe,fullWidth:t,sx:{minWidth:t?"100%":"auto"},children:"Vymazať"})]})]})]})};class fs{vapidPublicKey=null;subscription=null;registration=null;async initialize(){try{return"serviceWorker"in navigator?"PushManager"in window?(this.registration=await navigator.serviceWorker.ready,this.vapidPublicKey=await this.getVapidPublicKey(),this.vapidPublicKey?!0:(console.warn("VAPID public key not available"),!1)):(console.warn("Push messaging not supported"),!1):(console.warn("Service Workers not supported"),!1)}catch(n){return console.error("❌ Failed to initialize push notifications:",n),!1}}async getVapidPublicKey(){try{return(await(await fetch(`${V()}/push/vapid-key`)).json()).publicKey}catch(n){return console.error("❌ Error getting VAPID key:",n),null}}async requestPermission(){if(!("Notification"in window))return console.warn("Notifications not supported"),"denied";let n=Notification.permission;return n==="default"&&(n=await Notification.requestPermission()),n}async subscribe(){try{if(!this.registration||!this.vapidPublicKey)return console.error("Push notifications not initialized"),!1;if(await this.requestPermission()!=="granted")return console.warn("Notification permission not granted"),!1;let t=await this.registration.pushManager.getSubscription();return t||(t=await this.registration.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:this.urlBase64ToUint8Array(this.vapidPublicKey)})),this.subscription=t,await this.sendSubscriptionToServer(t)?!0:(console.error("❌ Failed to save subscription on server"),!1)}catch(n){return console.error("❌ Failed to subscribe to push notifications:",n),!1}}async unsubscribe(){try{if(!this.registration)return!1;const n=await this.registration.pushManager.getSubscription();return n&&await n.unsubscribe()?(await this.removeSubscriptionFromServer(n),this.subscription=null,!0):!1}catch(n){return console.error("❌ Failed to unsubscribe from push notifications:",n),!1}}async sendSubscriptionToServer(n){try{const t=this.getAuthToken();return(await fetch(`${V()}/push/subscription`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify({subscription:n.toJSON(),timestamp:Date.now(),userAgent:navigator.userAgent})})).ok}catch(t){return console.error("❌ Error sending subscription to server:",t),!1}}async removeSubscriptionFromServer(n){try{const t=this.getAuthToken();return(await fetch(`${V()}/push/subscription`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify({endpoint:n.endpoint})})).ok}catch(t){return console.error("❌ Error removing subscription from server:",t),!1}}async getSubscriptionStatus(){const n="serviceWorker"in navigator&&"PushManager"in window;if(!n)return{isSupported:!1,isSubscribed:!1,permission:"denied"};const t=Notification.permission;this.registration||(this.registration=await navigator.serviceWorker.ready);const c=await this.registration.pushManager.getSubscription();return{isSupported:n,isSubscribed:!!c,permission:t,subscription:c||void 0}}async getNotificationPreferences(){try{const n=this.getAuthToken(),t=await fetch(`${V()}/push/preferences`,{method:"GET",headers:{Authorization:`Bearer ${n}`}});return t.ok?await t.json():null}catch(n){return console.error("❌ Error getting notification preferences:",n),null}}async updateNotificationPreferences(n){try{const t=this.getAuthToken();return(await fetch(`${V()}/push/preferences`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify(n)})).ok}catch(t){return console.error("❌ Error updating notification preferences:",t),!1}}async sendTestNotification(n){try{const t=this.getAuthToken();return(await fetch(`${V()}/push/send`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify(n)})).ok}catch(t){return console.error("❌ Error sending test notification:",t),!1}}async showLocalNotification(n){try{if(Notification.permission!=="granted")return!1;const t=new Notification(n.title,{body:n.body,icon:n.icon||"/logo192.png",badge:n.badge||"/favicon.ico",image:n.image,tag:n.tag,data:n.data,requireInteraction:n.requireInteraction||!1,silent:n.silent||!1,vibrate:n.vibrate||[200,100,200],timestamp:Date.now()});return t.onclick=c=>{c.preventDefault();const i=(n.data||{}).url||"/";window.focus(),i!=="/"&&(window.location.href=i),t.close()},!0}catch(t){return console.error("❌ Error showing local notification:",t),!1}}async getNotificationAnalytics(n,t){try{const c=this.getAuthToken(),p=new URLSearchParams;n&&p.append("startDate",n.toISOString()),t&&p.append("endDate",t.toISOString());const i=await fetch(`${V()}/push/analytics?${p}`,{method:"GET",headers:{Authorization:`Bearer ${c}`}});return i.ok?await i.json():null}catch(c){return console.error("❌ Error getting notification analytics:",c),null}}urlBase64ToUint8Array(n){const t="=".repeat((4-n.length%4)%4),c=(n+t).replace(/-/g,"+").replace(/_/g,"/"),p=window.atob(c),i=new Uint8Array(p.length);for(let x=0;x<p.length;++x)i[x]=p.charCodeAt(x);return i}getAuthToken(){return localStorage.getItem("blackrent_token")||sessionStorage.getItem("blackrent_token")}static isSupported(){return"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window}static getPermissionStatus(){return"Notification"in window?Notification.permission:"denied"}}const D=new fs,vs=({showAdvanced:z=!1,compact:n=!1})=>{const t=fe(),[c,p]=m.useState(!1),[i,x]=m.useState(!1),[g,u]=m.useState("default"),[d,M]=m.useState(null),[ae,R]=m.useState(!0),[Y,T]=m.useState(!1),[ie,P]=m.useState(!1),[L,C]=m.useState(!1),[F,U]=m.useState({title:"BlackRent Test",body:"Toto je testovacia notifikácia",icon:"/logo192.png"});m.useEffect(()=>{ee()},[]);const ee=async()=>{R(!0);try{const o=await D.initialize(),j=await D.getSubscriptionStatus();if(p(j.isSupported),x(j.isSubscribed),u(j.permission),j.isSubscribed){const q=await D.getNotificationPreferences();M(q)}}catch(o){console.error("Failed to initialize notifications:",o)}finally{R(!1)}},H=async()=>{T(!0);try{if(await D.subscribe()){x(!0),u("granted");const j=await D.getNotificationPreferences();M(j)}}catch(o){console.error("Failed to subscribe:",o)}finally{T(!1)}},v=async()=>{T(!0);try{await D.unsubscribe()&&(x(!1),M(null))}catch(o){console.error("Failed to unsubscribe:",o)}finally{T(!1)}},h=async(o,j)=>{if(!d)return;const q={...d,[o]:j};M(q);try{await D.updateNotificationPreferences({[o]:j})}catch(oe){console.error("Failed to update preferences:",oe),M(d)}},$=async()=>{try{await D.sendTestNotification(F)&&P(!1)}catch(o){console.error("Failed to send test notification:",o)}},O=()=>c?!i||g!=="granted"?t.palette.warning.main:t.palette.success.main:t.palette.error.main,E=()=>c?i?g!=="granted"?"Bez povolenia":"Aktívne":"Neaktivované":"Nepodporované",se=()=>c?i?g!=="granted"?e.jsx(es,{}):e.jsx(Le,{}):e.jsx(hs,{}):e.jsx(Ye,{});return ae?e.jsx(Z,{children:e.jsxs(J,{children:[e.jsx(A,{variant:"text",width:"60%",height:32}),e.jsx(A,{variant:"text",width:"80%",height:24,sx:{mt:1}}),e.jsx(A,{variant:"rectangular",height:40,sx:{mt:2}})]})}):n?e.jsxs(a,{sx:{display:"flex",alignItems:"center",gap:2},children:[e.jsx(S,{icon:se(),label:E(),color:i?"success":"default",variant:i?"filled":"outlined"}),c&&e.jsx(W,{checked:i,onChange:i?v:H,disabled:Y})]}):e.jsxs(e.Fragment,{children:[e.jsx(Z,{sx:{background:ue(t.palette.background.paper,.9),backdropFilter:"blur(10px)",border:`1px solid ${ue(t.palette.divider,.2)}`},children:e.jsxs(J,{children:[e.jsxs(a,{sx:{display:"flex",alignItems:"center",mb:3},children:[e.jsx(a,{sx:{mr:2},children:se()}),e.jsxs(a,{sx:{flex:1},children:[e.jsx(l,{variant:"h6",sx:{fontWeight:600},children:"Push Notifikácie"}),e.jsx(l,{variant:"body2",color:"text.secondary",children:E()})]}),e.jsx(S,{label:E(),sx:{backgroundColor:ue(O(),.1),color:O(),fontWeight:600}})]}),!c&&e.jsx(pe,{severity:"error",sx:{mb:2},children:"Váš prehliadač nepodporuje push notifikácie"}),c&&g==="denied"&&e.jsx(pe,{severity:"warning",sx:{mb:2},children:"Notifikácie sú zakázané. Povoľte ich v nastaveniach prehliadača."}),c&&e.jsxs(a,{sx:{mb:3},children:[e.jsx(_,{control:e.jsx(W,{checked:i,onChange:i?v:H,disabled:Y||g==="denied"}),label:i?"Notifikácie zapnuté":"Zapnúť notifikácie",sx:{mb:2}}),e.jsx(a,{sx:{display:"flex",gap:1,flexWrap:"wrap"},children:i&&e.jsxs(e.Fragment,{children:[e.jsx(w,{variant:"outlined",size:"small",startIcon:e.jsx(Ce,{}),onClick:()=>C(!0),children:"Nastavenia"}),z&&e.jsx(w,{variant:"outlined",size:"small",startIcon:e.jsx(me,{}),onClick:()=>P(!0),children:"Test"})]})})]}),i&&d&&e.jsxs(a,{children:[e.jsx(l,{variant:"subtitle2",sx:{mb:1,fontWeight:600},children:"Aktívne notifikácie:"}),e.jsxs(a,{sx:{display:"flex",flexWrap:"wrap",gap:1},children:[d.rental_requests&&e.jsx(S,{size:"small",label:"Žiadosti o prenájom"}),d.rental_approvals&&e.jsx(S,{size:"small",label:"Schválenia prenájmov"}),d.rental_reminders&&e.jsx(S,{size:"small",label:"Pripomienky prenájmov"}),d.maintenance_alerts&&e.jsx(S,{size:"small",label:"Servis vozidiel"}),d.payment_reminders&&e.jsx(S,{size:"small",label:"Platby"})]})]})]})}),e.jsxs(K,{open:L,onClose:()=>C(!1),maxWidth:"sm",fullWidth:!0,children:[e.jsx(G,{children:e.jsxs(a,{sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(Ce,{}),"Nastavenia notifikácií"]})}),e.jsx(Q,{children:d&&e.jsxs(Xe,{children:[e.jsx(l,{variant:"subtitle2",sx:{mt:2,mb:1,fontWeight:600},children:"Typy notifikácií:"}),e.jsx(_,{control:e.jsx(W,{checked:d.rental_requests,onChange:o=>h("rental_requests",o.target.checked)}),label:"Žiadosti o prenájom"}),e.jsx(_,{control:e.jsx(W,{checked:d.rental_approvals,onChange:o=>h("rental_approvals",o.target.checked)}),label:"Schválenia prenájmov"}),e.jsx(_,{control:e.jsx(W,{checked:d.rental_reminders,onChange:o=>h("rental_reminders",o.target.checked)}),label:"Pripomienky prenájmov"}),e.jsx(_,{control:e.jsx(W,{checked:d.maintenance_alerts,onChange:o=>h("maintenance_alerts",o.target.checked)}),label:"Servis vozidiel"}),e.jsx(_,{control:e.jsx(W,{checked:d.payment_reminders,onChange:o=>h("payment_reminders",o.target.checked)}),label:"Pripomienky platieb"}),e.jsx(_,{control:e.jsx(W,{checked:d.marketing_notifications,onChange:o=>h("marketing_notifications",o.target.checked)}),label:"Marketingové oznamy"}),e.jsx(Re,{sx:{my:2}}),e.jsx(l,{variant:"subtitle2",sx:{mb:1,fontWeight:600},children:"Ďalšie možnosti:"}),e.jsx(_,{control:e.jsx(W,{checked:d.email_notifications,onChange:o=>h("email_notifications",o.target.checked)}),label:"Email notifikácie"}),e.jsxs(a,{sx:{mt:2,display:"flex",alignItems:"center",gap:1},children:[e.jsx(xs,{fontSize:"small"}),e.jsxs(l,{variant:"body2",children:["Tichý režim: ",d.quiet_hours_start," - ",d.quiet_hours_end]})]})]})}),e.jsx(X,{children:e.jsx(w,{onClick:()=>C(!1),children:"Zavrieť"})})]}),e.jsxs(K,{open:ie,onClose:()=>P(!1),maxWidth:"sm",fullWidth:!0,children:[e.jsx(G,{children:e.jsxs(a,{sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(me,{}),"Test notifikácie"]})}),e.jsxs(Q,{children:[e.jsx(k,{fullWidth:!0,label:"Nadpis",value:F.title,onChange:o=>U(j=>({...j,title:o.target.value})),sx:{mb:2,mt:1}}),e.jsx(k,{fullWidth:!0,label:"Text",multiline:!0,rows:3,value:F.body,onChange:o=>U(j=>({...j,body:o.target.value})),sx:{mb:2}}),e.jsx(k,{fullWidth:!0,label:"Ikona (URL)",value:F.icon,onChange:o=>U(j=>({...j,icon:o.target.value}))})]}),e.jsxs(X,{children:[e.jsx(w,{onClick:()=>P(!1),children:"Zrušiť"}),e.jsx(w,{variant:"contained",onClick:$,startIcon:e.jsx(me,{}),children:"Odoslať test"})]})]})]})},ze={admin:[{resource:"*",actions:["read","create","update","delete"],conditions:{}}],user:[{resource:"vehicles",actions:["read"]},{resource:"rentals",actions:["read"]},{resource:"customers",actions:["read"]},{resource:"expenses",actions:["read"]},{resource:"settlements",actions:["read"]},{resource:"insurances",actions:["read"]},{resource:"maintenance",actions:["read"]},{resource:"protocols",actions:["read","create","update"]},{resource:"statistics",actions:["read"]}],employee:[{resource:"vehicles",actions:["read","create","update"]},{resource:"rentals",actions:["read","create","update"]},{resource:"customers",actions:["read","create","update"]},{resource:"maintenance",actions:["read","create"]},{resource:"protocols",actions:["read","create","update"]}],temp_worker:[{resource:"vehicles",actions:["read"]},{resource:"rentals",actions:["read","create"]},{resource:"customers",actions:["read","create"]},{resource:"protocols",actions:["read","create"]}],mechanic:[{resource:"vehicles",actions:["read","update"],conditions:{ownOnly:!0}},{resource:"maintenance",actions:["read","create","update","delete"],conditions:{ownOnly:!0}},{resource:"protocols",actions:["read","create","update"],conditions:{ownOnly:!0}}],sales_rep:[{resource:"vehicles",actions:["read"]},{resource:"rentals",actions:["read","create","update"]},{resource:"customers",actions:["read","create","update"]},{resource:"pricing",actions:["read","update"],conditions:{maxAmount:5e3}}],company_owner:[{resource:"vehicles",actions:["read"],conditions:{companyOnly:!0}},{resource:"rentals",actions:["read"],conditions:{companyOnly:!0}},{resource:"expenses",actions:["read"],conditions:{companyOnly:!0}},{resource:"insurances",actions:["read"],conditions:{companyOnly:!0}},{resource:"companies",actions:["read"],conditions:{ownOnly:!0}},{resource:"finances",actions:["read"],conditions:{companyOnly:!0}},{resource:"protocols",actions:["read"],conditions:{companyOnly:!0}}]},js={admin:{name:"Administrátor",icon:ls,color:"error",description:"Úplné práva na všetko"},user:{name:"Používateľ",icon:Pe,color:"default",description:"Základný používateľ s READ-ONLY právami"},employee:{name:"Zamestnanec",icon:ps,color:"info",description:"Základné operácie s vozidlami, prenájmami, zákazníkmi"},temp_worker:{name:"Brigádnik",icon:ts,color:"warning",description:"Obmedzené práva, hlavne čítanie"},mechanic:{name:"Mechanik",icon:us,color:"success",description:"Špecializované práva na údržbu"},sales_rep:{name:"Obchodník",icon:ds,color:"secondary",description:"Obchodné operácie s limitmi"},company_owner:{name:"Majiteľ firmy",icon:ss,color:"primary",description:"Len vlastné vozidlá a súvisiace dáta"}},gs={"*":"Všetko",vehicles:"Vozidlá",rentals:"Prenájmy",customers:"Zákazníci",expenses:"Náklady",settlements:"Vyúčtovanie",insurances:"Poistky/STK",maintenance:"Údržba",protocols:"Protokoly",statistics:"Štatistiky",pricing:"Cenníky",companies:"Firmy",finances:"Financie"};function bs({selectedRole:z,showAllRoles:n=!0}){const t=z?[z]:Object.keys(ze),c=i=>{const x=gs[i.resource]||i.resource,g=i.actions.join(", "),u=i.conditions;let d="";return u?.ownOnly&&(d+=" (len vlastné)"),u?.companyOnly&&(d+=" (len vlastná firma)"),u?.maxAmount&&(d+=` (max ${u.maxAmount}€)`),u?.approvalRequired&&(d+=" (vyžaduje schválenie)"),e.jsxs(Ve,{sx:{py:.5},children:[e.jsx(Fe,{sx:{minWidth:32},children:e.jsx(is,{color:"success",fontSize:"small"})}),e.jsx(He,{primary:e.jsxs(a,{sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(l,{variant:"body2",fontWeight:500,children:x}),e.jsxs(l,{variant:"caption",color:"text.secondary",children:["(",g,")",d]})]})})]},i.resource)},p=i=>{const x=js[i],g=ze[i],u=x.icon;return!x||!g?null:e.jsxs(rs,{defaultExpanded:!n,children:[e.jsx(ns,{expandIcon:e.jsx(Ue,{}),children:e.jsxs(a,{sx:{display:"flex",alignItems:"center",gap:2,width:"100%"},children:[e.jsx(u,{color:x.color}),e.jsxs(a,{sx:{flex:1},children:[e.jsx(l,{variant:"h6",component:"div",children:x.name}),e.jsx(l,{variant:"body2",color:"text.secondary",children:x.description})]}),e.jsx(S,{label:i.toUpperCase(),color:x.color,size:"small",variant:"outlined"})]})}),e.jsx(as,{children:e.jsxs(a,{children:[e.jsx(l,{variant:"subtitle2",gutterBottom:!0,sx:{mb:2},children:"Oprávnenia:"}),i==="admin"?e.jsxs(a,{sx:{p:2,bgcolor:"error.50",borderRadius:1,border:"1px solid",borderColor:"error.200"},children:[e.jsx(l,{variant:"body2",color:"error.main",fontWeight:600,children:"🔥 ÚPLNÉ PRÁVA NA VŠETKO"}),e.jsx(l,{variant:"caption",color:"text.secondary",children:"Administrátor má neobmedzený prístup k celému systému"})]}):e.jsx($e,{dense:!0,sx:{bgcolor:"grey.50",borderRadius:1},children:g.map((d,M)=>c(d))})]})})]},i)};return e.jsxs(a,{children:[e.jsx(l,{variant:"h5",gutterBottom:!0,sx:{mb:3},children:"📋 Práva používateľských rolí"}),e.jsx(a,{sx:{mb:2},children:e.jsx(l,{variant:"body2",color:"text.secondary",children:"Prehľad oprávnení pre jednotlivé role v BlackRent systéme"})}),e.jsx(a,{children:t.map(i=>p(i))})]})}function _s(){const z=fe(),n=xe(z.breakpoints.down("md")),[t,c]=m.useState(0),p=(x,g)=>{c(g)},i=()=>{switch(t){case 0:return e.jsx(Ne,{});case 1:return e.jsx(bs,{});case 2:return e.jsx(vs,{});default:return e.jsx(Ne,{})}};return e.jsx(Ze,{allowedRoles:["admin"],showAccessDeniedMessage:!0,children:e.jsxs(a,{sx:{p:{xs:1,sm:2,md:3},minHeight:"100vh",backgroundColor:{xs:"#f5f5f5",sm:"transparent"}},children:[e.jsx(a,{sx:{borderBottom:1,borderColor:"divider",mb:{xs:2,sm:3},backgroundColor:{xs:"background.paper",sm:"transparent"},mx:{xs:-1,sm:0},px:{xs:2,sm:0},py:{xs:1,sm:0},borderRadius:{xs:"8px 8px 0 0",sm:0}},children:e.jsxs(os,{value:t,onChange:p,"aria-label":"user management tabs",variant:n?"scrollable":"standard",scrollButtons:"auto",allowScrollButtonsMobile:!0,sx:{"& .MuiTab-root":{textTransform:"none",minWidth:{xs:100,sm:140,md:160},fontSize:{xs:"0.8rem",sm:"0.9rem"},fontWeight:500,px:{xs:1,sm:2},py:{xs:1.5,sm:1.5}},"& .Mui-selected":{color:"primary.main",fontWeight:600},"& .MuiTabs-indicator":{height:3,borderRadius:"3px 3px 0 0"}},children:[e.jsx(he,{icon:e.jsx(Pe,{fontSize:n?"small":"medium"}),label:"Správa používateľov",iconPosition:"start"}),e.jsx(he,{icon:e.jsx(cs,{fontSize:n?"small":"medium"}),label:"Práva rolí",iconPosition:"start"}),e.jsx(he,{icon:e.jsx(qe,{fontSize:n?"small":"medium"}),label:"Push notifikácie",iconPosition:"start"})]})}),e.jsx(a,{sx:{mt:0,backgroundColor:{xs:"background.paper",sm:"transparent"},borderRadius:{xs:2,sm:0},mx:{xs:-1,sm:0},overflow:"hidden"},children:i()})]})})}export{_s as default};
