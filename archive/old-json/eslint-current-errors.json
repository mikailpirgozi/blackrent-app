[
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/@types/file-saver.d.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/@types/papaparse.d.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/App.test.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/App.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/app/root-3/page.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/components/Layout.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/components/Statistics.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/components/__tests__/Button.test.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/components/admin/AdvancedUserManagement.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/components/admin/CacheMonitoring.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/components/admin/EmailManagementDashboard.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/components/admin/ImapEmailMonitoring.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/components/admin/R2Configuration.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/components/admin/VehicleOwnershipTransfer.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/components/auth/ChangePasswordForm.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/components/auth/LoginForm.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/components/auth/ProtectedRoute.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/components/availability/AddUnavailabilityModal.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/components/availability/AvailabilityCalendar.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/components/availability/SmartAvailabilityDashboard.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/components/common/BulkDownload.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/components/common/EnhancedErrorToast.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/components/common/EnhancedLoading.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/components/common/EnhancedSearchBar.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/components/common/ErrorBoundary.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/components/common/ErrorNotice.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/components/common/ErrorToast.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/components/common/ErrorToastContainer.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/components/common/ImageGalleryLazy.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/components/common/ImageGalleryModal.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/components/common/InfiniteScrollContainer.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/components/common/LazyDetailView.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/components/common/LazyEditDialog.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/components/common/LazyImage.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/components/common/LoadingStates.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/components/common/MobileDebugPanel.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/components/common/NativeCamera.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/components/common/OfflineIndicator.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/components/common/OptimizedImage.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/components/common/PDFViewer.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/components/common/PWAInstallPrompt.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/components/common/PWAStatus.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/components/common/PerformanceOptimizedList.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/components/common/PermissionGuard.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/components/common/ProtocolGallery.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/components/common/PushNotificationManager.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/components/common/QuickFilters.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/components/common/R2FileUpload.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/components/common/RealTimeNotifications.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/components/common/ResponsiveTable.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/components/common/SerialPhotoCapture.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/components/common/SignaturePad.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/components/common/SkeletonLoader.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/components/common/SuccessToast.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/components/common/UnifiedDocumentForm.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/components/common/v2/SerialPhotoCaptureV2.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/components/companies/CompanyDocumentManager.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/components/customers/CustomerCard.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/components/customers/CustomerForm.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/components/customers/CustomerListNew.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/components/customers/CustomerRentalHistory.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/components/debug/NullChildrenDetector.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/components/demo/SvgDemo.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/components/email-management/EmailManagementLayout.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/components/email-management/components/EmailArchiveTab.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/components/email-management/components/EmailFilters.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/components/email-management/components/EmailHistoryTab.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/components/email-management/components/EmailStatsCards.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/components/email-management/components/ImapStatusCard.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/components/email-management/components/PendingRentalsTab.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/components/email-management/components/StatusChip.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/components/email-management/components/dialogs/EmailDetailDialog.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/components/email-management/components/dialogs/RejectDialog.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/components/email-management/hooks/useEmailApi.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/components/email-management/hooks/useImapStatus.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/components/email-management/hooks/usePendingRentals.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/components/email-management/index.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/components/email-management/types/email-types.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/components/email-management/utils/email-constants.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/components/email-management/utils/email-formatters.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/components/expenses/ExpenseCategoryManager.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/components/expenses/ExpenseForm.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/components/expenses/ExpenseListNew.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/components/expenses/RecurringExpenseManager.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/components/firejet/FrameRoot3.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/components/firejet/MenuRoot3.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/components/firejet/assets/BlackrentLogoRoot3.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/components/firejet/assets/Icon24Px1Root3.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/components/firejet/assets/Icon24PxRoot3.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/components/firejet/assets/IkonyRoot3.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/components/insurances/InsuranceClaimForm.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/components/insurances/InsuranceClaimList.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/components/insurances/InsuranceForm.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/components/insurances/InsuranceList.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/components/insurances/VehicleCentricInsuranceList.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/components/protocols/HandoverProtocolForm.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/components/protocols/ProtocolDetailViewer.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/components/protocols/ReturnProtocolForm.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/components/protocols/v2/HandoverProtocolFormV2.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/components/protocols/v2/HandoverProtocolFormV2Wrapper.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/components/protocols/v2/ReturnProtocolFormV2.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/components/protocols/v2/ReturnProtocolFormV2Wrapper.tsx",
    "messages": [],
    "suppressedMessages": [
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 2,
        "message": "'_rental' is defined but never used.",
        "line": 19,
        "column": 11,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 19,
        "endColumn": 18,
        "suppressions": [{ "kind": "directive", "justification": "" }]
      },
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 2,
        "message": "'_handoverProtocol' is defined but never used.",
        "line": 21,
        "column": 21,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 21,
        "endColumn": 38,
        "suppressions": [{ "kind": "directive", "justification": "" }]
      },
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 2,
        "message": "'_onSave' is defined but never used.",
        "line": 23,
        "column": 11,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 23,
        "endColumn": 18,
        "suppressions": [{ "kind": "directive", "justification": "" }]
      }
    ],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/components/rentals/EditRentalDialog.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/components/rentals/EmailParser.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/components/rentals/EnhancedRentalSearch.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/components/rentals/MobileRentalRow.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/components/rentals/OptimizedRentalRow.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/components/rentals/PendingRentalsManager.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/components/rentals/RentalAdvancedFilters.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/components/rentals/RentalCardView.tsx",
    "messages": [
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 2,
        "message": "'theme' is assigned a value but never used.",
        "line": 70,
        "column": 9,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 70,
        "endColumn": 14
      }
    ],
    "suppressedMessages": [],
    "errorCount": 1,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "import {\n  Business as BusinessIcon,\n  DirectionsCar as CarIcon,\n  CheckCircle as CheckCircleIcon,\n  Delete as DeleteIcon,\n  Edit as EditIcon,\n  Error as ErrorIcon,\n  PhotoLibrary as GalleryIcon,\n  Assignment as HandoverIcon,\n  PictureAsPdf as PDFIcon,\n  Payment as PaymentIcon,\n  Pending as PendingIcon,\n  Person as PersonIcon,\n  AssignmentReturn as ReturnIcon,\n  Schedule as ScheduleIcon,\n  Visibility as VisibilityIcon,\n} from '@mui/icons-material';\nimport {\n  Box,\n  Button,\n  Card,\n  CardContent,\n  Chip,\n  Divider,\n  Grid,\n  IconButton,\n  Tooltip,\n  Typography,\n  useTheme,\n} from '@mui/material';\nimport React, { memo } from 'react';\nimport { formatDateTime } from '../../utils/formatters';\nimport PriceDisplay from './components/PriceDisplay';\n\nimport type { Rental } from '../../types';\n\nexport type CardViewMode = 'grid' | 'list' | 'compact' | 'detailed';\n\ninterface RentalCardViewProps {\n  rentals: Rental[];\n  viewMode: CardViewMode;\n  onEdit: (rental: Rental) => void;\n  onDelete: (rentalId: string) => void;\n  onCreateHandover: (rental: Rental) => void;\n  onCreateReturn: (rental: Rental) => void;\n  onViewPDF: (\n    protocolId: string,\n    type: 'handover' | 'return',\n    title: string\n  ) => void;\n  onOpenGallery: (rental: Rental, protocolType: 'handover' | 'return') => void;\n  onViewProtocols: (rental: Rental) => void;\n  protocols: Record<string, { handover?: unknown; return?: unknown }>;\n  loadingProtocols: string[];\n}\n\nconst RentalCardView: React.FC<RentalCardViewProps> = ({\n  rentals,\n  viewMode,\n  onEdit,\n  onDelete,\n  onCreateHandover,\n  onCreateReturn,\n  onViewPDF,\n  onOpenGallery,\n  onViewProtocols,\n  protocols,\n  loadingProtocols,\n}) => {\n  const theme = useTheme();\n  // const _isMobile = useMediaQuery(theme.breakpoints.down('md')); // TODO: Implement mobile-specific layout\n\n  const getStatusColor = (status: string | undefined) => {\n    switch (status?.toLowerCase()) {\n      case 'aktívny':\n      case 'active':\n        return 'success';\n      case 'dokončený':\n      case 'completed':\n        return 'default';\n      case 'zrušený':\n      case 'cancelled':\n        return 'error';\n      case 'po termíne':\n      case 'overdue':\n        return 'warning';\n      default:\n        return 'default';\n    }\n  };\n\n  const getStatusIcon = (status: string | undefined) => {\n    switch (status?.toLowerCase()) {\n      case 'aktívny':\n      case 'active':\n        return <CheckCircleIcon fontSize=\"small\" />;\n      case 'dokončený':\n      case 'completed':\n        return <CheckCircleIcon fontSize=\"small\" />;\n      case 'zrušený':\n      case 'cancelled':\n        return <ErrorIcon fontSize=\"small\" />;\n      case 'po termíne':\n      case 'overdue':\n        return <PendingIcon fontSize=\"small\" />;\n      default:\n        return <PendingIcon fontSize=\"small\" />;\n    }\n  };\n\n  const renderCompactCard = (rental: Rental) => {\n    const hasHandover = protocols[rental.id]?.handover;\n    const hasReturn = protocols[rental.id]?.return;\n    const isActive =\n      rental.status?.toLowerCase() === 'aktívny' ||\n      rental.status?.toLowerCase() === 'active';\n    // const _isFinished =\n    //   rental.status?.toLowerCase() === 'dokončený' ||\n    //   rental.status?.toLowerCase() === 'completed'; // TODO: Implement finished status logic\n\n    return (\n      <Card\n        key={rental.id}\n        sx={{\n          height: '100%',\n          cursor: 'pointer',\n          transition: 'all 0.3s ease',\n          border: '1px solid',\n          borderColor: isActive ? '#4caf50' : 'divider',\n          '&:hover': {\n            transform: 'translateY(-4px)',\n            boxShadow: '0 8px 25px rgba(0,0,0,0.15)',\n            borderColor: isActive ? '#4caf50' : 'primary.main',\n          },\n          position: 'relative',\n          overflow: 'visible',\n        }}\n        onClick={() => onEdit(rental)}\n      >\n        {/* Status indicator */}\n        <Box\n          sx={{\n            position: 'absolute',\n            top: -8,\n            right: 16,\n            zIndex: 1,\n          }}\n        >\n          <Chip\n            label={rental.status}\n            color={getStatusColor(rental.status)}\n            size=\"small\"\n            icon={getStatusIcon(rental.status)}\n            sx={{\n              fontWeight: 'bold',\n              boxShadow: '0 2px 8px rgba(0,0,0,0.15)',\n            }}\n          />\n        </Box>\n\n        {/* Protocol status indicator */}\n        <Box\n          sx={{\n            position: 'absolute',\n            top: 8,\n            left: 8,\n            zIndex: 1,\n          }}\n        >\n          <Box sx={{ display: 'flex', gap: 0.5 }}>\n            {hasHandover && (\n              <Chip\n                icon={<HandoverIcon />}\n                label=\"\"\n                color=\"success\"\n                size=\"small\"\n                sx={{\n                  minWidth: 32,\n                  height: 24,\n                  '& .MuiChip-icon': { fontSize: 16 },\n                }}\n              />\n            )}\n            {hasReturn && (\n              <Chip\n                icon={<ReturnIcon />}\n                label=\"\"\n                color=\"primary\"\n                size=\"small\"\n                sx={{\n                  minWidth: 32,\n                  height: 24,\n                  '& .MuiChip-icon': { fontSize: 16 },\n                }}\n              />\n            )}\n          </Box>\n        </Box>\n\n        <CardContent sx={{ p: 2, pt: 4 }}>\n          {/* Vehicle info */}\n          <Box sx={{ mb: 1.5 }}>\n            <Box\n              sx={{ display: 'flex', alignItems: 'center', gap: 1, mb: 0.5 }}\n            >\n              <CarIcon color=\"primary\" fontSize=\"small\" />\n              <Typography variant=\"subtitle1\" fontWeight=\"bold\" color=\"primary\">\n                {rental.vehicle\n                  ? `${rental.vehicle.brand} ${rental.vehicle.model}`\n                  : 'Bez vozidla'}\n              </Typography>\n            </Box>\n            <Typography variant=\"body2\" color=\"text.secondary\" sx={{ ml: 3 }}>\n              {rental.vehicle?.licensePlate || 'N/A'}\n            </Typography>\n          </Box>\n\n          {/* Customer */}\n          <Box sx={{ mb: 1.5 }}>\n            <Box sx={{ display: 'flex', alignItems: 'center', gap: 1 }}>\n              <PersonIcon color=\"action\" fontSize=\"small\" />\n              <Typography variant=\"body2\" fontWeight=\"medium\">\n                {rental.customerName}\n              </Typography>\n            </Box>\n          </Box>\n\n          {/* Dates */}\n          <Box sx={{ mb: 1.5 }}>\n            <Box\n              sx={{ display: 'flex', alignItems: 'center', gap: 1, mb: 0.5 }}\n            >\n              <ScheduleIcon color=\"action\" fontSize=\"small\" />\n              <Typography variant=\"body2\" fontWeight=\"medium\">\n                {formatDateTime(rental.startDate)}\n              </Typography>\n            </Box>\n            <Typography variant=\"body2\" color=\"text.secondary\" sx={{ ml: 3 }}>\n              do {formatDateTime(rental.endDate)}\n            </Typography>\n          </Box>\n\n          {/* Price */}\n          <PriceDisplay rental={rental} variant=\"compact\" showExtraKm={false} />\n\n          {/* Protocol actions - vždy zobrazené */}\n          <Box sx={{ display: 'flex', gap: 0.5, mb: 1, flexWrap: 'wrap' }}>\n            <Button\n              size=\"small\"\n              variant=\"outlined\"\n              startIcon={<VisibilityIcon />}\n              onClick={e => {\n                e.stopPropagation();\n                onViewProtocols(rental);\n              }}\n              disabled={loadingProtocols.includes(rental.id)}\n              sx={{ flex: 1, minWidth: 'fit-content' }}\n            >\n              {loadingProtocols.includes(rental.id)\n                ? 'Načítavam...'\n                : 'Zobraziť protokoly'}\n            </Button>\n            {hasHandover && (\n              <Button\n                size=\"small\"\n                variant=\"outlined\"\n                startIcon={<PDFIcon />}\n                onClick={e => {\n                  e.stopPropagation();\n                  onViewPDF(hasHandover.id, 'handover', 'Preberací protokol');\n                }}\n                sx={{ minWidth: 'fit-content' }}\n              >\n                PDF\n              </Button>\n            )}\n            {hasReturn && (\n              <Button\n                size=\"small\"\n                variant=\"outlined\"\n                startIcon={<PDFIcon />}\n                onClick={e => {\n                  e.stopPropagation();\n                  onViewPDF(hasReturn.id, 'return', 'Preberací protokol');\n                }}\n                sx={{ minWidth: 'fit-content' }}\n              >\n                PDF\n              </Button>\n            )}\n          </Box>\n\n          {/* Protocol details when loaded */}\n          {protocols[rental.id] && (\n            <Box sx={{ mb: 1, p: 0.5, bgcolor: 'grey.50', borderRadius: 1 }}>\n              <Typography\n                variant=\"caption\"\n                sx={{ fontWeight: 600, fontSize: '0.65rem' }}\n              >\n                Detaily protokolov:\n              </Typography>\n              {hasHandover && (\n                <Box\n                  sx={{\n                    mt: 0.5,\n                    p: 0.5,\n                    bgcolor: 'success.light',\n                    borderRadius: 1,\n                  }}\n                >\n                  <Typography\n                    variant=\"caption\"\n                    sx={{\n                      fontWeight: 500,\n                      color: 'success.dark',\n                      fontSize: '0.6rem',\n                    }}\n                  >\n                    ✅ Preberací protokol\n                  </Typography>\n                  <Typography\n                    variant=\"caption\"\n                    color=\"text.secondary\"\n                    sx={{ display: 'block', fontSize: '0.55rem' }}\n                  >\n                    {format(\n                      new Date(hasHandover.createdAt),\n                      'dd.MM.yyyy HH:mm',\n                      { locale: sk }\n                    )}\n                  </Typography>\n                </Box>\n              )}\n              {hasReturn && (\n                <Box\n                  sx={{\n                    mt: 0.5,\n                    p: 0.5,\n                    bgcolor: 'success.light',\n                    borderRadius: 1,\n                  }}\n                >\n                  <Typography\n                    variant=\"caption\"\n                    sx={{\n                      fontWeight: 500,\n                      color: 'success.dark',\n                      fontSize: '0.6rem',\n                    }}\n                  >\n                    ✅ Preberací protokol\n                  </Typography>\n                  <Typography\n                    variant=\"caption\"\n                    color=\"text.secondary\"\n                    sx={{ display: 'block', fontSize: '0.55rem' }}\n                  >\n                    {format(new Date(hasReturn.createdAt), 'dd.MM.yyyy HH:mm', {\n                      locale: sk,\n                    })}\n                  </Typography>\n                </Box>\n              )}\n            </Box>\n          )}\n\n          {/* Actions */}\n          <Box\n            sx={{\n              display: 'flex',\n              gap: 0.5,\n              mt: 2,\n              justifyContent: 'flex-end',\n            }}\n          >\n            <Tooltip title=\"Upraviť\">\n              <IconButton\n                size=\"small\"\n                onClick={e => {\n                  e.stopPropagation();\n                  onEdit(rental);\n                }}\n                sx={{\n                  bgcolor: 'primary.main',\n                  color: 'white',\n                  '&:hover': { bgcolor: 'primary.dark' },\n                }}\n              >\n                <EditIcon fontSize=\"small\" />\n              </IconButton>\n            </Tooltip>\n            <Tooltip title=\"Vymazať\">\n              <IconButton\n                size=\"small\"\n                onClick={e => {\n                  e.stopPropagation();\n                  onDelete(rental.id);\n                }}\n                sx={{\n                  bgcolor: 'error.main',\n                  color: 'white',\n                  '&:hover': { bgcolor: 'error.dark' },\n                }}\n              >\n                <DeleteIcon fontSize=\"small\" />\n              </IconButton>\n            </Tooltip>\n          </Box>\n        </CardContent>\n      </Card>\n    );\n  };\n\n  const renderDetailedCard = (rental: Rental) => {\n    const hasHandover = protocols[rental.id]?.handover;\n    const hasReturn = protocols[rental.id]?.return;\n    const isActive =\n      rental.status?.toLowerCase() === 'aktívny' ||\n      rental.status?.toLowerCase() === 'active';\n\n    return (\n      <Card\n        key={rental.id}\n        sx={{\n          height: '100%',\n          cursor: 'pointer',\n          transition: 'all 0.3s ease',\n          border: '1px solid',\n          borderColor: isActive ? '#4caf50' : 'divider',\n          '&:hover': {\n            transform: 'translateY(-4px)',\n            boxShadow: '0 8px 25px rgba(0,0,0,0.15)',\n            borderColor: isActive ? '#4caf50' : 'primary.main',\n          },\n          position: 'relative',\n          overflow: 'visible',\n        }}\n        onClick={() => onEdit(rental)}\n      >\n        {/* Status indicator */}\n        <Box\n          sx={{\n            position: 'absolute',\n            top: -8,\n            right: 16,\n            zIndex: 1,\n          }}\n        >\n          <Chip\n            label={rental.status}\n            color={getStatusColor(rental.status)}\n            size=\"small\"\n            icon={getStatusIcon(rental.status)}\n            sx={{\n              fontWeight: 'bold',\n              boxShadow: '0 2px 8px rgba(0,0,0,0.15)',\n            }}\n          />\n        </Box>\n\n        {/* Protocol status indicator */}\n        <Box\n          sx={{\n            position: 'absolute',\n            top: 8,\n            left: 8,\n            zIndex: 1,\n          }}\n        >\n          <Box sx={{ display: 'flex', gap: 0.5 }}>\n            {hasHandover && (\n              <Chip\n                icon={<HandoverIcon />}\n                label=\"\"\n                color=\"success\"\n                size=\"small\"\n                sx={{\n                  minWidth: 32,\n                  height: 24,\n                  '& .MuiChip-icon': { fontSize: 16 },\n                }}\n              />\n            )}\n            {hasReturn && (\n              <Chip\n                icon={<ReturnIcon />}\n                label=\"\"\n                color=\"primary\"\n                size=\"small\"\n                sx={{\n                  minWidth: 32,\n                  height: 24,\n                  '& .MuiChip-icon': { fontSize: 16 },\n                }}\n              />\n            )}\n          </Box>\n        </Box>\n\n        <CardContent sx={{ p: 3, pt: 4 }}>\n          {/* Vehicle info */}\n          <Box sx={{ mb: 2 }}>\n            <Box sx={{ display: 'flex', alignItems: 'center', gap: 1, mb: 1 }}>\n              <CarIcon color=\"primary\" fontSize=\"small\" />\n              <Typography variant=\"h6\" fontWeight=\"bold\" color=\"primary\">\n                {rental.vehicle\n                  ? `${rental.vehicle.brand} ${rental.vehicle.model}`\n                  : 'Bez vozidla'}\n              </Typography>\n            </Box>\n            <Typography variant=\"body2\" color=\"text.secondary\" sx={{ ml: 3 }}>\n              {rental.vehicle?.licensePlate || 'N/A'}\n            </Typography>\n          </Box>\n\n          {/* Customer and company */}\n          <Box sx={{ mb: 2 }}>\n            <Box sx={{ display: 'flex', alignItems: 'center', gap: 1, mb: 1 }}>\n              <PersonIcon color=\"action\" fontSize=\"small\" />\n              <Typography variant=\"body1\" fontWeight=\"medium\">\n                {rental.customerName}\n              </Typography>\n            </Box>\n            <Box sx={{ display: 'flex', alignItems: 'center', gap: 1 }}>\n              <BusinessIcon color=\"action\" fontSize=\"small\" />\n              <Typography variant=\"body2\" color=\"text.secondary\">\n                {rental.vehicle?.company || 'N/A'}\n              </Typography>\n            </Box>\n          </Box>\n\n          {/* Dates */}\n          <Box sx={{ mb: 2 }}>\n            <Box sx={{ display: 'flex', alignItems: 'center', gap: 1, mb: 1 }}>\n              <ScheduleIcon color=\"action\" fontSize=\"small\" />\n              <Typography variant=\"body2\" fontWeight=\"medium\">\n                Obdobie prenájmu\n              </Typography>\n            </Box>\n            <Typography variant=\"body2\" color=\"text.secondary\" sx={{ ml: 3 }}>\n              {formatDateTime(rental.startDate)} -{' '}\n              {formatDateTime(rental.endDate)}\n            </Typography>\n          </Box>\n\n          {/* Price and commission */}\n          <PriceDisplay rental={rental} variant=\"detailed\" showExtraKm={true} />\n\n          {/* Payment info */}\n          <Box sx={{ mb: 2 }}>\n            <Box sx={{ display: 'flex', alignItems: 'center', gap: 1 }}>\n              <PaymentIcon color=\"action\" fontSize=\"small\" />\n              <Typography variant=\"body2\" color=\"text.secondary\">\n                {rental.paymentMethod} -{' '}\n                {rental.paid ? 'Uhradené' : 'Neuhradené'}\n              </Typography>\n            </Box>\n          </Box>\n\n          <Divider sx={{ my: 2 }} />\n\n          {/* Protocol actions */}\n          <Box sx={{ display: 'flex', gap: 1, mb: 2 }}>\n            {!hasHandover && (\n              <Button\n                size=\"small\"\n                variant=\"outlined\"\n                startIcon={<HandoverIcon />}\n                onClick={e => {\n                  e.stopPropagation();\n                  onCreateHandover(rental);\n                }}\n                sx={{ flex: 1 }}\n              >\n                Preberací protokol\n              </Button>\n            )}\n            {hasHandover && !hasReturn && (\n              <Button\n                size=\"small\"\n                variant=\"outlined\"\n                startIcon={<ReturnIcon />}\n                onClick={e => {\n                  e.stopPropagation();\n                  onCreateReturn(rental);\n                }}\n                sx={{ flex: 1 }}\n              >\n                Protokol vrátenia\n              </Button>\n            )}\n          </Box>\n\n          {/* Protocol actions for existing protocols */}\n          {/* Debug info */}\n          <Box sx={{ mb: 1, p: 0.5, bgcolor: 'info.light', borderRadius: 1 }}>\n            <Typography variant=\"caption\" color=\"info.dark\">\n              Debug: hasHandover={!!hasHandover}, hasReturn={!!hasReturn},\n              protocols={Object.keys(protocols).length}\n            </Typography>\n          </Box>\n\n          {(hasHandover || hasReturn) && (\n            <Box sx={{ display: 'flex', gap: 1, mb: 2 }}>\n              <Button\n                size=\"small\"\n                variant=\"outlined\"\n                startIcon={<VisibilityIcon />}\n                onClick={e => {\n                  e.stopPropagation();\n                  onViewProtocols(rental);\n                }}\n                disabled={loadingProtocols.includes(rental.id)}\n                sx={{ flex: 1 }}\n              >\n                Zobraziť protokoly\n              </Button>\n              {hasHandover && (\n                <Button\n                  size=\"small\"\n                  variant=\"outlined\"\n                  startIcon={<PDFIcon />}\n                  onClick={e => {\n                    e.stopPropagation();\n                    onViewPDF(hasHandover.id, 'handover', 'Preberací protokol');\n                  }}\n                  sx={{ flex: 1 }}\n                >\n                  PDF\n                </Button>\n              )}\n              {hasReturn && (\n                <Button\n                  size=\"small\"\n                  variant=\"outlined\"\n                  startIcon={<PDFIcon />}\n                  onClick={e => {\n                    e.stopPropagation();\n                    onViewPDF(hasReturn.id, 'return', 'Preberací protokol');\n                  }}\n                  sx={{ flex: 1 }}\n                >\n                  PDF\n                </Button>\n              )}\n              {(hasHandover?.images?.length > 0 ||\n                hasReturn?.images?.length > 0) && (\n                <Button\n                  size=\"small\"\n                  variant=\"outlined\"\n                  startIcon={<GalleryIcon />}\n                  onClick={e => {\n                    e.stopPropagation();\n                    onOpenGallery(rental, hasHandover ? 'handover' : 'return');\n                  }}\n                  sx={{ flex: 1 }}\n                >\n                  Galéria\n                </Button>\n              )}\n            </Box>\n          )}\n\n          {/* Protocol details when loaded */}\n          {protocols[rental.id] && (\n            <Box sx={{ mb: 2, p: 1, bgcolor: 'grey.50', borderRadius: 1 }}>\n              <Typography variant=\"subtitle2\" sx={{ mb: 1, fontWeight: 600 }}>\n                Detaily protokolov:\n              </Typography>\n              {hasHandover && (\n                <Box\n                  sx={{\n                    mb: 1,\n                    p: 1,\n                    bgcolor: 'success.light',\n                    borderRadius: 1,\n                  }}\n                >\n                  <Typography\n                    variant=\"body2\"\n                    sx={{ fontWeight: 500, color: 'success.dark' }}\n                  >\n                    ✅ Preberací protokol\n                  </Typography>\n                  <Typography variant=\"caption\" color=\"text.secondary\">\n                    Vytvorený:{' '}\n                    {format(\n                      new Date(hasHandover.createdAt),\n                      'dd.MM.yyyy HH:mm',\n                      { locale: sk }\n                    )}\n                  </Typography>\n                </Box>\n              )}\n              {hasReturn && (\n                <Box\n                  sx={{\n                    mb: 1,\n                    p: 1,\n                    bgcolor: 'success.light',\n                    borderRadius: 1,\n                  }}\n                >\n                  <Typography\n                    variant=\"body2\"\n                    sx={{ fontWeight: 500, color: 'success.dark' }}\n                  >\n                    ✅ Preberací protokol\n                  </Typography>\n                  <Typography variant=\"caption\" color=\"text.secondary\">\n                    Vytvorený:{' '}\n                    {format(new Date(hasReturn.createdAt), 'dd.MM.yyyy HH:mm', {\n                      locale: sk,\n                    })}\n                  </Typography>\n                </Box>\n              )}\n            </Box>\n          )}\n\n          {/* Protocol details when loaded */}\n          {protocols[rental.id] && (\n            <Box sx={{ mb: 2, p: 1, bgcolor: 'grey.50', borderRadius: 1 }}>\n              <Typography\n                variant=\"subtitle2\"\n                sx={{ mb: 1, fontWeight: 600, fontSize: '0.75rem' }}\n              >\n                Detaily protokolov:\n              </Typography>\n              {hasHandover && (\n                <Box\n                  sx={{\n                    mb: 1,\n                    p: 0.5,\n                    bgcolor: 'success.light',\n                    borderRadius: 1,\n                  }}\n                >\n                  <Typography\n                    variant=\"caption\"\n                    sx={{ fontWeight: 500, color: 'success.dark' }}\n                  >\n                    ✅ Preberací protokol\n                  </Typography>\n                  <Typography\n                    variant=\"caption\"\n                    color=\"text.secondary\"\n                    sx={{ display: 'block', fontSize: '0.65rem' }}\n                  >\n                    {format(\n                      new Date(hasHandover.createdAt),\n                      'dd.MM.yyyy HH:mm',\n                      { locale: sk }\n                    )}\n                  </Typography>\n                </Box>\n              )}\n              {hasReturn && (\n                <Box\n                  sx={{\n                    mb: 1,\n                    p: 0.5,\n                    bgcolor: 'success.light',\n                    borderRadius: 1,\n                  }}\n                >\n                  <Typography\n                    variant=\"caption\"\n                    sx={{ fontWeight: 500, color: 'success.dark' }}\n                  >\n                    ✅ Preberací protokol\n                  </Typography>\n                  <Typography\n                    variant=\"caption\"\n                    color=\"text.secondary\"\n                    sx={{ display: 'block', fontSize: '0.65rem' }}\n                  >\n                    {format(new Date(hasReturn.createdAt), 'dd.MM.yyyy HH:mm', {\n                      locale: sk,\n                    })}\n                  </Typography>\n                </Box>\n              )}\n            </Box>\n          )}\n\n          {/* Actions */}\n          <Box\n            sx={{\n              display: 'flex',\n              gap: 1,\n              justifyContent: 'flex-end',\n            }}\n          >\n            <Tooltip title=\"Upraviť\">\n              <IconButton\n                size=\"small\"\n                onClick={e => {\n                  e.stopPropagation();\n                  onEdit(rental);\n                }}\n                sx={{\n                  bgcolor: 'primary.main',\n                  color: 'white',\n                  '&:hover': { bgcolor: 'primary.dark' },\n                }}\n              >\n                <EditIcon fontSize=\"small\" />\n              </IconButton>\n            </Tooltip>\n            <Tooltip title=\"Vymazať\">\n              <IconButton\n                size=\"small\"\n                onClick={e => {\n                  e.stopPropagation();\n                  onDelete(rental.id);\n                }}\n                sx={{\n                  bgcolor: 'error.main',\n                  color: 'white',\n                  '&:hover': { bgcolor: 'error.dark' },\n                }}\n              >\n                <DeleteIcon fontSize=\"small\" />\n              </IconButton>\n            </Tooltip>\n          </Box>\n        </CardContent>\n      </Card>\n    );\n  };\n\n  const renderCard = (rental: Rental) => {\n    switch (viewMode) {\n      case 'compact':\n        return renderCompactCard(rental);\n      case 'detailed':\n        return renderDetailedCard(rental);\n      default:\n        return renderCompactCard(rental);\n    }\n  };\n\n  const getGridSize = () => {\n    switch (viewMode) {\n      case 'compact':\n        return { xs: 12, sm: 6, md: 4, lg: 3, xl: 2 };\n      case 'detailed':\n        return { xs: 12, sm: 12, md: 6, lg: 4, xl: 3 };\n      default:\n        return { xs: 12, sm: 6, md: 4, lg: 3, xl: 2 };\n    }\n  };\n\n  return (\n    <Grid container spacing={{ xs: 1, md: 2 }}>\n      {rentals.map(rental => (\n        <Grid item key={rental.id} {...getGridSize()}>\n          {renderCard(rental)}\n        </Grid>\n      ))}\n    </Grid>\n  );\n};\n\nexport default memo(RentalCardView);\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/components/rentals/RentalDashboard.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/components/rentals/RentalFilters.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/components/rentals/RentalForm.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/components/rentals/RentalList.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/components/rentals/RentalMobileCard.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/components/rentals/RentalStatusChip.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/components/rentals/RentalTableHeader.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/components/rentals/RentalTableRow.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/components/rentals/RentalViewToggle.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/components/rentals/components/PriceDisplay.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/components/rentals/components/PriceSummary.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/components/rentals/components/RentalActions.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/components/rentals/components/RentalCard.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/components/rentals/components/RentalExport.tsx",
    "messages": [
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 18,
        "column": 16,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 18,
        "endColumn": 19,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [533, 536], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [533, 536], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 19,
        "column": 16,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 19,
        "endColumn": 19,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [555, 558], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [555, 558], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 20,
        "column": 15,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 20,
        "endColumn": 18,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [576, 579], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [576, 579], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 2,
        "message": "'isMobile' is defined but never used.",
        "line": 30,
        "column": 3,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 30,
        "endColumn": 11
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 163,
        "column": 36,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 163,
        "endColumn": 39,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [5360, 5363], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [5360, 5363], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 164,
        "column": 37,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 164,
        "endColumn": 40,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [5408, 5411], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [5408, 5411], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 165,
        "column": 37,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 165,
        "endColumn": 40,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [5456, 5459], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [5456, 5459], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 171,
        "column": 47,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 171,
        "endColumn": 50,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [5736, 5739], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [5736, 5739], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 617,
        "column": 54,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 617,
        "endColumn": 57,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [23651, 23654], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [23651, 23654], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 9,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "import {\n  FileUpload as DownloadIcon,\n  FileDownload as ExportIcon,\n} from '@mui/icons-material';\nimport { Box, Button } from '@mui/material';\nimport { saveAs } from 'file-saver';\nimport Papa from 'papaparse';\nimport React, { useCallback, useRef } from 'react';\nimport { v4 as uuidv4 } from 'uuid';\n\nimport { apiService } from '../../../services/api';\nimport type { Rental } from '../../../types';\nimport { logger } from '../../../utils/logger';\n\ninterface RentalExportProps {\n  filteredRentals: Rental[];\n  state: {\n    customers: any[];\n    companies: any[];\n    vehicles: any[];\n    rentals: Rental[];\n  };\n  isMobile: boolean;\n  setImportError: (error: string) => void;\n}\n\nexport const RentalExport: React.FC<RentalExportProps> = ({\n  filteredRentals,\n  state,\n  isMobile,\n  setImportError,\n}) => {\n  const fileInputRef = useRef<HTMLInputElement>(null);\n\n  // Export prenájmov do CSV\n  const exportRentalsToCSV = useCallback((rentals: Rental[]) => {\n    // Stĺpce v CSV súbori:\n    // - id: unikátne ID prenájmu\n    // - licensePlate: ŠPZ vozidla (podľa ktorej sa nájde auto a firma)\n    // - company: názov firmy vozidla\n    // - brand: značka vozidla\n    // - model: model vozidla\n    // - customerName: meno zákazníka\n    // - customerEmail: email zákazníka (voliteľné)\n    // - startDate: dátum začiatku prenájmu (formát ISO 8601 - 2025-01-03T23:00:00.000Z)\n    // - endDate: dátum konca prenájmu (formát ISO 8601 - 2025-01-03T23:00:00.000Z)\n    // - totalPrice: celková cena prenájmu v €\n    // - commission: provízia v € (vypočítaná rovnako ako v UI)\n    // - paymentMethod: spôsob platby (cash/bank_transfer/vrp/direct_to_owner)\n    // - discountType: typ zľavy (percentage/fixed) - voliteľné\n    // - discountValue: hodnota zľavy - voliteľné\n    // - customCommissionType: typ vlastnej provízie (percentage/fixed) - voliteľné\n    // - customCommissionValue: hodnota vlastnej provízie - voliteľné\n    // - extraKmCharge: doplatok za km v € - voliteľné\n    // - paid: či je uhradené (1=áno, 0=nie)\n    // - handoverPlace: miesto prevzatia - voliteľné\n    // - confirmed: či je potvrdené (1=áno, 0=nie)\n\n    // 🔧 HELPER: Výpočet provízie rovnako ako v UI\n    const calculateCommission = (rental: Rental): number => {\n      // ✅ OPRAVENÉ: totalPrice už obsahuje všetko (základná cena + doplatok za km)\n      // Netreba pridávať extraKmCharge znovu!\n      const totalPrice = rental.totalPrice;\n\n      // Ak je nastavená customCommission, použije sa tá\n      if (rental.customCommission?.value && rental.customCommission.value > 0) {\n        if (rental.customCommission.type === 'percentage') {\n          return (totalPrice * rental.customCommission.value) / 100;\n        } else {\n          return rental.customCommission.value;\n        }\n      }\n\n      // Inak sa použije commission z vozidla\n      if (rental.vehicle?.commission) {\n        if (rental.vehicle.commission.type === 'percentage') {\n          return (totalPrice * rental.vehicle.commission.value) / 100;\n        } else {\n          return rental.vehicle.commission.value;\n        }\n      }\n\n      // Fallback na uloženú commission z databázy\n      return rental.commission || 0;\n    };\n\n    const header = [\n      'id',\n      'licensePlate',\n      'company',\n      'brand',\n      'model',\n      'customerName',\n      'customerEmail',\n      'startDate',\n      'endDate',\n      'totalPrice',\n      'commission',\n      'paymentMethod',\n      'discountType',\n      'discountValue',\n      'customCommissionType',\n      'customCommissionValue',\n      'extraKmCharge',\n      'paid',\n      'handoverPlace',\n      'confirmed',\n    ];\n    const rows = rentals.map(r => [\n      r.id,\n      r.vehicle?.licensePlate || '',\n      r.vehicle?.company || '',\n      r.vehicle?.brand || '',\n      r.vehicle?.model || '',\n      r.customerName,\n      r.customer?.email || '',\n      (() => {\n        const startDate =\n          r.startDate instanceof Date ? r.startDate : new Date(r.startDate);\n        return !isNaN(startDate.getTime())\n          ? startDate.toISOString()\n          : String(r.startDate);\n      })(),\n      (() => {\n        const endDate =\n          r.endDate instanceof Date ? r.endDate : new Date(r.endDate);\n        return !isNaN(endDate.getTime())\n          ? endDate.toISOString()\n          : String(r.endDate);\n      })(),\n      r.totalPrice,\n      calculateCommission(r), // 🔧 OPRAVENÉ: Používa vypočítanú províziu\n      r.paymentMethod,\n      r.discount?.type || '',\n      r.discount?.value ?? '',\n      r.customCommission?.type || '',\n      r.customCommission?.value ?? '',\n      r.extraKmCharge ?? '',\n      r.paid ? '1' : '0',\n      r.handoverPlace || '',\n      r.confirmed ? '1' : '0',\n    ]);\n    const csv = [header, ...rows]\n      .map(row =>\n        row.map(val => '\"' + String(val).replace(/\"/g, '\"\"') + '\"').join(',')\n      )\n      .join('\\n');\n    const blob = new Blob([csv], { type: 'text/csv;charset=utf-8;' });\n    saveAs(blob, 'prenajmy.csv');\n  }, []);\n\n  // Import prenájmov z CSV\n  const handleImportCSV = useCallback(\n    (e: React.ChangeEvent<HTMLInputElement>) => {\n      const file = e.target.files?.[0];\n      if (!file) return;\n      Papa.parse(file, {\n        header: true,\n        skipEmptyLines: true,\n        complete: async (results: ReturnType<typeof Papa.parse>) => {\n          try {\n            const imported = [];\n            const createdVehicles: any[] = [];\n            const createdCustomers: any[] = [];\n            const createdCompanies: any[] = [];\n\n            // 📦 BATCH PROCESSING: Pripravíme všetky prenájmy pre batch import\n            const batchRentals = [];\n\n            // Najskôr spracujeme všetky riadky a vytvoríme zákazníkov, firmy a vozidlá ak je potrebné\n            for (const row of results.data as any[]) {\n              logger.debug('Processing CSV row', {\n                rowIndex: results.data.indexOf(row),\n              });\n\n              // 1. VYTVORENIE ZÁKAZNÍKA AK NEEXISTUJE\n              const customerName = row.customerName || 'Neznámy zákazník';\n              const customerEmail = row.customerEmail || '';\n\n              // 🔍 DETAILNÉ HĽADANIE ZÁKAZNÍKA S DIAKRITIKU\n              console.log(\n                `🔍 CUSTOMER SEARCH [${results.data.indexOf(row)}]:`,\n                {\n                  csvCustomerName: customerName,\n                  csvCustomerNameLength: customerName.length,\n                  availableCustomers: state.customers\n                    .slice(0, 5)\n                    .map(c => c.name),\n                }\n              );\n\n              let existingCustomer = state.customers.find(\n                c =>\n                  c.name.toLowerCase() === customerName.toLowerCase() ||\n                  (customerEmail && c.email === customerEmail)\n              );\n\n              // Ak nenašiel exact match, skús fuzzy match pre diakritiku\n              if (!existingCustomer && customerName !== 'Neznámy zákazník') {\n                const normalizeString = (str: string) =>\n                  str\n                    .toLowerCase()\n                    .normalize('NFD')\n                    .replace(/[\\u0300-\\u036f]/g, '') // odstráni diakritiku\n                    .trim();\n\n                const normalizedCustomerName = normalizeString(customerName);\n                console.log(\n                  `🔍 FUZZY SEARCH for: \"${customerName}\" -> normalized: \"${normalizedCustomerName}\"`\n                );\n\n                existingCustomer = state.customers.find(c => {\n                  const normalizedDbName = normalizeString(c.name || '');\n                  const match = normalizedDbName === normalizedCustomerName;\n                  if (match) {\n                    console.log(\n                      `✅ FUZZY MATCH: \"${customerName}\" -> \"${c.name}\" (ID: ${c.id})`\n                    );\n                  }\n                  return match;\n                });\n\n                if (!existingCustomer) {\n                  console.log(`❌ NO CUSTOMER FOUND for: \"${customerName}\"`);\n                }\n              } else if (existingCustomer) {\n                console.log(\n                  `✅ EXACT MATCH: \"${customerName}\" -> ID: ${existingCustomer.id}`\n                );\n              }\n\n              // Skontroluj aj v aktuálne vytvorených zákazníkoch\n              if (!existingCustomer) {\n                existingCustomer = createdCustomers.find(\n                  c =>\n                    c.name.toLowerCase() === customerName.toLowerCase() ||\n                    (customerEmail && c.email === customerEmail)\n                );\n\n                // Fuzzy match aj v vytvorených zákazníkoch\n                if (!existingCustomer && customerName !== 'Neznámy zákazník') {\n                  const normalizeString = (str: string) =>\n                    str\n                      .toLowerCase()\n                      .normalize('NFD')\n                      .replace(/[\\u0300-\\u036f]/g, '')\n                      .trim();\n\n                  const normalizedCustomerName = normalizeString(customerName);\n                  existingCustomer = createdCustomers.find(c => {\n                    const normalizedDbName = normalizeString(c.name || '');\n                    return normalizedDbName === normalizedCustomerName;\n                  });\n\n                  if (existingCustomer) {\n                    console.log(\n                      `✅ FUZZY MATCH in created customers: \"${customerName}\" -> \"${existingCustomer.name}\"`\n                    );\n                  }\n                }\n              }\n\n              // Ak zákazník neexistuje, vytvor ho\n              if (!existingCustomer && customerName !== 'Neznámy zákazník') {\n                try {\n                  const newCustomer = {\n                    id: uuidv4(),\n                    name: customerName,\n                    email: customerEmail,\n                    phone: '',\n                    address: '',\n                    notes: '',\n                    createdAt: new Date(),\n                  };\n                  await apiService.createCustomer(newCustomer);\n                  createdCustomers.push(newCustomer);\n                  logger.info('Customer created during import', {\n                    customerName,\n                  });\n                } catch (error) {\n                  logger.error('Failed to create customer during import', {\n                    customerName,\n                    error,\n                  });\n                }\n              }\n\n              // 2. VYTVORENIE FIRMY AK NEEXISTUJE\n              const companyName = row.company || 'Neznáma firma';\n              let existingCompany = state.companies.find(\n                c => c.name.toLowerCase() === companyName.toLowerCase()\n              );\n\n              if (!existingCompany) {\n                existingCompany = createdCompanies.find(\n                  c => c.name.toLowerCase() === companyName.toLowerCase()\n                );\n              }\n\n              if (!existingCompany && companyName !== 'Neznáma firma') {\n                try {\n                  const newCompany = {\n                    id: uuidv4(),\n                    name: companyName,\n                    address: '',\n                    phone: '',\n                    email: '',\n                    commissionRate: 20.0,\n                    isActive: true,\n                    createdAt: new Date(),\n                  };\n                  await apiService.createCompany(newCompany);\n                  createdCompanies.push(newCompany);\n                  logger.info('Company created during import', { companyName });\n                } catch (error) {\n                  logger.error('Failed to create company during import', {\n                    companyName,\n                    error,\n                  });\n                }\n              }\n\n              // 3. VYTVORENIE VOZIDLA AK NEEXISTUJE\n              const licensePlate = row.licensePlate;\n              if (!licensePlate) {\n                logger.warn('Missing license plate, skipping row', {\n                  rowIndex: results.data.indexOf(row),\n                });\n                continue;\n              }\n\n              let vehicle = state.vehicles.find(\n                v => v.licensePlate.toLowerCase() === licensePlate.toLowerCase()\n              );\n\n              if (!vehicle) {\n                vehicle = createdVehicles.find(\n                  v =>\n                    v.licensePlate.toLowerCase() === licensePlate.toLowerCase()\n                );\n              }\n\n              if (!vehicle) {\n                try {\n                  const finalCompany =\n                    existingCompany ||\n                    createdCompanies.find(\n                      c => c.name.toLowerCase() === companyName.toLowerCase()\n                    );\n\n                  if (!finalCompany) {\n                    logger.warn('Missing company for vehicle, skipping', {\n                      licensePlate,\n                    });\n                    continue;\n                  }\n\n                  const newVehicle = {\n                    id: uuidv4(),\n                    licensePlate: licensePlate,\n                    brand: row.brand || 'Neznáma značka',\n                    model: row.model || 'Neznámy model',\n                    companyId: finalCompany.id,\n                    company: finalCompany.name,\n                    year: new Date().getFullYear(),\n                    fuelType: 'benzín',\n                    transmission: 'manuál',\n                    seats: 5,\n                    dailyRate: Number(row.totalPrice) || 50,\n                    commission: {\n                      type: 'percentage' as const,\n                      value: 20,\n                    },\n                    pricing: [],\n                    status: 'available' as const,\n                    notes: '',\n                  };\n                  await apiService.createVehicle(newVehicle);\n                  createdVehicles.push(newVehicle);\n                  logger.info('Vehicle created during import', {\n                    licensePlate,\n                    brand: row.brand,\n                    model: row.model,\n                  });\n                } catch (error) {\n                  logger.error('Failed to create vehicle during import', {\n                    licensePlate,\n                    error,\n                  });\n                  continue;\n                }\n              }\n\n              // Parsuje dátumy - iba dátum bez času, zachováva formát pre export\n              const parseDate = (dateStr: string) => {\n                if (!dateStr) return new Date();\n\n                // Skúsi ISO 8601 formát (YYYY-MM-DDTHH:mm:ss.sssZ alebo YYYY-MM-DD)\n                // Ale iba ak má správny formát (obsahuje - alebo T)\n                if (dateStr.includes('-') || dateStr.includes('T')) {\n                  const isoDate = new Date(dateStr);\n                  if (!isNaN(isoDate.getTime())) {\n                    // ✅ OPRAVENÉ: Extrahuje dátum z UTC času, nie lokálneho\n                    return new Date(\n                      Date.UTC(\n                        isoDate.getUTCFullYear(),\n                        isoDate.getUTCMonth(),\n                        isoDate.getUTCDate()\n                      )\n                    );\n                  }\n                }\n\n                // Fallback na formát s bodkami - podporuje \"14.1.\" alebo \"14.1.2025\"\n                let cleanDateStr = dateStr.trim();\n\n                // Odstráni koncovú bodku ak je tam (\"14.1.\" -> \"14.1\")\n                if (cleanDateStr.endsWith('.')) {\n                  cleanDateStr = cleanDateStr.slice(0, -1);\n                }\n\n                const parts = cleanDateStr.split('.');\n                if (parts.length === 2) {\n                  // Formát dd.M - automaticky pridá rok 2025\n                  const day = Number(parts[0]);\n                  const month = Number(parts[1]) - 1; // január = 0, február = 1, atď.\n\n                  // Validácia dátumu\n                  if (day >= 1 && day <= 31 && month >= 0 && month <= 11) {\n                    // Vytvor dátum v UTC aby sa predišlo timezone konverzii\n                    return new Date(Date.UTC(2025, month, day));\n                  }\n                } else if (parts.length === 3) {\n                  // Formát dd.M.yyyy - ak je tam rok\n                  const day = Number(parts[0]);\n                  const month = Number(parts[1]) - 1;\n                  const year = Number(parts[2]);\n\n                  // Validácia dátumu\n                  if (\n                    day >= 1 &&\n                    day <= 31 &&\n                    month >= 0 &&\n                    month <= 11 &&\n                    year >= 1900 &&\n                    year <= 2100\n                  ) {\n                    // Vytvor dátum v UTC aby sa predišlo timezone konverzii\n                    return new Date(Date.UTC(year, month, day));\n                  }\n                }\n\n                // Ak nič nefunguje, vráti dnešný dátum\n                console.warn(\n                  `Nepodarilo sa parsovať dátum: \"${dateStr}\", používam dnešný dátum`\n                );\n                return new Date();\n              };\n\n              // Priradenie zákazníka na základe existujúceho alebo novo vytvoreného\n              let finalCustomer =\n                existingCustomer ||\n                createdCustomers.find(\n                  c =>\n                    c.name.toLowerCase() === customerName.toLowerCase() ||\n                    (customerEmail && c.email === customerEmail)\n                );\n\n              // Posledná šanca - fuzzy match pre finálne priradenie\n              if (!finalCustomer && customerName !== 'Neznámy zákazník') {\n                const normalizeString = (str: string) =>\n                  str\n                    .toLowerCase()\n                    .normalize('NFD')\n                    .replace(/[\\u0300-\\u036f]/g, '')\n                    .trim();\n\n                const normalizedCustomerName = normalizeString(customerName);\n                finalCustomer = [...state.customers, ...createdCustomers].find(\n                  c => {\n                    const normalizedDbName = normalizeString(c.name || '');\n                    return normalizedDbName === normalizedCustomerName;\n                  }\n                );\n\n                if (finalCustomer) {\n                  console.log(\n                    `✅ FINAL FUZZY MATCH: \"${customerName}\" -> \"${finalCustomer.name}\" (ID: ${finalCustomer.id})`\n                  );\n                } else {\n                  console.log(\n                    `❌ FINAL: NO CUSTOMER FOUND for: \"${customerName}\"`\n                  );\n                }\n              }\n\n              // Automatické priradenie majiteľa na základe vozidla\n              // Ak existuje vozidlo a nie je zadaný spôsob platby, nastav platbu priamo majiteľovi\n              let finalPaymentMethod = row.paymentMethod || 'cash';\n\n              // Ak je nájdené vozidlo na základe ŠPZ a nie je zadaný paymentMethod,\n              // automaticky nastav platbu priamo majiteľovi vozidla\n              if (vehicle && !row.paymentMethod) {\n                finalPaymentMethod = 'direct_to_owner';\n                logger.info('Auto-assigned direct payment to vehicle owner', {\n                  licensePlate: vehicle.licensePlate,\n                  company: vehicle.company,\n                });\n              }\n\n              // ✅ OPRAVENÉ: Výpočet provízie rovnako ako v exporte\n              const finalCommission = (() => {\n                const totalPrice = Number(row.totalPrice) || 0;\n\n                // 1. Ak je zadaná commission priamo v CSV, použije sa tá\n                if (row.commission && Number(row.commission) > 0) {\n                  return Number(row.commission);\n                }\n\n                // 2. Ak je zadaná customCommission v CSV, použije sa tá\n                if (row.customCommissionType && row.customCommissionValue) {\n                  if (row.customCommissionType === 'percentage') {\n                    return (\n                      (totalPrice * Number(row.customCommissionValue)) / 100\n                    );\n                  } else {\n                    return Number(row.customCommissionValue);\n                  }\n                }\n\n                // 3. Inak sa použije commission z vozidla\n                if (vehicle?.commission) {\n                  if (vehicle.commission.type === 'percentage') {\n                    return (totalPrice * vehicle.commission.value) / 100;\n                  } else {\n                    return vehicle.commission.value;\n                  }\n                }\n\n                // 4. Fallback na 0\n                return 0;\n              })();\n\n              if (!row.commission && vehicle?.commission) {\n                logger.info('Auto-calculated commission for vehicle', {\n                  licensePlate: vehicle.licensePlate,\n                  commission: finalCommission,\n                  type: vehicle.commission.type,\n                  value: vehicle.commission.value,\n                });\n              }\n\n              // Log informácií o majiteľovi/firme vozidla\n              if (vehicle) {\n                logger.debug('Vehicle assigned to rental', {\n                  licensePlate: vehicle.licensePlate,\n                  owner: vehicle.company,\n                });\n              }\n\n              const startDate = parseDate(row.startDate);\n              const endDate = parseDate(row.endDate);\n\n              // KONTROLA DUPLICÍT PRENÁJMU\n              // Skontroluj, či už existuje prenájom s týmito parametrami\n              const duplicateRental = state.rentals.find(existingRental => {\n                // Kontrola podľa vozidla a dátumov\n                if (vehicle?.id && existingRental.vehicleId === vehicle.id) {\n                  const existingStart = new Date(existingRental.startDate);\n                  const existingEnd = new Date(existingRental.endDate);\n\n                  // Ak sa dátumy zhodujú (rovnaký deň)\n                  if (\n                    existingStart.toDateString() === startDate.toDateString() &&\n                    existingEnd.toDateString() === endDate.toDateString()\n                  ) {\n                    return true;\n                  }\n                }\n                return false;\n              });\n\n              if (duplicateRental) {\n                logger.warn('Duplicate rental detected, skipping', {\n                  licensePlate: vehicle?.licensePlate,\n                  startDate: startDate.toLocaleDateString(),\n                  endDate: endDate.toLocaleDateString(),\n                });\n                continue;\n              }\n\n              // 🔍 DEBUG: Parsovanie ceny z CSV\n              const rawTotalPrice = row.totalPrice;\n              const parsedTotalPrice = Number(row.totalPrice) || 0;\n\n              console.log('🔍 CSV PRICE DEBUG:', {\n                rowIndex: results.data.indexOf(row),\n                customerName,\n                rawTotalPrice,\n                parsedTotalPrice,\n                typeOfRaw: typeof rawTotalPrice,\n                isNaN: isNaN(Number(rawTotalPrice)),\n              });\n\n              // Vytvorenie prenájmu\n              const newRental = {\n                id: row.id || uuidv4(),\n                vehicleId: vehicle?.id || undefined,\n                vehicle: vehicle,\n                customerId: finalCustomer?.id || undefined,\n                customer: finalCustomer,\n                customerName: customerName,\n                startDate: startDate,\n                endDate: endDate,\n                totalPrice: parsedTotalPrice,\n                commission: finalCommission,\n                paymentMethod: finalPaymentMethod as any,\n                discount: row.discountType\n                  ? {\n                      type: row.discountType as 'percentage' | 'fixed',\n                      value: Number(row.discountValue) || 0,\n                    }\n                  : undefined,\n                customCommission: row.customCommissionType\n                  ? {\n                      type: row.customCommissionType as 'percentage' | 'fixed',\n                      value: Number(row.customCommissionValue) || 0,\n                    }\n                  : undefined,\n                extraKmCharge: Number(row.extraKmCharge) || 0,\n                paid: row.paid === '1' || row.paid === true,\n                handoverPlace: row.handoverPlace || '',\n                confirmed: row.confirmed === '1' || row.confirmed === true,\n                status: 'active' as const,\n                notes: '',\n                createdAt: new Date(),\n              };\n\n              // 📦 BATCH: Pridaj prenájom do batch zoznamu namiesto okamžitého vytvorenia\n              batchRentals.push(newRental);\n              logger.debug('Rental prepared for batch import', {\n                customer: customerName,\n                licensePlate: vehicle?.licensePlate,\n                totalPrice: parsedTotalPrice,\n                startDate: startDate.toLocaleDateString(),\n                endDate: endDate.toLocaleDateString(),\n              });\n            }\n\n            // 🚀 BATCH IMPORT: Vytvor všetky prenájmy naraz\n            if (batchRentals.length > 0) {\n              try {\n                logger.info(\n                  `🚀 Starting batch import of ${batchRentals.length} rentals...`\n                );\n                const batchResult =\n                  await apiService.batchImportRentals(batchRentals);\n\n                logger.info('✅ Batch import completed', {\n                  processed: batchResult.processed,\n                  total: batchResult.total,\n                  successRate: batchResult.successRate,\n                  errors: batchResult.errors.length,\n                });\n\n                // Log errors if any\n                if (batchResult.errors.length > 0) {\n                  logger.warn('Batch import errors:', batchResult.errors);\n                }\n\n                imported.push(...batchResult.results);\n              } catch (error) {\n                logger.error('Batch import failed', { error });\n                throw error;\n              }\n            }\n\n            logger.info('CSV import completed successfully', {\n              importedCount: imported.length,\n              totalRows: results.data.length,\n            });\n            setImportError('');\n\n            // Refresh dát\n            window.location.reload();\n          } catch (error) {\n            logger.error('CSV import failed', { error });\n            setImportError('Chyba pri importe CSV súboru');\n          }\n\n          // Reset file input\n          if (fileInputRef.current) fileInputRef.current.value = '';\n        },\n      });\n    },\n    [state, setImportError]\n  );\n\n  return (\n    <Box\n      sx={{\n        display: 'flex',\n        gap: { xs: 1, md: 2 },\n        mb: 3,\n        mx: { xs: 1, md: 0 }, // Menší symetrický margin na mobile\n        flexWrap: 'wrap',\n        alignItems: 'center',\n      }}\n    >\n      {/* Export CSV */}\n      <Button\n        variant=\"outlined\"\n        startIcon={<ExportIcon />}\n        onClick={() => exportRentalsToCSV(filteredRentals)}\n        sx={{\n          minWidth: { xs: 'auto', md: '120px' },\n          fontSize: { xs: '0.8rem', md: '0.875rem' },\n          px: { xs: 2, md: 3 },\n          py: { xs: 1, md: 1.5 },\n          borderRadius: 2,\n          display: { xs: 'none', md: 'inline-flex' }, // Skryté na mobile\n        }}\n      >\n        Export CSV\n      </Button>\n\n      {/* Import CSV */}\n      <Button\n        variant=\"outlined\"\n        startIcon={<DownloadIcon />}\n        onClick={() => fileInputRef.current?.click()}\n        sx={{\n          minWidth: { xs: 'auto', md: '120px' },\n          fontSize: { xs: '0.8rem', md: '0.875rem' },\n          px: { xs: 2, md: 3 },\n          py: { xs: 1, md: 1.5 },\n          borderRadius: 2,\n          display: { xs: 'none', md: 'inline-flex' }, // Skryté na mobile\n        }}\n      >\n        Import CSV\n      </Button>\n      <input\n        type=\"file\"\n        accept=\".csv\"\n        hidden\n        onChange={handleImportCSV}\n        ref={fileInputRef}\n      />\n    </Box>\n  );\n};\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/components/rentals/components/RentalFilters.tsx",
    "messages": [
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 2,
        "message": "'uniqueVehicleBrands' is defined but never used.",
        "line": 114,
        "column": 3,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 114,
        "endColumn": 22
      }
    ],
    "suppressedMessages": [],
    "errorCount": 1,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "import {\n  FilterList as FilterListIcon,\n  Refresh as RefreshIcon,\n  Search as SearchIcon,\n} from '@mui/icons-material';\nimport {\n  Box,\n  Button,\n  Card,\n  CardContent,\n  Chip,\n  Collapse,\n  Divider,\n  FormControl,\n  Grid,\n  IconButton,\n  InputLabel,\n  MenuItem,\n  Select,\n  TextField,\n  Typography,\n} from '@mui/material';\nimport React from 'react';\n\n// Types - PRESNE TIE ISTÉ ako v RentalListNew.tsx\ninterface FilterState {\n  // Základné filtre - arrays pre multi-select\n  status: string[];\n  paymentMethod: string[];\n  company: string[];\n  dateFrom: string;\n  dateTo: string;\n  priceMin: string;\n  priceMax: string;\n  protocolStatus: string[];\n\n  // Rozšírené filtre\n  customerName: string;\n  vehicleBrand: string;\n  vehicleModel: string;\n  licensePlate: string;\n  customerEmail: string;\n  customerPhone: string;\n  customerCompany: string;\n  insuranceCompany: string;\n  insuranceType: string;\n\n  // Časové filtre\n  timeFilter: string;\n\n  // Cenové filtre\n  priceRange: string;\n\n  // Stav platby\n  paymentStatus: string;\n\n  // Zobrazenie\n  showOnlyActive: boolean;\n  showOnlyOverdue: boolean;\n  showOnlyCompleted: boolean;\n}\n\ninterface RentalFiltersProps {\n  // Search state\n  searchQuery: string;\n  setSearchQuery: (value: string) => void;\n\n  // Filter visibility\n  showFilters: boolean;\n  setShowFilters: (value: boolean) => void;\n\n  // Advanced filters\n  advancedFilters: FilterState;\n  handleAdvancedFiltersChange: (filters: FilterState) => void;\n\n  // Helper functions\n  toggleFilterValue: (filterKey: keyof FilterState, value: string) => void;\n  isFilterValueSelected: (\n    filterKey: keyof FilterState,\n    value: string\n  ) => boolean;\n  resetAllFilters: () => void;\n\n  // Unique values for dropdowns\n  uniquePaymentMethods: string[];\n  uniqueCompanies: string[];\n  uniqueStatuses: string[];\n  uniqueVehicleBrands: string[];\n  uniqueInsuranceCompanies: string[];\n  uniqueInsuranceTypes: string[];\n\n  // Filtered rentals count\n  filteredRentalsCount: number;\n  totalRentalsCount: number;\n\n  // Mobile filters\n  showFiltersMobile: boolean;\n  setShowFiltersMobile: () => void;\n}\n\nexport const RentalFilters: React.FC<RentalFiltersProps> = ({\n  searchQuery,\n  setSearchQuery,\n  showFilters,\n  setShowFilters,\n  advancedFilters,\n  handleAdvancedFiltersChange,\n  toggleFilterValue,\n  isFilterValueSelected,\n  resetAllFilters,\n  uniquePaymentMethods,\n  uniqueCompanies,\n  uniqueStatuses,\n  uniqueVehicleBrands,\n  filteredRentalsCount,\n  totalRentalsCount,\n}) => {\n  return (\n    <Card\n      sx={{\n        mb: 3,\n        mx: { xs: 1, md: 0 }, // Menší symetrický margin na mobile\n        backgroundColor: 'background.paper',\n        boxShadow: '0 4px 20px rgba(0,0,0,0.08)',\n        border: '1px solid rgba(0,0,0,0.06)',\n      }}\n    >\n      <CardContent sx={{ p: { xs: 2, md: 3 } }}>\n        {/* Hlavný riadok s vyhľadávaním a tlačidlami */}\n        <Box\n          sx={{\n            display: 'flex',\n            flexDirection: { xs: 'column', md: 'row' },\n            gap: 2,\n            alignItems: { xs: 'stretch', md: 'center' },\n            mb: 2,\n          }}\n        >\n          {/* Search Input */}\n          <Box\n            sx={{\n              display: 'flex',\n              alignItems: 'center',\n              flex: { xs: 'none', md: 1 },\n              minWidth: { xs: '100%', md: 250 },\n            }}\n          >\n            <TextField\n              placeholder=\"Hľadať prenájmy...\"\n              variant=\"outlined\"\n              size=\"small\"\n              value={searchQuery}\n              onChange={e => setSearchQuery(e.target.value)}\n              fullWidth\n              sx={{\n                '& .MuiOutlinedInput-root': {\n                  borderRadius: 3,\n                  backgroundColor: 'background.default',\n                  transition: 'all 0.3s ease',\n                  '&:hover': {\n                    backgroundColor: 'action.hover',\n                    transform: 'translateY(-1px)',\n                    boxShadow: '0 4px 12px rgba(0,0,0,0.1)',\n                  },\n                  '&.Mui-focused': {\n                    backgroundColor: 'background.paper',\n                    transform: 'translateY(-2px)',\n                    boxShadow: '0 6px 20px rgba(0,0,0,0.15)',\n                  },\n                },\n              }}\n              InputProps={{\n                startAdornment: (\n                  <Box sx={{ mr: 1, color: 'text.secondary' }}>\n                    <SearchIcon fontSize=\"small\" />\n                  </Box>\n                ),\n              }}\n            />\n          </Box>\n\n          {/* Sorting controls */}\n          <Box\n            sx={{\n              display: 'flex',\n              gap: 1,\n              alignItems: 'center',\n              minWidth: { xs: '100%', md: 'auto' },\n            }}\n          >\n            <FormControl size=\"small\" sx={{ minWidth: 140 }}>\n              <InputLabel>Zoradiť podľa</InputLabel>\n              <Select\n                value={advancedFilters.sortBy}\n                label=\"Zoradiť podľa\"\n                onChange={e =>\n                  handleAdvancedFiltersChange({\n                    ...advancedFilters,\n                    sortBy: e.target.value as\n                      | 'created_at'\n                      | 'start_date'\n                      | 'end_date',\n                  })\n                }\n                sx={{\n                  borderRadius: 2,\n                  backgroundColor: 'background.default',\n                  '&:hover': {\n                    backgroundColor: 'action.hover',\n                  },\n                }}\n              >\n                <MenuItem value=\"created_at\">Dátumu vytvorenia</MenuItem>\n                <MenuItem value=\"start_date\">Dátumu začiatku</MenuItem>\n                <MenuItem value=\"end_date\">Dátumu konca</MenuItem>\n              </Select>\n            </FormControl>\n\n            <FormControl size=\"small\" sx={{ minWidth: 100 }}>\n              <Select\n                value={advancedFilters.sortOrder}\n                onChange={e =>\n                  handleAdvancedFiltersChange({\n                    ...advancedFilters,\n                    sortOrder: e.target.value as 'asc' | 'desc',\n                  })\n                }\n                sx={{\n                  borderRadius: 2,\n                  backgroundColor: 'background.default',\n                  '&:hover': {\n                    backgroundColor: 'action.hover',\n                  },\n                }}\n              >\n                <MenuItem value=\"desc\">\n                  {advancedFilters.sortBy === 'created_at'\n                    ? 'Najnovšie'\n                    : 'Zostupne'}\n                </MenuItem>\n                <MenuItem value=\"asc\">\n                  {advancedFilters.sortBy === 'created_at'\n                    ? 'Najstaršie'\n                    : 'Vzostupne'}\n                </MenuItem>\n              </Select>\n            </FormControl>\n          </Box>\n\n          {/* Tlačidlá v riadku na mobile, vedľa seba na desktop */}\n          <Box\n            sx={{\n              display: 'flex',\n              flexDirection: { xs: 'row', md: 'row' },\n              gap: 1,\n              flexWrap: 'wrap',\n              justifyContent: { xs: 'space-between', md: 'flex-start' },\n            }}\n          >\n            {/* 🚀 KOMPAKTNÉ FILTRE - len ikonka */}\n            <IconButton\n              onClick={() => setShowFilters(!showFilters)}\n              size=\"small\"\n              sx={{\n                borderRadius: 2,\n                border: '1px solid',\n                borderColor: showFilters ? 'primary.main' : 'rgba(0,0,0,0.23)',\n                bgcolor: showFilters ? 'primary.main' : 'transparent',\n                color: showFilters ? 'white' : 'inherit',\n                transition: 'all 0.3s ease',\n                '&:hover': {\n                  bgcolor: showFilters ? 'primary.dark' : 'rgba(0,0,0,0.04)',\n                  transform: 'translateY(-1px)',\n                  boxShadow: '0 4px 12px rgba(0,0,0,0.1)',\n                },\n              }}\n            >\n              <FilterListIcon fontSize=\"small\" />\n            </IconButton>\n\n            {/* Reset Button */}\n            <Button\n              variant=\"outlined\"\n              startIcon={<RefreshIcon />}\n              onClick={resetAllFilters}\n              size=\"small\"\n              sx={{\n                borderRadius: 2,\n                textTransform: 'none',\n                fontWeight: 500,\n                transition: 'all 0.3s ease',\n                fontSize: { xs: '0.75rem', md: '0.875rem' },\n                px: { xs: 1, md: 2 },\n                '&:hover': {\n                  bgcolor: 'error.light',\n                  color: 'white',\n                  borderColor: 'error.main',\n                  transform: 'translateY(-1px)',\n                  boxShadow: '0 4px 12px rgba(0,0,0,0.1)',\n                },\n              }}\n            >\n              Reset\n            </Button>\n          </Box>\n        </Box>\n\n        {/* Search results info */}\n        {(searchQuery ||\n          (Array.isArray(advancedFilters.status) &&\n            advancedFilters.status.length > 0) ||\n          (Array.isArray(advancedFilters.paymentMethod) &&\n            advancedFilters.paymentMethod.length > 0) ||\n          (Array.isArray(advancedFilters.company) &&\n            advancedFilters.company.length > 0) ||\n          advancedFilters.dateFrom ||\n          advancedFilters.dateTo ||\n          advancedFilters.priceMin ||\n          advancedFilters.priceMax ||\n          (Array.isArray(advancedFilters.protocolStatus) &&\n            advancedFilters.protocolStatus.length > 0)) && (\n          <Typography variant=\"body2\" color=\"text.secondary\" sx={{ mb: 2 }}>\n            Zobrazených: {filteredRentalsCount} z {totalRentalsCount} prenájmov\n          </Typography>\n        )}\n\n        {/* 🚀 RÝCHLE FILTRE - len tie najdôležitejšie */}\n        <Box\n          sx={{\n            display: 'flex',\n            gap: 1,\n            flexWrap: 'wrap',\n            mb: 2,\n            alignItems: 'center',\n          }}\n        >\n          <Typography variant=\"caption\" color=\"text.secondary\" sx={{ mr: 1 }}>\n            Rýchle filtre:\n            {/* Počet označených filtrov */}\n            {(() => {\n              const totalSelected =\n                (Array.isArray(advancedFilters.paymentMethod)\n                  ? advancedFilters.paymentMethod.length\n                  : 0) +\n                (Array.isArray(advancedFilters.status)\n                  ? advancedFilters.status.length\n                  : 0) +\n                (Array.isArray(advancedFilters.protocolStatus)\n                  ? advancedFilters.protocolStatus.length\n                  : 0);\n              return totalSelected > 0 ? (\n                <Chip\n                  label={totalSelected}\n                  size=\"small\"\n                  color=\"primary\"\n                  variant=\"filled\"\n                  sx={{\n                    ml: 1,\n                    height: 20,\n                    fontSize: '0.7rem',\n                    fontWeight: 'bold',\n                  }}\n                />\n              ) : null;\n            })()}\n          </Typography>\n\n          {/* Spôsob platby */}\n          {uniquePaymentMethods.slice(0, 3).map(method => {\n            const getPaymentMethodLabel = (method: string) => {\n              switch (method) {\n                case 'cash':\n                  return 'Hotovosť';\n                case 'bank_transfer':\n                  return 'Bankový prevod';\n                case 'direct_to_owner':\n                  return 'Priamo majiteľovi';\n                case 'card':\n                  return 'Kartou';\n                case 'crypto':\n                  return 'Kryptomeny';\n                default:\n                  return method;\n              }\n            };\n\n            return (\n              <Chip\n                key={method}\n                label={getPaymentMethodLabel(method)}\n                size=\"small\"\n                variant={\n                  isFilterValueSelected('paymentMethod', method)\n                    ? 'filled'\n                    : 'outlined'\n                }\n                color={\n                  isFilterValueSelected('paymentMethod', method)\n                    ? 'primary'\n                    : 'default'\n                }\n                onClick={() => toggleFilterValue('paymentMethod', method)}\n                sx={{\n                  borderRadius: 2,\n                  '&:hover': { transform: 'translateY(-1px)' },\n                  transition: 'all 0.2s ease',\n                  // Výrazné zvýraznenie označených filtrov\n                  ...(isFilterValueSelected('paymentMethod', method) && {\n                    fontWeight: 'bold',\n                    boxShadow: '0 2px 8px rgba(25, 118, 210, 0.3)',\n                    border: '2px solid',\n                    borderColor: 'primary.main',\n                  }),\n                }}\n              />\n            );\n          })}\n\n          <Divider orientation=\"vertical\" flexItem sx={{ mx: 1 }} />\n\n          {/* Stav prenájmu */}\n          <Chip\n            label=\"Aktívne\"\n            size=\"small\"\n            variant={\n              isFilterValueSelected('status', 'active') ? 'filled' : 'outlined'\n            }\n            color={\n              isFilterValueSelected('status', 'active') ? 'success' : 'default'\n            }\n            onClick={() => toggleFilterValue('status', 'active')}\n            sx={{\n              borderRadius: 2,\n              '&:hover': { transform: 'translateY(-1px)' },\n              transition: 'all 0.2s ease',\n              // Výrazné zvýraznenie označených filtrov\n              ...(isFilterValueSelected('status', 'active') && {\n                fontWeight: 'bold',\n                boxShadow: '0 2px 8px rgba(46, 125, 50, 0.3)',\n                border: '2px solid',\n                borderColor: 'success.main',\n              }),\n            }}\n          />\n          <Chip\n            label=\"Čakajúci\"\n            size=\"small\"\n            variant={\n              isFilterValueSelected('status', 'pending') ? 'filled' : 'outlined'\n            }\n            color={\n              isFilterValueSelected('status', 'pending') ? 'warning' : 'default'\n            }\n            onClick={() => toggleFilterValue('status', 'pending')}\n            sx={{\n              borderRadius: 2,\n              '&:hover': { transform: 'translateY(-1px)' },\n              transition: 'all 0.2s ease',\n              // Výrazné zvýraznenie označených filtrov\n              ...(isFilterValueSelected('status', 'pending') && {\n                fontWeight: 'bold',\n                boxShadow: '0 2px 8px rgba(237, 108, 2, 0.3)',\n                border: '2px solid',\n                borderColor: 'warning.main',\n              }),\n            }}\n          />\n          <Chip\n            label=\"Ukončené\"\n            size=\"small\"\n            variant={\n              isFilterValueSelected('status', 'completed')\n                ? 'filled'\n                : 'outlined'\n            }\n            color={\n              isFilterValueSelected('status', 'completed') ? 'info' : 'default'\n            }\n            onClick={() => toggleFilterValue('status', 'completed')}\n            sx={{\n              borderRadius: 2,\n              '&:hover': { transform: 'translateY(-1px)' },\n              transition: 'all 0.2s ease',\n              // Výrazné zvýraznenie označených filtrov\n              ...(isFilterValueSelected('status', 'completed') && {\n                fontWeight: 'bold',\n                boxShadow: '0 2px 8px rgba(2, 136, 209, 0.3)',\n                border: '2px solid',\n                borderColor: 'info.main',\n              }),\n            }}\n          />\n\n          <Divider orientation=\"vertical\" flexItem sx={{ mx: 1 }} />\n\n          {/* Platobné filtre */}\n          <Chip\n            label=\"Zaplatené\"\n            size=\"small\"\n            variant={\n              isFilterValueSelected('paymentStatus', 'paid')\n                ? 'filled'\n                : 'outlined'\n            }\n            color={\n              isFilterValueSelected('paymentStatus', 'paid')\n                ? 'success'\n                : 'default'\n            }\n            onClick={() => toggleFilterValue('paymentStatus', 'paid')}\n            sx={{\n              borderRadius: 2,\n              '&:hover': { transform: 'translateY(-1px)' },\n              transition: 'all 0.2s ease',\n              ...(isFilterValueSelected('paymentStatus', 'paid') && {\n                fontWeight: 'bold',\n                boxShadow: '0 2px 8px rgba(46, 125, 50, 0.3)',\n                border: '2px solid',\n                borderColor: 'success.main',\n              }),\n            }}\n          />\n          <Chip\n            label=\"Nezaplatené\"\n            size=\"small\"\n            variant={\n              isFilterValueSelected('paymentStatus', 'unpaid')\n                ? 'filled'\n                : 'outlined'\n            }\n            color={\n              isFilterValueSelected('paymentStatus', 'unpaid')\n                ? 'error'\n                : 'default'\n            }\n            onClick={() => toggleFilterValue('paymentStatus', 'unpaid')}\n            sx={{\n              borderRadius: 2,\n              '&:hover': { transform: 'translateY(-1px)' },\n              transition: 'all 0.2s ease',\n              ...(isFilterValueSelected('paymentStatus', 'unpaid') && {\n                fontWeight: 'bold',\n                boxShadow: '0 2px 8px rgba(211, 47, 47, 0.3)',\n                border: '2px solid',\n                borderColor: 'error.main',\n              }),\n            }}\n          />\n\n          <Divider orientation=\"vertical\" flexItem sx={{ mx: 1 }} />\n\n          {/* Stavy protokolov */}\n          <Chip\n            label=\"Bez protokolu\"\n            size=\"small\"\n            variant={\n              isFilterValueSelected('protocolStatus', 'none')\n                ? 'filled'\n                : 'outlined'\n            }\n            color={\n              isFilterValueSelected('protocolStatus', 'none')\n                ? 'warning'\n                : 'default'\n            }\n            onClick={() => toggleFilterValue('protocolStatus', 'none')}\n            sx={{\n              borderRadius: 2,\n              '&:hover': { transform: 'translateY(-1px)' },\n              transition: 'all 0.2s ease',\n              ...(isFilterValueSelected('protocolStatus', 'none') && {\n                fontWeight: 'bold',\n                boxShadow: '0 2px 8px rgba(237, 108, 2, 0.3)',\n                border: '2px solid',\n                borderColor: 'warning.main',\n              }),\n            }}\n          />\n          <Chip\n            label=\"S protokolom\"\n            size=\"small\"\n            variant={\n              isFilterValueSelected('protocolStatus', 'with_handover')\n                ? 'filled'\n                : 'outlined'\n            }\n            color={\n              isFilterValueSelected('protocolStatus', 'with_handover')\n                ? 'success'\n                : 'default'\n            }\n            onClick={() => toggleFilterValue('protocolStatus', 'with_handover')}\n            sx={{\n              borderRadius: 2,\n              '&:hover': { transform: 'translateY(-1px)' },\n              transition: 'all 0.2s ease',\n              ...(isFilterValueSelected('protocolStatus', 'with_handover') && {\n                fontWeight: 'bold',\n                boxShadow: '0 2px 8px rgba(46, 125, 50, 0.3)',\n                border: '2px solid',\n                borderColor: 'success.main',\n              }),\n            }}\n          />\n        </Box>\n\n        {/* Pokročilé filtre */}\n        <Collapse in={showFilters}>\n          <Divider sx={{ my: 2 }} />\n          <Box sx={{ p: 3 }}>\n            <Typography\n              variant=\"h6\"\n              sx={{ mb: 3, display: 'flex', alignItems: 'center', gap: 1 }}\n            >\n              <FilterListIcon fontSize=\"small\" />\n              Filtre\n            </Typography>\n\n            <Grid container spacing={3}>\n              {/* Spôsob platby */}\n              <Grid item xs={12} sm={6} md={4}>\n                <FormControl size=\"small\" fullWidth>\n                  <InputLabel>Spôsob platby</InputLabel>\n                  <Select\n                    multiple\n                    value={\n                      Array.isArray(advancedFilters.paymentMethod)\n                        ? advancedFilters.paymentMethod\n                        : []\n                    }\n                    onChange={e =>\n                      handleAdvancedFiltersChange({\n                        ...advancedFilters,\n                        paymentMethod: Array.isArray(e.target.value)\n                          ? e.target.value\n                          : [e.target.value],\n                      })\n                    }\n                    label=\"Spôsob platby\"\n                    renderValue={selected => (\n                      <Box sx={{ display: 'flex', flexWrap: 'wrap', gap: 0.5 }}>\n                        {(selected as string[]).map(value => {\n                          const getPaymentMethodLabel = (method: string) => {\n                            switch (method) {\n                              case 'cash':\n                                return 'Hotovosť';\n                              case 'bank_transfer':\n                                return 'Bankový prevod';\n                              case 'direct_to_owner':\n                                return 'Priamo majiteľovi';\n                              case 'card':\n                                return 'Kartou';\n                              case 'crypto':\n                                return 'Kryptomeny';\n                              default:\n                                return method;\n                            }\n                          };\n                          return (\n                            <Chip\n                              key={value}\n                              label={getPaymentMethodLabel(value)}\n                              size=\"small\"\n                            />\n                          );\n                        })}\n                      </Box>\n                    )}\n                  >\n                    {uniquePaymentMethods.map(method => {\n                      const getPaymentMethodLabel = (method: string) => {\n                        switch (method) {\n                          case 'cash':\n                            return 'Hotovosť';\n                          case 'bank_transfer':\n                            return 'Bankový prevod';\n                          case 'direct_to_owner':\n                            return 'Priamo majiteľovi';\n                          case 'card':\n                            return 'Kartou';\n                          case 'crypto':\n                            return 'Kryptomeny';\n                          default:\n                            return method;\n                        }\n                      };\n                      return (\n                        <MenuItem key={method} value={method}>\n                          {getPaymentMethodLabel(method)}\n                        </MenuItem>\n                      );\n                    })}\n                  </Select>\n                </FormControl>\n              </Grid>\n\n              {/* Firma */}\n              <Grid item xs={12} sm={6} md={4}>\n                <FormControl size=\"small\" fullWidth>\n                  <InputLabel>Firma</InputLabel>\n                  <Select\n                    multiple\n                    value={\n                      Array.isArray(advancedFilters.company)\n                        ? advancedFilters.company\n                        : []\n                    }\n                    onChange={e =>\n                      handleAdvancedFiltersChange({\n                        ...advancedFilters,\n                        company: Array.isArray(e.target.value)\n                          ? e.target.value\n                          : [e.target.value],\n                      })\n                    }\n                    label=\"Firma\"\n                    renderValue={selected => (\n                      <Box sx={{ display: 'flex', flexWrap: 'wrap', gap: 0.5 }}>\n                        {(selected as string[]).map(value => (\n                          <Chip key={value} label={value} size=\"small\" />\n                        ))}\n                      </Box>\n                    )}\n                  >\n                    {uniqueCompanies.map(company => (\n                      <MenuItem key={company} value={company}>\n                        {company}\n                      </MenuItem>\n                    ))}\n                  </Select>\n                </FormControl>\n              </Grid>\n\n              {/* Stav prenájmu */}\n              <Grid item xs={12} sm={6} md={4}>\n                <FormControl size=\"small\" fullWidth>\n                  <InputLabel>Stav prenájmu</InputLabel>\n                  <Select\n                    multiple\n                    value={\n                      Array.isArray(advancedFilters.status)\n                        ? advancedFilters.status\n                        : []\n                    }\n                    onChange={e =>\n                      handleAdvancedFiltersChange({\n                        ...advancedFilters,\n                        status: Array.isArray(e.target.value)\n                          ? e.target.value\n                          : [e.target.value],\n                      })\n                    }\n                    label=\"Stav prenájmu\"\n                    renderValue={selected => (\n                      <Box sx={{ display: 'flex', flexWrap: 'wrap', gap: 0.5 }}>\n                        {(selected as string[]).map(value => (\n                          <Chip key={value} label={value} size=\"small\" />\n                        ))}\n                      </Box>\n                    )}\n                  >\n                    {uniqueStatuses.map(status => (\n                      <MenuItem key={status} value={status}>\n                        {status}\n                      </MenuItem>\n                    ))}\n                  </Select>\n                </FormControl>\n              </Grid>\n\n              {/* Dátum od */}\n              <Grid item xs={12} sm={6} md={4}>\n                <TextField\n                  size=\"small\"\n                  fullWidth\n                  label=\"Dátum od\"\n                  type=\"date\"\n                  value={advancedFilters.dateFrom || ''}\n                  onChange={e =>\n                    handleAdvancedFiltersChange({\n                      ...advancedFilters,\n                      dateFrom: e.target.value,\n                    })\n                  }\n                  InputLabelProps={{ shrink: true }}\n                />\n              </Grid>\n\n              {/* Dátum do */}\n              <Grid item xs={12} sm={6} md={4}>\n                <TextField\n                  size=\"small\"\n                  fullWidth\n                  label=\"Dátum do\"\n                  type=\"date\"\n                  value={advancedFilters.dateTo || ''}\n                  onChange={e =>\n                    handleAdvancedFiltersChange({\n                      ...advancedFilters,\n                      dateTo: e.target.value,\n                    })\n                  }\n                  InputLabelProps={{ shrink: true }}\n                />\n              </Grid>\n            </Grid>\n          </Box>\n        </Collapse>\n      </CardContent>\n    </Card>\n  );\n};\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/components/rentals/components/RentalListHeader.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/components/rentals/components/RentalProtocols.tsx",
    "messages": [
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 58,
        "column": 42,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 58,
        "endColumn": 45,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [1588, 1591], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [1588, 1591], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 58,
        "column": 56,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 58,
        "endColumn": 59,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [1602, 1605], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [1602, 1605], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 68,
        "column": 24,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 68,
        "endColumn": 27,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [1905, 1908], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [1905, 1908], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 70,
        "column": 34,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 70,
        "endColumn": 37,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [1980, 1983], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [1980, 1983], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 71,
        "column": 32,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 71,
        "endColumn": 35,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [2025, 2028], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [2025, 2028], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 5,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "import {\n  PhotoLibrary as GalleryIcon,\n  PictureAsPdf as PDFIcon,\n} from '@mui/icons-material';\nimport {\n  Box,\n  Button,\n  CircularProgress,\n  Dialog,\n  DialogContent,\n  DialogTitle,\n  Typography,\n} from '@mui/material';\nimport React from 'react';\n\nimport type { ProtocolImage, ProtocolVideo, Rental } from '../../../types';\nimport PDFViewer from '../../common/PDFViewer';\nimport ProtocolGallery from '../../common/ProtocolGallery';\nimport ReturnProtocolForm from '../../protocols/ReturnProtocolForm';\nimport RentalForm from '../RentalForm';\n\n// 🚀 LAZY LOADING: Protocols loaded only when needed\nconst HandoverProtocolForm = React.lazy(\n  () => import('../../protocols/HandoverProtocolForm')\n);\n\n// 🚀 V2 PROTOCOL FORMS - loaded when V2 is enabled\nconst HandoverProtocolFormV2 = React.lazy(\n  () => import('../../protocols/v2/HandoverProtocolFormV2Wrapper')\n);\nconst ReturnProtocolFormV2 = React.lazy(\n  () => import('../../protocols/v2/ReturnProtocolFormV2Wrapper')\n);\n\ninterface RentalDialogsProps {\n  // Dialog states\n  openDialog: boolean;\n  openHandoverDialog: boolean;\n  openReturnDialog: boolean;\n  openProtocolMenu: boolean;\n  pdfViewerOpen: boolean;\n  galleryOpen: boolean;\n\n  // Selected data\n  editingRental: Rental | null;\n  selectedRentalForProtocol: Rental | null;\n  selectedProtocolType: 'handover' | 'return' | null;\n  selectedPdf: {\n    url: string;\n    type: 'handover' | 'return';\n    title: string;\n  } | null;\n  galleryImages: ProtocolImage[];\n  galleryVideos: ProtocolVideo[];\n  galleryTitle: string;\n\n  // Protocols data\n  protocols: Record<string, { handover?: any; return?: any }>;\n  protocolStatusMap: Record<\n    string,\n    { hasHandoverProtocol: boolean; hasReturnProtocol: boolean }\n  >;\n\n  // Event handlers\n  setOpenDialog: (open: boolean) => void;\n  setOpenHandoverDialog: (open: boolean) => void;\n  setOpenReturnDialog: (open: boolean) => void;\n  handleSave: (rental: any) => void;\n  handleCancel: () => void;\n  handleSaveHandover: (protocol: any) => void;\n  handleSaveReturn: (protocol: any) => void;\n  handleClosePDF: () => void;\n  handleCloseGallery: () => void;\n  handleCloseProtocolMenu: () => void;\n  handleDownloadPDF: () => void;\n  handleViewGallery: () => void;\n}\n\nexport const RentalProtocols: React.FC<RentalDialogsProps> = ({\n  // Dialog states\n  openDialog,\n  openHandoverDialog,\n  openReturnDialog,\n  openProtocolMenu,\n  pdfViewerOpen,\n  galleryOpen,\n\n  // Selected data\n  editingRental,\n  selectedRentalForProtocol,\n  selectedProtocolType,\n  selectedPdf,\n  galleryImages,\n  galleryVideos,\n  galleryTitle,\n\n  // Protocols data\n  protocols,\n  protocolStatusMap,\n\n  // Event handlers\n  setOpenDialog,\n  setOpenHandoverDialog,\n  setOpenReturnDialog,\n  handleSave,\n  handleCancel,\n  handleSaveHandover,\n  handleSaveReturn,\n  handleClosePDF,\n  handleCloseGallery,\n  handleCloseProtocolMenu,\n  handleDownloadPDF,\n  handleViewGallery,\n}) => {\n  // 🚀 V2 Feature Flag Check\n  const [isV2Enabled, setIsV2Enabled] = React.useState(false);\n\n  React.useEffect(() => {\n    const checkV2Feature = async () => {\n      const { featureManager } = await import('../../../config/featureFlags');\n      const enabled = await featureManager.isEnabled('PROTOCOL_V2_ENABLED');\n      setIsV2Enabled(enabled);\n    };\n    checkV2Feature();\n  }, []);\n\n  // Select correct form components based on feature flag\n  const HandoverForm = isV2Enabled\n    ? HandoverProtocolFormV2\n    : HandoverProtocolForm;\n  const ReturnForm = isV2Enabled ? ReturnProtocolFormV2 : ReturnProtocolForm;\n\n  return (\n    <>\n      {/* Rental Form Dialog */}\n      <Dialog\n        open={openDialog}\n        onClose={() => setOpenDialog(false)}\n        maxWidth=\"md\"\n        fullWidth\n      >\n        <DialogTitle>\n          {editingRental ? 'Upraviť prenájom' : 'Nový prenájom'}\n        </DialogTitle>\n        <DialogContent>\n          <RentalForm\n            rental={editingRental}\n            onSave={handleSave}\n            onCancel={handleCancel}\n          />\n        </DialogContent>\n      </Dialog>\n\n      {/* Handover Protocol Dialog */}\n      <Dialog\n        open={openHandoverDialog}\n        onClose={() => {\n          console.log('🚨 MOBILE DEBUG: Dialog onClose triggered!');\n          console.log(\n            '🚨 MOBILE DEBUG: Modal closing via backdrop click or ESC'\n          );\n          console.log('🚨 MOBILE DEBUG: timestamp:', new Date().toISOString());\n\n          // logMobile('WARN', 'RentalList', 'Handover modal closing via Dialog onClose', {\n          //   timestamp: Date.now(),\n          //   selectedRentalId: selectedRentalForProtocol?.id,\n          //   reason: 'dialog_onClose'\n          // });\n          setOpenHandoverDialog(false);\n        }}\n        maxWidth=\"lg\"\n        fullWidth\n        sx={{\n          '& .MuiDialog-paper': {\n            // Mobile responsive fixes\n            margin: { xs: 1, sm: 2 },\n            maxHeight: { xs: '95vh', sm: '90vh' },\n            width: { xs: 'calc(100vw - 16px)', sm: '100%' },\n            // Ensure proper scrolling on mobile\n            overflow: 'hidden',\n            display: 'flex',\n            flexDirection: 'column',\n          },\n        }}\n      >\n        <DialogTitle\n          sx={{\n            flexShrink: 0,\n            borderBottom: 1,\n            borderColor: 'divider',\n            padding: { xs: 1, sm: 2 },\n          }}\n        >\n          Odovzdávací protokol (V1)\n        </DialogTitle>\n        <DialogContent\n          sx={{\n            flex: 1,\n            overflow: 'auto',\n            padding: { xs: 1, sm: 2 },\n          }}\n        >\n          {selectedRentalForProtocol && (\n            <React.Suspense\n              fallback={\n                <Box sx={{ display: 'flex', justifyContent: 'center', p: 4 }}>\n                  <CircularProgress />\n                  <Typography sx={{ ml: 2 }}>Načítavam protokol...</Typography>\n                </Box>\n              }\n            >\n              <HandoverForm\n                open={openHandoverDialog}\n                rental={selectedRentalForProtocol}\n                onSave={handleSaveHandover}\n                onClose={() => {\n                  console.log(\n                    '🚨 MOBILE DEBUG: HandoverProtocolForm onClose triggered!'\n                  );\n                  console.log(\n                    '🚨 MOBILE DEBUG: Modal closing via form close button'\n                  );\n                  console.log(\n                    '🚨 MOBILE DEBUG: timestamp:',\n                    new Date().toISOString()\n                  );\n\n                  // logMobile('WARN', 'RentalList', 'Handover modal closing via HandoverProtocolForm onClose', {\n                  //   timestamp: Date.now(),\n                  //   selectedRentalId: selectedRentalForProtocol?.id,\n                  //   reason: 'form_onClose'\n                  // });\n                  setOpenHandoverDialog(false);\n                }}\n              />\n            </React.Suspense>\n          )}\n        </DialogContent>\n      </Dialog>\n\n      {/* Return Protocol Dialog */}\n      <Dialog\n        open={openReturnDialog}\n        onClose={() => setOpenReturnDialog(false)}\n        maxWidth=\"lg\"\n        fullWidth\n        sx={{\n          '& .MuiDialog-paper': {\n            // Mobile responsive fixes\n            margin: { xs: 1, sm: 2 },\n            maxHeight: { xs: '95vh', sm: '90vh' },\n            width: { xs: 'calc(100vw - 16px)', sm: '100%' },\n            // Ensure proper scrolling on mobile\n            overflow: 'hidden',\n            display: 'flex',\n            flexDirection: 'column',\n          },\n        }}\n      >\n        <DialogTitle\n          sx={{\n            flexShrink: 0,\n            borderBottom: 1,\n            borderColor: 'divider',\n            padding: { xs: 1, sm: 2 },\n          }}\n        >\n          Preberací protokol (V1)\n        </DialogTitle>\n        <DialogContent\n          sx={{\n            flex: 1,\n            overflow: 'auto',\n            padding: { xs: 1, sm: 2 },\n          }}\n        >\n          {selectedRentalForProtocol && (\n            <>\n              {/* ✅ LOADING STATE: Zobraz loading kým sa načítajú protokoly */}\n              {(() => {\n                // ✅ POUŽIŤ PROTOCOL STATUS MAP: Rýchlejšia kontrola existencie protokolu\n                const backgroundStatus =\n                  protocolStatusMap[selectedRentalForProtocol.id];\n                const fallbackProtocols =\n                  protocols[selectedRentalForProtocol.id];\n\n                const hasHandover = backgroundStatus\n                  ? backgroundStatus.hasHandoverProtocol\n                  : !!fallbackProtocols?.handover;\n\n                return !hasHandover;\n              })() ? (\n                <Box\n                  sx={{\n                    display: 'flex',\n                    flexDirection: 'column',\n                    alignItems: 'center',\n                    p: 4,\n                  }}\n                >\n                  <CircularProgress sx={{ mb: 2 }} />\n                  <Typography variant=\"body1\" color=\"text.secondary\">\n                    Načítavam odovzdávací protokol...\n                  </Typography>\n                  <Typography\n                    variant=\"body2\"\n                    color=\"text.secondary\"\n                    sx={{ mt: 1 }}\n                  >\n                    Pre vytvorenie preberacieho protokolu je potrebný\n                    odovzdávací protokol.\n                  </Typography>\n                </Box>\n              ) : (\n                <ReturnForm\n                  open={openReturnDialog}\n                  onClose={() => setOpenReturnDialog(false)}\n                  rental={selectedRentalForProtocol}\n                  handoverProtocol={\n                    protocols[selectedRentalForProtocol.id]?.handover\n                  }\n                  onSave={handleSaveReturn}\n                />\n              )}\n            </>\n          )}\n        </DialogContent>\n      </Dialog>\n\n      {/* PDF Viewer */}\n      {selectedPdf && (\n        <PDFViewer\n          open={pdfViewerOpen}\n          onClose={handleClosePDF}\n          protocolId={selectedPdf.url}\n          protocolType={selectedPdf.type}\n          title={selectedPdf.title}\n        />\n      )}\n\n      {/* New Protocol Gallery */}\n      <ProtocolGallery\n        open={galleryOpen}\n        onClose={handleCloseGallery}\n        images={galleryImages}\n        videos={galleryVideos}\n        title={galleryTitle}\n      />\n\n      {/* Protocol Menu Dialog */}\n      <Dialog\n        open={openProtocolMenu}\n        onClose={handleCloseProtocolMenu}\n        maxWidth=\"xs\"\n        fullWidth\n      >\n        <DialogTitle\n          sx={{\n            bgcolor: 'primary.main',\n            color: 'white',\n            display: 'flex',\n            alignItems: 'center',\n            gap: 1,\n          }}\n        >\n          {selectedProtocolType === 'handover' ? '🚗→' : '←🚗'}\n          {selectedProtocolType === 'handover'\n            ? 'Odovzdávací protokol'\n            : 'Preberací protokol'}\n        </DialogTitle>\n        <DialogContent sx={{ p: { xs: 2, sm: 3 } }}>\n          <Box\n            sx={{\n              display: 'flex',\n              flexDirection: 'column',\n              gap: { xs: 1.5, sm: 2 },\n            }}\n          >\n            <Button\n              fullWidth\n              variant=\"contained\"\n              startIcon={<PDFIcon />}\n              onClick={handleDownloadPDF}\n              sx={{\n                bgcolor: '#f44336',\n                py: { xs: 2, sm: 1.5 },\n                fontSize: { xs: '1rem', sm: '0.875rem' },\n                fontWeight: 600,\n                borderRadius: 2,\n                boxShadow: '0 4px 12px rgba(244,67,54,0.3)',\n                '&:hover': {\n                  bgcolor: '#d32f2f',\n                  transform: 'translateY(-2px)',\n                  boxShadow: '0 6px 16px rgba(244,67,54,0.4)',\n                },\n                transition: 'all 0.2s ease',\n              }}\n            >\n              📄 Stiahnuť PDF protokol\n            </Button>\n\n            <Button\n              fullWidth\n              variant=\"contained\"\n              startIcon={<GalleryIcon />}\n              onClick={handleViewGallery}\n              sx={{\n                bgcolor: '#2196f3',\n                py: { xs: 2, sm: 1.5 },\n                fontSize: { xs: '1rem', sm: '0.875rem' },\n                fontWeight: 600,\n                borderRadius: 2,\n                boxShadow: '0 4px 12px rgba(33,150,243,0.3)',\n                '&:hover': {\n                  bgcolor: '#1976d2',\n                  transform: 'translateY(-2px)',\n                  boxShadow: '0 6px 16px rgba(33,150,243,0.4)',\n                },\n                transition: 'all 0.2s ease',\n              }}\n            >\n              🖼️ Zobraziť fotky\n            </Button>\n\n            <Button\n              fullWidth\n              variant=\"outlined\"\n              onClick={handleCloseProtocolMenu}\n              sx={{\n                py: { xs: 2, sm: 1.5 },\n                fontSize: { xs: '1rem', sm: '0.875rem' },\n                fontWeight: 500,\n                borderRadius: 2,\n                borderWidth: 2,\n                '&:hover': {\n                  borderWidth: 2,\n                  bgcolor: 'rgba(0,0,0,0.04)',\n                },\n              }}\n            >\n              Zavrieť\n            </Button>\n          </Box>\n        </DialogContent>\n      </Dialog>\n    </>\n  );\n};\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/components/rentals/components/RentalRow.tsx",
    "messages": [
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 2,
        "message": "'index' is defined but never used.",
        "line": 18,
        "column": 45,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 18,
        "endColumn": 50
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 110,
        "column": 55,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 110,
        "endColumn": 58,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [3283, 3286], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [3283, 3286], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 2,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "import {\n  Edit as EditIcon,\n  DirectionsCar as CarIcon,\n} from '@mui/icons-material';\nimport { Box, Typography, Chip, IconButton, Paper, Grid } from '@mui/material';\nimport React from 'react';\n\nimport { useApp } from '../../../context/AppContext';\nimport type { Rental } from '../../../types';\nimport { formatDate, formatCurrency } from '../../../utils/formatters';\n\ninterface RentalRowProps {\n  rental: Rental;\n  onEdit: (rental: Rental) => void;\n  index: number;\n}\n\nexport function RentalRow({ rental, onEdit, index }: RentalRowProps) {\n  const { state } = useApp();\n\n  // Nájdi vehicle pre tento rental\n  const vehicle = state.vehicles.find(v => v.id === rental.vehicleId);\n\n  // Status color mapping\n  const getStatusColor = (status: string | undefined) => {\n    switch (status) {\n      case 'active':\n        return 'success';\n      case 'completed':\n        return 'default';\n      case 'pending':\n        return 'warning';\n      case 'cancelled':\n        return 'error';\n      default:\n        return 'default';\n    }\n  };\n\n  return (\n    <Paper\n      variant=\"outlined\"\n      sx={{\n        p: 2,\n        '&:hover': {\n          backgroundColor: 'action.hover',\n          boxShadow: 1,\n        },\n        transition: 'all 0.2s ease-in-out',\n        cursor: 'pointer',\n      }}\n      onClick={() => onEdit(rental)}\n    >\n      <Grid container spacing={2} alignItems=\"center\">\n        {/* Vehicle info */}\n        <Grid item xs={12} sm={3}>\n          <Box display=\"flex\" alignItems=\"center\" gap={1}>\n            <CarIcon color=\"action\" fontSize=\"small\" />\n            <Box>\n              <Typography variant=\"subtitle2\" fontWeight=\"medium\">\n                {vehicle\n                  ? `${vehicle.brand} ${vehicle.model}`\n                  : 'Neznáme vozidlo'}\n              </Typography>\n              <Typography variant=\"caption\" color=\"text.secondary\">\n                {vehicle?.licensePlate || 'Bez ŠPZ'}\n              </Typography>\n            </Box>\n          </Box>\n        </Grid>\n\n        {/* Customer */}\n        <Grid item xs={12} sm={2}>\n          <Typography variant=\"body2\" noWrap>\n            {rental.customerName || 'Neznámy zákazník'}\n          </Typography>\n          <Typography variant=\"caption\" color=\"text.secondary\">\n            Zákazník\n          </Typography>\n        </Grid>\n\n        {/* Date range */}\n        <Grid item xs={12} sm={2}>\n          <Typography variant=\"body2\" noWrap>\n            {formatDate(rental.startDate)}\n          </Typography>\n          <Typography variant=\"caption\" color=\"text.secondary\" noWrap>\n            - {formatDate(rental.endDate)}\n          </Typography>\n        </Grid>\n\n        {/* Price */}\n        <Grid item xs={12} sm={1.5}>\n          <Typography variant=\"body2\" fontWeight=\"medium\">\n            {formatCurrency(rental.totalPrice)}\n          </Typography>\n          {rental.paymentMethod && (\n            <Typography variant=\"caption\" color=\"text.secondary\">\n              {rental.paymentMethod}\n            </Typography>\n          )}\n        </Grid>\n\n        {/* Status */}\n        <Grid item xs={12} sm={1.5}>\n          <Box display=\"flex\" flexDirection=\"column\" gap={0.5}>\n            <Chip\n              label={rental.status}\n              size=\"small\"\n              color={getStatusColor(rental.status) as any}\n              variant=\"outlined\"\n            />\n            {rental.isFlexible && (\n              <Chip\n                label=\"Flexibilný\"\n                size=\"small\"\n                color=\"info\"\n                variant=\"outlined\"\n              />\n            )}\n          </Box>\n        </Grid>\n\n        {/* Company */}\n        <Grid item xs={12} sm={1.5}>\n          <Typography variant=\"body2\" noWrap>\n            {vehicle?.company || 'N/A'}\n          </Typography>\n          <Typography variant=\"caption\" color=\"text.secondary\">\n            Firma\n          </Typography>\n        </Grid>\n\n        {/* Actions */}\n        <Grid item xs={12} sm={0.5}>\n          <Box display=\"flex\" justifyContent=\"flex-end\">\n            <IconButton\n              size=\"small\"\n              onClick={e => {\n                e.stopPropagation();\n                onEdit(rental);\n              }}\n            >\n              <EditIcon fontSize=\"small\" />\n            </IconButton>\n          </Box>\n        </Grid>\n      </Grid>\n    </Paper>\n  );\n}\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/components/rentals/components/RentalSearchAndFilters.tsx",
    "messages": [
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 2,
        "message": "'Stack' is defined but never used.",
        "line": 18,
        "column": 3,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 18,
        "endColumn": 8
      }
    ],
    "suppressedMessages": [],
    "errorCount": 1,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "import {\n  Search as SearchIcon,\n  FilterList as FilterListIcon,\n  Clear as ClearIcon,\n  ExpandMore as ExpandMoreIcon,\n  ExpandLess as ExpandLessIcon,\n} from '@mui/icons-material';\nimport {\n  Box,\n  TextField,\n  Button,\n  Collapse,\n  Card,\n  CardContent,\n  Typography,\n  InputAdornment,\n  Chip,\n  Stack,\n} from '@mui/material';\nimport React from 'react';\n\ninterface RentalSearchAndFiltersProps {\n  searchQuery: string;\n  onSearchChange: (query: string) => void;\n  showFilters: boolean;\n  onToggleFilters: () => void;\n  onClearFilters: () => void;\n  filtersComponent: React.ReactNode;\n  hasActiveFilters: boolean;\n  activeFiltersCount: number;\n  filteredCount: number;\n  totalCount: number;\n}\n\nexport function RentalSearchAndFilters({\n  searchQuery,\n  onSearchChange,\n  showFilters,\n  onToggleFilters,\n  onClearFilters,\n  filtersComponent,\n  hasActiveFilters,\n  activeFiltersCount,\n  filteredCount,\n  totalCount,\n}: RentalSearchAndFiltersProps) {\n  return (\n    <Box sx={{ mb: 3 }}>\n      {/* Search bar */}\n      <Box\n        sx={{\n          display: 'flex',\n          gap: 2,\n          mb: 2,\n          flexDirection: { xs: 'column', sm: 'row' },\n        }}\n      >\n        <TextField\n          fullWidth\n          placeholder=\"Hľadať prenájmy (zákazník, vozidlo, ŠPZ, poznámky...)\"\n          value={searchQuery}\n          onChange={e => onSearchChange(e.target.value)}\n          InputProps={{\n            startAdornment: (\n              <InputAdornment position=\"start\">\n                <SearchIcon color=\"action\" />\n              </InputAdornment>\n            ),\n          }}\n          sx={{\n            '& .MuiOutlinedInput-root': {\n              backgroundColor: 'background.paper',\n            },\n          }}\n        />\n\n        <Box\n          sx={{\n            display: 'flex',\n            gap: 1,\n            flexShrink: 0,\n            flexDirection: { xs: 'row', sm: 'row' },\n          }}\n        >\n          <Button\n            variant={showFilters ? 'contained' : 'outlined'}\n            startIcon={showFilters ? <ExpandLessIcon /> : <ExpandMoreIcon />}\n            endIcon={\n              hasActiveFilters && (\n                <Chip\n                  label={activeFiltersCount}\n                  size=\"small\"\n                  color=\"primary\"\n                  sx={{ ml: 0.5, minWidth: 20, height: 20 }}\n                />\n              )\n            }\n            onClick={onToggleFilters}\n            sx={{ minWidth: 120 }}\n          >\n            <FilterListIcon sx={{ mr: 0.5 }} />\n            Filtre\n          </Button>\n\n          {hasActiveFilters && (\n            <Button\n              variant=\"outlined\"\n              color=\"secondary\"\n              startIcon={<ClearIcon />}\n              onClick={onClearFilters}\n              size=\"small\"\n            >\n              Vymazať\n            </Button>\n          )}\n        </Box>\n      </Box>\n\n      {/* Filter results info */}\n      {(hasActiveFilters || searchQuery) && (\n        <Box sx={{ mb: 2 }}>\n          <Typography variant=\"body2\" color=\"text.secondary\">\n            Zobrazených: {filteredCount} z {totalCount} prenájmov\n            {searchQuery && ` pre \"${searchQuery}\"`}\n          </Typography>\n        </Box>\n      )}\n\n      {/* Advanced filters */}\n      <Collapse in={showFilters}>\n        <Card variant=\"outlined\" sx={{ mb: 2 }}>\n          <CardContent sx={{ p: 3 }}>\n            <Typography\n              variant=\"h6\"\n              gutterBottom\n              sx={{\n                display: 'flex',\n                alignItems: 'center',\n                gap: 1,\n                mb: 2,\n              }}\n            >\n              <FilterListIcon />\n              Pokročilé filtre\n            </Typography>\n            {filtersComponent}\n          </CardContent>\n        </Card>\n      </Collapse>\n    </Box>\n  );\n}\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/components/rentals/components/RentalStats.tsx",
    "messages": [
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 18,
        "column": 43,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 18,
        "endColumn": 46,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [382, 385], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [382, 385], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 18,
        "column": 57,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 18,
        "endColumn": 60,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [396, 399], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [396, 399], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 20,
        "column": 48,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 20,
        "endColumn": 51,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [474, 477], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [474, 477], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 302,
        "column": 68,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 302,
        "endColumn": 71,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [8905, 8908], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [8905, 8908], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 302,
        "column": 119,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 302,
        "endColumn": 122,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [8956, 8959], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [8956, 8959], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 303,
        "column": 68,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 303,
        "endColumn": 71,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [9057, 9060], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [9057, 9060], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 303,
        "column": 119,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 303,
        "endColumn": 122,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [9108, 9111], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [9108, 9111], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 304,
        "column": 58,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 304,
        "endColumn": 61,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [9200, 9203], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [9200, 9203], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 312,
        "column": 68,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 312,
        "endColumn": 71,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [9604, 9607], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [9604, 9607], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 9,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "import {\n  Box,\n  Card,\n  CardContent,\n  Divider,\n  Grid,\n  Typography,\n  useMediaQuery,\n  useTheme,\n} from '@mui/material';\nimport { isAfter, isBefore, isToday, isTomorrow, parseISO } from 'date-fns';\nimport React, { useMemo } from 'react';\n\nimport type { Rental } from '../../../types';\n\ninterface RentalStatsProps {\n  rentals: Rental[];\n  protocols?: Record<string, { handover?: any; return?: any }>;\n  isLoading?: boolean;\n  onQuickFilter?: (filterType: string, value?: any) => void;\n}\n\ninterface DashboardStats {\n  total: number;\n  active: number;\n  todayActivity: number;\n  tomorrowReturns: number;\n  weekActivity: number;\n  overdue: number;\n  newToday: number;\n  unpaid: number;\n  pending: number;\n  withHandover: number;\n  withReturn: number;\n  totalRevenue: number;\n  avgDailyRevenue: number;\n}\n\nexport const RentalStats: React.FC<RentalStatsProps> = ({\n  rentals,\n  protocols = {},\n  isLoading = false,\n  onQuickFilter,\n}) => {\n  const theme = useTheme();\n  const isMobile = useMediaQuery(theme.breakpoints.down('md'));\n\n  // 📊 Vypočítaj kľúčové metriky\n  const stats: DashboardStats = useMemo(() => {\n    const today = new Date();\n    const tomorrow = new Date();\n    tomorrow.setDate(tomorrow.getDate() + 1);\n\n    const active = rentals.filter(rental => {\n      // ZACHOVAJ PRESNÝ ČAS BEZ TIMEZONE KONVERZIE\n      const startDate =\n        typeof rental.startDate === 'string'\n          ? parseISO(rental.startDate)\n          : rental.startDate;\n      const endDate =\n        typeof rental.endDate === 'string'\n          ? parseISO(rental.endDate)\n          : rental.endDate;\n      // Prenájom je aktívny len ak: začal a ešte neskončil\n      return (\n        (isAfter(today, startDate) || isToday(startDate)) &&\n        (isBefore(today, endDate) || isToday(endDate))\n      );\n    });\n\n    // Dnes aktivita - prenájmy ktoré sa dnes začínajú ALEBO končia\n    const todayActivity = rentals.filter(rental => {\n      // ZACHOVAJ PRESNÝ ČAS BEZ TIMEZONE KONVERZIE\n      const startDate =\n        typeof rental.startDate === 'string'\n          ? parseISO(rental.startDate)\n          : rental.startDate;\n      const endDate =\n        typeof rental.endDate === 'string'\n          ? parseISO(rental.endDate)\n          : rental.endDate;\n      return isToday(startDate) || isToday(endDate);\n    });\n\n    const tomorrowReturns = rentals.filter(rental => {\n      // ZACHOVAJ PRESNÝ ČAS BEZ TIMEZONE KONVERZIE\n      const endDate =\n        typeof rental.endDate === 'string'\n          ? parseISO(rental.endDate)\n          : rental.endDate;\n      return isTomorrow(endDate);\n    });\n\n    // Tento týždeň aktivita - prenájmy ktoré sa tento týždeň začínajú ALEBO končia\n    const weekActivity = rentals.filter(rental => {\n      // ZACHOVAJ PRESNÝ ČAS BEZ TIMEZONE KONVERZIE\n      const startDate =\n        typeof rental.startDate === 'string'\n          ? parseISO(rental.startDate)\n          : rental.startDate;\n      const endDate =\n        typeof rental.endDate === 'string'\n          ? parseISO(rental.endDate)\n          : rental.endDate;\n      const endOfWeek = new Date(today);\n      endOfWeek.setDate(today.getDate() + (7 - today.getDay())); // Najbližšia nedeľa\n      endOfWeek.setHours(23, 59, 59, 999);\n\n      const startsThisWeek =\n        isAfter(startDate, today) && isBefore(startDate, endOfWeek);\n      const endsThisWeek =\n        isAfter(endDate, today) && isBefore(endDate, endOfWeek);\n\n      return startsThisWeek || endsThisWeek;\n    });\n\n    // Preterminované - prenájmy ktoré mali skončiť ale ešte sa nevrátili\n    const overdue = rentals.filter(rental => {\n      // ZACHOVAJ PRESNÝ ČAS BEZ TIMEZONE KONVERZIE\n      const endDate =\n        typeof rental.endDate === 'string'\n          ? parseISO(rental.endDate)\n          : rental.endDate;\n      // Preterminované sú tie čo skončili pred dnes a nemajú return protokol\n      return isBefore(endDate, today) && !protocols[rental.id]?.return;\n    });\n\n    // Nové dnes - prenájmy vytvorené dnes\n    const newToday = rentals.filter(rental => {\n      const createdDate = new Date(rental.createdAt);\n      return isToday(createdDate);\n    });\n\n    const unpaid = rentals.filter(rental => !rental.paid);\n    const pending = rentals.filter(\n      rental => rental.status === 'pending' || !rental.confirmed\n    );\n\n    const withHandover = rentals.filter(\n      rental => protocols[rental.id]?.handover\n    );\n    const withReturn = rentals.filter(rental => protocols[rental.id]?.return);\n\n    const totalRevenue = rentals.reduce(\n      (sum, rental) => sum + (rental.totalPrice || 0),\n      0\n    );\n    const avgDailyRevenue =\n      rentals.length > 0 ? totalRevenue / Math.max(rentals.length, 1) : 0;\n\n    return {\n      total: rentals.length,\n      active: active.length,\n      todayActivity: todayActivity.length,\n      tomorrowReturns: tomorrowReturns.length,\n      weekActivity: weekActivity.length,\n      overdue: overdue.length,\n      newToday: newToday.length,\n      unpaid: unpaid.length,\n      pending: pending.length,\n      withHandover: withHandover.length,\n      withReturn: withReturn.length,\n      totalRevenue,\n      avgDailyRevenue,\n    };\n  }, [rentals, protocols]);\n\n  // 📊 Všetky metriky v jednom kompaktnom riadku\n  const allMetrics = [\n    {\n      label: 'Preterminované',\n      value: stats.overdue,\n      color: stats.overdue > 0 ? 'error' : 'success',\n      urgent: stats.overdue > 0,\n      filterType: 'overdue',\n      clickable: stats.overdue > 0,\n    },\n    {\n      label: 'Dnes odovzdanie/vrátenie',\n      value: stats.todayActivity,\n      color: stats.todayActivity > 0 ? 'warning' : 'success',\n      urgent: stats.todayActivity > 0,\n      filterType: 'todayActivity',\n      clickable: stats.todayActivity > 0,\n    },\n    {\n      label: 'Zajtra vrátenie',\n      value: stats.tomorrowReturns,\n      color: stats.tomorrowReturns > 0 ? 'warning' : 'success',\n      urgent: stats.tomorrowReturns > 0,\n      filterType: 'tomorrowReturns',\n      clickable: stats.tomorrowReturns > 0,\n    },\n    {\n      label: 'Tento týždeň odovzdanie/vrátenie',\n      value: stats.weekActivity,\n      color: 'info',\n      urgent: false,\n      filterType: 'weekActivity',\n      clickable: stats.weekActivity > 0,\n    },\n    {\n      label: 'Nové dnes',\n      value: stats.newToday,\n      color: 'success',\n      urgent: false,\n      filterType: 'newToday',\n      clickable: stats.newToday > 0,\n    },\n    {\n      label: 'Aktívne prenájmy',\n      value: stats.active,\n      color: 'info',\n      urgent: false,\n      filterType: 'active',\n      clickable: stats.active > 0,\n    },\n    {\n      label: 'Nezaplatené',\n      value: stats.unpaid,\n      color: stats.unpaid > 0 ? 'warning' : 'success',\n      urgent: stats.unpaid > 0,\n      filterType: 'unpaid',\n      clickable: stats.unpaid > 0,\n    },\n    {\n      label: 'Čakajúce',\n      value: stats.pending,\n      color: stats.pending > 0 ? 'warning' : 'success',\n      urgent: stats.pending > 0,\n      filterType: 'pending',\n      clickable: stats.pending > 0,\n    },\n  ];\n\n  // 🖱️ Handler pre klik na metriku\n  const handleMetricClick = (filterType: string, value: number) => {\n    if (value > 0 && onQuickFilter) {\n      onQuickFilter(filterType);\n    }\n  };\n\n  if (isLoading) {\n    return (\n      <Card sx={{ mb: 3, p: 2 }}>\n        <Typography variant=\"h6\" color=\"text.secondary\">\n          Načítavam štatistiky...\n        </Typography>\n      </Card>\n    );\n  }\n\n  return (\n    <Card\n      sx={{\n        mb: 3,\n        mx: { xs: 1, md: 0 }, // Menší symetrický margin na mobile\n        backgroundColor: 'background.paper',\n        boxShadow: '0 4px 20px rgba(0,0,0,0.08)',\n        border: '1px solid rgba(0,0,0,0.06)',\n        borderRadius: 3,\n      }}\n    >\n      <CardContent sx={{ p: { xs: 2, md: 3 } }}>\n        {/* Header */}\n        <Box\n          sx={{\n            display: 'flex',\n            justifyContent: 'space-between',\n            alignItems: 'center',\n            mb: 3,\n          }}\n        >\n          <Typography\n            variant=\"h5\"\n            fontWeight=\"600\"\n            sx={{\n              color: 'primary.main',\n              display: 'flex',\n              alignItems: 'center',\n              gap: 1,\n            }}\n          >\n            📊 Štatistiky prenájmov\n          </Typography>\n\n          <Typography variant=\"body2\" color=\"text.secondary\">\n            Celkom: <strong>{stats.total}</strong> prenájmov\n          </Typography>\n        </Box>\n\n        {/* 📊 ULTRA KOMPAKTNÝ DASHBOARD - všetko v jednom riadku */}\n        <Grid container spacing={0.25}>\n          {allMetrics.map((metric, index) => (\n            <Grid item xs={4} sm={3} md={2} lg={1.33} xl={1.2} key={index}>\n              <Card\n                onClick={() =>\n                  handleMetricClick(metric.filterType, metric.value)\n                }\n                sx={{\n                  background: metric.urgent\n                    ? `linear-gradient(135deg, ${(theme.palette as any)[metric.color].main}15 0%, ${(theme.palette as any)[metric.color].main}25 100%)`\n                    : `linear-gradient(135deg, ${(theme.palette as any)[metric.color].main}10 0%, ${(theme.palette as any)[metric.color].main}20 100%)`,\n                  border: `1px solid ${(theme.palette as any)[metric.color].main}30`,\n                  borderRadius: 1,\n                  transition: 'all 0.2s ease',\n                  cursor: metric.clickable ? 'pointer' : 'default',\n                  minHeight: 60,\n                  '&:hover': metric.clickable\n                    ? {\n                        transform: 'translateY(-1px)',\n                        boxShadow: `0 4px 15px ${(theme.palette as any)[metric.color].main}30`,\n                      }\n                    : {},\n                }}\n              >\n                <CardContent\n                  sx={{\n                    textAlign: 'center',\n                    py: 0.25,\n                    px: 0.25,\n                    '&:last-child': { pb: 0.25 },\n                  }}\n                >\n                  <Typography\n                    variant=\"h6\"\n                    fontWeight=\"700\"\n                    sx={{\n                      color: `${metric.color}.main`,\n                      fontSize: { xs: '0.9rem', sm: '1rem', md: '1.1rem' },\n                      lineHeight: 1.1,\n                    }}\n                  >\n                    {metric.value}\n                  </Typography>\n\n                  <Typography\n                    variant=\"caption\"\n                    sx={{\n                      color: 'text.secondary',\n                      fontSize: { xs: '0.55rem', sm: '0.6rem', md: '0.65rem' },\n                      display: 'block',\n                      lineHeight: 1,\n                      mt: 0.1,\n                    }}\n                  >\n                    {metric.label}\n                  </Typography>\n\n                  {metric.clickable && (\n                    <Typography\n                      variant=\"caption\"\n                      sx={{\n                        color: `${metric.color}.main`,\n                        fontSize: { xs: '0.5rem', sm: '0.55rem' },\n                        mt: 0.1,\n                      }}\n                    >\n                      👆\n                    </Typography>\n                  )}\n                </CardContent>\n              </Card>\n            </Grid>\n          ))}\n        </Grid>\n\n        {/* 💰 FINANČNÝ PREHĽAD - len reálne dáta */}\n        {!isMobile && stats.totalRevenue > 0 && (\n          <>\n            <Divider sx={{ my: 2 }} />\n            <Box\n              sx={{\n                display: 'flex',\n                justifyContent: 'center',\n                gap: 4,\n              }}\n            >\n              <Box sx={{ textAlign: 'center' }}>\n                <Typography\n                  variant=\"h6\"\n                  fontWeight=\"600\"\n                  sx={{ color: 'success.main' }}\n                >\n                  {stats.totalRevenue.toLocaleString('sk-SK')}€\n                </Typography>\n                <Typography variant=\"caption\" color=\"text.secondary\">\n                  Celkové tržby\n                </Typography>\n              </Box>\n              <Box sx={{ textAlign: 'center' }}>\n                <Typography\n                  variant=\"h6\"\n                  fontWeight=\"600\"\n                  sx={{ color: 'info.main' }}\n                >\n                  {Math.round(stats.avgDailyRevenue).toLocaleString('sk-SK')}€\n                </Typography>\n                <Typography variant=\"caption\" color=\"text.secondary\">\n                  Priemerná cena\n                </Typography>\n              </Box>\n            </Box>\n          </>\n        )}\n      </CardContent>\n    </Card>\n  );\n};\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/components/rentals/components/RentalStatusChip.tsx",
    "messages": [
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 2,
        "message": "'confirmed' is defined but never used.",
        "line": 18,
        "column": 14,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 18,
        "endColumn": 23
      },
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 2,
        "message": "'paid' is defined but never used.",
        "line": 18,
        "column": 25,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 18,
        "endColumn": 29
      }
    ],
    "suppressedMessages": [],
    "errorCount": 2,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "import {\n  CheckCircle as CheckCircleIcon,\n  Error as ErrorIcon,\n  Pending as PendingIcon,\n} from '@mui/icons-material';\nimport React from 'react';\n\nimport { StatusChip } from '../../ui';\n\ninterface RentalStatusChipProps {\n  status: string;\n  confirmed?: boolean;\n  paid?: boolean;\n  size?: 'small' | 'medium';\n}\n\nconst RentalStatusChip = React.memo<RentalStatusChipProps>(\n  ({ status, confirmed, paid, size = 'small' }) => {\n    const getStatusProps = () => {\n      switch (status) {\n        case 'active':\n          return {\n            label: 'Aktívny',\n            color: 'success' as const,\n            icon: <CheckCircleIcon sx={{ fontSize: 16 }} />,\n          };\n        case 'finished':\n          return {\n            label: 'Ukončený',\n            color: 'neutral' as const,\n            icon: <CheckCircleIcon sx={{ fontSize: 16 }} />,\n          };\n        case 'pending':\n          return {\n            label: 'Čakajúci',\n            color: 'warning' as const,\n            icon: <PendingIcon sx={{ fontSize: 16 }} />,\n          };\n        case 'cancelled':\n          return {\n            label: 'Zrušený',\n            color: 'error' as const,\n            icon: <ErrorIcon sx={{ fontSize: 16 }} />,\n          };\n        default:\n          return {\n            label: status || 'Neznámy',\n            color: 'neutral' as const,\n            icon: <PendingIcon sx={{ fontSize: 16 }} />,\n          };\n      }\n    };\n\n    const statusProps = getStatusProps();\n\n    return (\n      <StatusChip\n        label={statusProps.label}\n        chipColor={statusProps.color}\n        size={size}\n        icon={statusProps.icon}\n        sx={{\n          fontWeight: 600,\n          borderRadius: 1.5,\n          '& .MuiChip-icon': {\n            fontSize: 16,\n          },\n        }}\n      />\n    );\n  }\n);\n\nRentalStatusChip.displayName = 'RentalStatusChip';\n\nexport default RentalStatusChip;\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/components/rentals/components/RentalTable.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/components/rentals/utils/rentalUtils.ts",
    "messages": [
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 2,
        "message": "'isWithinInterval' is defined but never used.",
        "line": 4,
        "column": 3,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 4,
        "endColumn": 19
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 72,
        "column": 12,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 72,
        "endColumn": 15,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [1979, 1982], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [1979, 1982], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 190,
        "column": 29,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 190,
        "endColumn": 32,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [5140, 5143], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [5140, 5143], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 3,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "import {\n  format,\n  parseISO,\n  isWithinInterval,\n  startOfDay,\n  endOfDay,\n} from 'date-fns';\nimport { sk } from 'date-fns/locale';\n\nimport type { Rental, Vehicle } from '../../../types';\n\n// CSV Export utility\nexport const exportRentalsToCSV = (rentals: Rental[], vehicles: Vehicle[]) => {\n  const vehicleMap = new Map(vehicles.map(v => [v.id, v]));\n\n  const csvData = rentals.map(rental => {\n    const vehicle = vehicleMap.get(rental.vehicleId || '');\n    return {\n      ID: rental.id,\n      Zákazník: rental.customerName || '',\n      Vozidlo: vehicle ? `${vehicle.brand} ${vehicle.model}` : '',\n      ŠPZ: vehicle?.licensePlate || '',\n      Firma: vehicle?.company || '',\n      Od: rental.startDate\n        ? format(\n            rental.startDate instanceof Date\n              ? rental.startDate\n              : parseISO(rental.startDate),\n            'dd.MM.yyyy',\n            { locale: sk }\n          )\n        : '',\n      Do: rental.endDate\n        ? format(\n            rental.endDate instanceof Date\n              ? rental.endDate\n              : parseISO(rental.endDate),\n            'dd.MM.yyyy',\n            { locale: sk }\n          )\n        : '',\n      Cena: rental.totalPrice || 0,\n      Stav: rental.status || '',\n      Platba: rental.paymentMethod || '',\n      Poznámky: rental.notes || '',\n    };\n  });\n\n  const csv = [\n    Object.keys(csvData[0] || {}).join(','),\n    ...csvData.map(row => Object.values(row).join(',')),\n  ].join('\\n');\n\n  const blob = new Blob([csv], { type: 'text/csv;charset=utf-8;' });\n  const link = document.createElement('a');\n  const url = URL.createObjectURL(blob);\n  link.setAttribute('href', url);\n  link.setAttribute(\n    'download',\n    `prenajmy-${format(new Date(), 'yyyy-MM-dd')}.csv`\n  );\n  link.style.visibility = 'hidden';\n  document.body.appendChild(link);\n  link.click();\n  document.body.removeChild(link);\n};\n\n// Filter utilities\nexport const applyRentalFilters = (\n  rentals: Rental[],\n  searchQuery: string,\n  filters: any,\n  vehicles: Vehicle[]\n) => {\n  const vehicleMap = new Map(vehicles.map(v => [v.id, v]));\n\n  return rentals.filter(rental => {\n    const vehicle = vehicleMap.get(rental.vehicleId || '');\n\n    // Search filter\n    if (searchQuery) {\n      const searchLower = searchQuery.toLowerCase();\n      const searchableText = [\n        rental.customerName,\n        rental.notes,\n        vehicle?.brand,\n        vehicle?.model,\n        vehicle?.licensePlate,\n        vehicle?.company,\n        rental.customerEmail,\n        rental.customerPhone,\n      ]\n        .filter(Boolean)\n        .join(' ')\n        .toLowerCase();\n\n      if (!searchableText.includes(searchLower)) return false;\n    }\n\n    // Status filter\n    if (filters.status?.length > 0 && !filters.status.includes(rental.status)) {\n      return false;\n    }\n\n    // Payment method filter\n    if (\n      filters.paymentMethod?.length > 0 &&\n      !filters.paymentMethod.includes(rental.paymentMethod)\n    ) {\n      return false;\n    }\n\n    // Company filter\n    if (\n      filters.company?.length > 0 &&\n      vehicle &&\n      !filters.company.includes(vehicle.company)\n    ) {\n      return false;\n    }\n\n    // Date range filter\n    if (filters.dateFrom || filters.dateTo) {\n      if (!rental.startDate || !rental.endDate) return false;\n      const rentalStart =\n        rental.startDate instanceof Date\n          ? rental.startDate\n          : parseISO(rental.startDate);\n      const rentalEnd =\n        rental.endDate instanceof Date\n          ? rental.endDate\n          : parseISO(rental.endDate);\n\n      if (filters.dateFrom) {\n        const filterStart = startOfDay(parseISO(filters.dateFrom));\n        if (rentalEnd < filterStart) return false;\n      }\n\n      if (filters.dateTo) {\n        const filterEnd = endOfDay(parseISO(filters.dateTo));\n        if (rentalStart > filterEnd) return false;\n      }\n    }\n\n    // Price range filter\n    if (filters.priceMin && rental.totalPrice < parseFloat(filters.priceMin)) {\n      return false;\n    }\n\n    if (filters.priceMax && rental.totalPrice > parseFloat(filters.priceMax)) {\n      return false;\n    }\n\n    return true;\n  });\n};\n\n// Get unique values for filter dropdowns\nexport const getUniqueFilterValues = (\n  rentals: Rental[],\n  vehicles: Vehicle[]\n) => {\n  const vehicleMap = new Map(vehicles.map(v => [v.id, v]));\n\n  const statuses = new Set<string>();\n  const paymentMethods = new Set<string>();\n  const companies = new Set<string>();\n  const vehicleBrands = new Set<string>();\n\n  rentals.forEach(rental => {\n    if (rental.status) statuses.add(rental.status);\n    if (rental.paymentMethod) paymentMethods.add(rental.paymentMethod);\n\n    const vehicle = vehicleMap.get(rental.vehicleId || '');\n    if (vehicle?.company) companies.add(vehicle.company);\n    if (vehicle?.brand) vehicleBrands.add(vehicle.brand);\n  });\n\n  return {\n    statuses: Array.from(statuses).sort(),\n    paymentMethods: Array.from(paymentMethods).sort(),\n    companies: Array.from(companies).sort(),\n    vehicleBrands: Array.from(vehicleBrands).sort(),\n  };\n};\n\n// Protocol status utilities\nexport const getProtocolStatusText = (\n  rental: Rental,\n  protocols: Record<string, any>\n) => {\n  const hasHandover = !!protocols[rental.id]?.handover;\n  const hasReturn = !!protocols[rental.id]?.return;\n\n  if (hasHandover && hasReturn) return 'Kompletné';\n  if (hasHandover) return 'Odovzdávací';\n  if (hasReturn) return 'Preberací';\n  return 'Žiadne';\n};\n\n// Vehicle lookup utilities\nexport const createVehicleLookupMap = (vehicles: Vehicle[]) => {\n  const map = new Map();\n  vehicles.forEach(vehicle => {\n    map.set(vehicle.id, vehicle);\n  });\n  return map;\n};\n\nexport const getVehicleByRental = (\n  rental: Rental,\n  vehicleMap: Map<string, Vehicle>\n) => {\n  return rental.vehicleId ? vehicleMap.get(rental.vehicleId) || null : null;\n};\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/components/settlements/SettlementDetail.tsx",
    "messages": [
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 2,
        "message": "'Paper' is defined but never used.",
        "line": 21,
        "column": 3,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 21,
        "endColumn": 8
      },
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 2,
        "message": "'Divider' is defined but never used.",
        "line": 31,
        "column": 3,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 31,
        "endColumn": 10
      },
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 2,
        "message": "'isMobile' is assigned a value but never used.",
        "line": 56,
        "column": 9,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 56,
        "endColumn": 17
      }
    ],
    "suppressedMessages": [],
    "errorCount": 3,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "import {\n  PictureAsPdf as PdfIcon,\n  AccountBalance as BankIcon,\n  TrendingUp as ProfitIcon,\n  TrendingDown as LossIcon,\n  Euro as EuroIcon,\n  Business as CompanyIcon,\n  Assessment as ReportIcon,\n  CalendarToday as CalendarIcon,\n  Receipt as ReceiptIcon,\n  DirectionsCar as VehicleIcon,\n  Person as PersonIcon,\n  Payment as PaymentIcon,\n  Close as CloseIcon,\n} from '@mui/icons-material';\nimport {\n  Box,\n  Button,\n  Card,\n  CardContent,\n  Paper,\n  Table,\n  TableBody,\n  TableCell,\n  TableContainer,\n  TableHead,\n  TableRow,\n  Typography,\n  CircularProgress,\n  Grid,\n  Divider,\n  Chip,\n  useTheme,\n  useMediaQuery,\n} from '@mui/material';\nimport { format, parseISO } from 'date-fns';\nimport { sk } from 'date-fns/locale';\nimport React, { useState } from 'react';\n\nimport { useAuth } from '../../context/AuthContext';\nimport { getAPI_BASE_URL } from '../../services/api';\nimport type { Settlement } from '../../types';\n\ninterface SettlementDetailProps {\n  settlement: Settlement;\n  onClose: () => void;\n}\n\nexport default function SettlementDetail({\n  settlement,\n  onClose,\n}: SettlementDetailProps) {\n  const { state } = useAuth();\n  const [pdfLoading, setPdfLoading] = useState(false);\n  const theme = useTheme();\n  const isMobile = useMediaQuery(theme.breakpoints.down('md'));\n\n  // Počítame podľa spôsobov platby\n  const rentalsByPaymentMethod = {\n    cash: settlement.rentals.filter(r => r.paymentMethod === 'cash'),\n    bank_transfer: settlement.rentals.filter(\n      r => r.paymentMethod === 'bank_transfer'\n    ),\n    vrp: settlement.rentals.filter(r => r.paymentMethod === 'vrp'),\n    direct_to_owner: settlement.rentals.filter(\n      r => r.paymentMethod === 'direct_to_owner'\n    ),\n  };\n\n  // Výpočty pre každý spôsob platby\n  const paymentMethodStats = {\n    cash: {\n      count: rentalsByPaymentMethod.cash.length,\n      totalPrice: rentalsByPaymentMethod.cash.reduce(\n        (sum, r) => sum + r.totalPrice,\n        0\n      ),\n      totalCommission: rentalsByPaymentMethod.cash.reduce(\n        (sum, r) => sum + r.commission,\n        0\n      ),\n      netAmount: rentalsByPaymentMethod.cash.reduce(\n        (sum, r) => sum + r.totalPrice - r.commission,\n        0\n      ),\n    },\n    bank_transfer: {\n      count: rentalsByPaymentMethod.bank_transfer.length,\n      totalPrice: rentalsByPaymentMethod.bank_transfer.reduce(\n        (sum, r) => sum + r.totalPrice,\n        0\n      ),\n      totalCommission: rentalsByPaymentMethod.bank_transfer.reduce(\n        (sum, r) => sum + r.commission,\n        0\n      ),\n      netAmount: rentalsByPaymentMethod.bank_transfer.reduce(\n        (sum, r) => sum + r.totalPrice - r.commission,\n        0\n      ),\n    },\n    vrp: {\n      count: rentalsByPaymentMethod.vrp.length,\n      totalPrice: rentalsByPaymentMethod.vrp.reduce(\n        (sum, r) => sum + r.totalPrice,\n        0\n      ),\n      totalCommission: rentalsByPaymentMethod.vrp.reduce(\n        (sum, r) => sum + r.commission,\n        0\n      ),\n      netAmount: rentalsByPaymentMethod.vrp.reduce(\n        (sum, r) => sum + r.totalPrice - r.commission,\n        0\n      ),\n    },\n    direct_to_owner: {\n      count: rentalsByPaymentMethod.direct_to_owner.length,\n      totalPrice: rentalsByPaymentMethod.direct_to_owner.reduce(\n        (sum, r) => sum + r.totalPrice,\n        0\n      ),\n      totalCommission: rentalsByPaymentMethod.direct_to_owner.reduce(\n        (sum, r) => sum + r.commission,\n        0\n      ),\n      netAmount: rentalsByPaymentMethod.direct_to_owner.reduce(\n        (sum, r) => sum + r.totalPrice - r.commission,\n        0\n      ),\n    },\n  };\n\n  const getPaymentMethodLabel = (method: string) => {\n    switch (method) {\n      case 'cash':\n        return 'Hotovosť';\n      case 'bank_transfer':\n        return 'FA (Faktúra)';\n      case 'vrp':\n        return 'VRP';\n      case 'direct_to_owner':\n        return 'Majiteľ';\n      default:\n        return method;\n    }\n  };\n\n  const getPaymentMethodColor = (method: string) => {\n    switch (method) {\n      case 'cash':\n        return '#4caf50';\n      case 'bank_transfer':\n        return '#2196f3';\n      case 'vrp':\n        return '#ff9800';\n      case 'direct_to_owner':\n        return '#9e9e9e';\n      default:\n        return '#666';\n    }\n  };\n\n  // Server PDF generovanie (rovnaký ako protokoly)\n  const handleDownloadPDF = async () => {\n    if (!state.token) {\n      alert('Nie ste prihlásený');\n      return;\n    }\n\n    setPdfLoading(true);\n    try {\n      const response = await fetch(\n        `${getAPI_BASE_URL()}/settlements/${settlement.id}/pdf`,\n        {\n          method: 'GET',\n          headers: {\n            Authorization: `Bearer ${state.token}`,\n          },\n        }\n      );\n\n      if (!response.ok) {\n        const errorData = await response\n          .json()\n          .catch(() => ({ error: 'Neznáma chyba' }));\n        throw new Error(errorData.error || `HTTP ${response.status}`);\n      }\n\n      // Získaj PDF blob\n      const blob = await response.blob();\n\n      // Vytvor download link\n      const url = window.URL.createObjectURL(blob);\n      const link = document.createElement('a');\n      link.href = url;\n\n      // Názov súboru\n      const filename = `vyuctovanie_${settlement.company?.replace(/[^a-zA-Z0-9]/g, '_')}_${settlement.id.slice(-8)}.pdf`;\n      link.download = filename;\n\n      // Trigger download\n      document.body.appendChild(link);\n      link.click();\n\n      // Cleanup\n      document.body.removeChild(link);\n      window.URL.revokeObjectURL(url);\n\n      console.log('✅ PDF úspešne stiahnuté');\n    } catch (error) {\n      console.error('❌ Chyba pri sťahovaní PDF:', error);\n      alert(\n        `Chyba pri sťahovaní PDF: ${error instanceof Error ? error.message : 'Neznáma chyba'}`\n      );\n    } finally {\n      setPdfLoading(false);\n    }\n  };\n\n  return (\n    <Box sx={{ p: { xs: 2, md: 3 } }}>\n      {/* Modern Header */}\n      <Card sx={{ mb: 3, boxShadow: '0 4px 12px rgba(0,0,0,0.1)' }}>\n        <CardContent\n          sx={{\n            background: 'linear-gradient(135deg, #1976d2 0%, #1565c0 100%)',\n            color: 'white',\n            position: 'relative',\n          }}\n        >\n          <Box\n            sx={{\n              display: 'flex',\n              justifyContent: 'space-between',\n              alignItems: 'flex-start',\n            }}\n          >\n            <Box sx={{ display: 'flex', alignItems: 'center', gap: 2, mb: 2 }}>\n              <ReportIcon sx={{ fontSize: 32 }} />\n              <Box>\n                <Typography variant=\"h4\" sx={{ fontWeight: 700, mb: 0.5 }}>\n                  Detail vyúčtovania\n                </Typography>\n                <Box sx={{ display: 'flex', alignItems: 'center', gap: 1 }}>\n                  <CompanyIcon sx={{ fontSize: 20 }} />\n                  <Typography variant=\"h6\">\n                    {settlement.company || 'N/A'}\n                  </Typography>\n                </Box>\n              </Box>\n            </Box>\n\n            <Button\n              variant=\"outlined\"\n              startIcon={<CloseIcon />}\n              onClick={onClose}\n              sx={{\n                color: 'white',\n                borderColor: 'white',\n                '&:hover': {\n                  borderColor: 'white',\n                  backgroundColor: 'rgba(255,255,255,0.1)',\n                },\n              }}\n            >\n              Zavrieť\n            </Button>\n          </Box>\n\n          <Box sx={{ display: 'flex', alignItems: 'center', gap: 1 }}>\n            <CalendarIcon sx={{ fontSize: 18 }} />\n            <Typography variant=\"body1\">\n              Obdobie:{' '}\n              {format(\n                settlement.period.from instanceof Date\n                  ? settlement.period.from\n                  : parseISO(settlement.period.from),\n                'dd.MM.yyyy',\n                { locale: sk }\n              )}{' '}\n              -{' '}\n              {format(\n                settlement.period.to instanceof Date\n                  ? settlement.period.to\n                  : parseISO(settlement.period.to),\n                'dd.MM.yyyy',\n                { locale: sk }\n              )}\n            </Typography>\n          </Box>\n        </CardContent>\n      </Card>\n\n      {/* Financial Summary Cards */}\n      <Grid container spacing={2} sx={{ mb: 3 }}>\n        <Grid item xs={12} sm={6} md={3}>\n          <Card\n            sx={{\n              background: 'linear-gradient(135deg, #4facfe 0%, #00f2fe 100%)',\n              color: 'white',\n              boxShadow: '0 4px 12px rgba(0,0,0,0.15)',\n              height: '100%',\n            }}\n          >\n            <CardContent>\n              <Box\n                sx={{\n                  display: 'flex',\n                  alignItems: 'center',\n                  justifyContent: 'space-between',\n                }}\n              >\n                <Box>\n                  <Typography variant=\"h6\" sx={{ fontWeight: 600, mb: 1 }}>\n                    CELKOVÉ PRÍJMY\n                  </Typography>\n                  <Typography variant=\"h4\" sx={{ fontWeight: 700 }}>\n                    {settlement.totalIncome.toFixed(2)}€\n                  </Typography>\n                </Box>\n                <BankIcon sx={{ fontSize: 40, opacity: 0.8 }} />\n              </Box>\n            </CardContent>\n          </Card>\n        </Grid>\n\n        <Grid item xs={12} sm={6} md={3}>\n          <Card\n            sx={{\n              background: 'linear-gradient(135deg, #f093fb 0%, #f5576c 100%)',\n              color: 'white',\n              boxShadow: '0 4px 12px rgba(0,0,0,0.15)',\n              height: '100%',\n            }}\n          >\n            <CardContent>\n              <Box\n                sx={{\n                  display: 'flex',\n                  alignItems: 'center',\n                  justifyContent: 'space-between',\n                }}\n              >\n                <Box>\n                  <Typography variant=\"h6\" sx={{ fontWeight: 600, mb: 1 }}>\n                    CELKOVÉ NÁKLADY\n                  </Typography>\n                  <Typography variant=\"h4\" sx={{ fontWeight: 700 }}>\n                    {settlement.totalExpenses.toFixed(2)}€\n                  </Typography>\n                </Box>\n                <EuroIcon sx={{ fontSize: 40, opacity: 0.8 }} />\n              </Box>\n            </CardContent>\n          </Card>\n        </Grid>\n\n        <Grid item xs={12} sm={6} md={3}>\n          <Card\n            sx={{\n              background: 'linear-gradient(135deg, #ffeaa7 0%, #fab1a0 100%)',\n              color: 'white',\n              boxShadow: '0 4px 12px rgba(0,0,0,0.15)',\n              height: '100%',\n            }}\n          >\n            <CardContent>\n              <Box\n                sx={{\n                  display: 'flex',\n                  alignItems: 'center',\n                  justifyContent: 'space-between',\n                }}\n              >\n                <Box>\n                  <Typography variant=\"h6\" sx={{ fontWeight: 600, mb: 1 }}>\n                    CELKOVÉ PROVÍZIE\n                  </Typography>\n                  <Typography variant=\"h4\" sx={{ fontWeight: 700 }}>\n                    {settlement.totalCommission.toFixed(2)}€\n                  </Typography>\n                </Box>\n                <ReceiptIcon sx={{ fontSize: 40, opacity: 0.8 }} />\n              </Box>\n            </CardContent>\n          </Card>\n        </Grid>\n\n        <Grid item xs={12} sm={6} md={3}>\n          <Card\n            sx={{\n              background:\n                settlement.profit >= 0\n                  ? 'linear-gradient(135deg, #a8edea 0%, #fed6e3 100%)'\n                  : 'linear-gradient(135deg, #ff9a9e 0%, #fecfef 100%)',\n              color: 'white',\n              boxShadow: '0 4px 12px rgba(0,0,0,0.15)',\n              height: '100%',\n            }}\n          >\n            <CardContent>\n              <Box\n                sx={{\n                  display: 'flex',\n                  alignItems: 'center',\n                  justifyContent: 'space-between',\n                }}\n              >\n                <Box>\n                  <Typography variant=\"h6\" sx={{ fontWeight: 600, mb: 1 }}>\n                    {settlement.profit >= 0 ? 'CELKOVÝ ZISK' : 'CELKOVÁ STRATA'}\n                  </Typography>\n                  <Typography variant=\"h4\" sx={{ fontWeight: 700 }}>\n                    {settlement.profit.toFixed(2)}€\n                  </Typography>\n                </Box>\n                {settlement.profit >= 0 ? (\n                  <ProfitIcon sx={{ fontSize: 40, opacity: 0.8 }} />\n                ) : (\n                  <LossIcon sx={{ fontSize: 40, opacity: 0.8 }} />\n                )}\n              </Box>\n            </CardContent>\n          </Card>\n        </Grid>\n      </Grid>\n\n      {/* Payment Methods Overview */}\n      <Card sx={{ mb: 3, boxShadow: '0 2px 8px rgba(0,0,0,0.1)' }}>\n        <CardContent>\n          <Box sx={{ display: 'flex', alignItems: 'center', gap: 1, mb: 2 }}>\n            <PaymentIcon sx={{ color: '#1976d2' }} />\n            <Typography variant=\"h6\" sx={{ fontWeight: 600, color: '#1976d2' }}>\n              Prehľad podľa spôsobov platby\n            </Typography>\n          </Box>\n\n          <TableContainer\n            sx={{\n              backgroundColor: 'transparent',\n              '& .MuiTableHead-root': {\n                '& .MuiTableCell-root': {\n                  backgroundColor: '#f8f9fa',\n                  fontWeight: 600,\n                  color: '#1976d2',\n                },\n              },\n            }}\n          >\n            <Table>\n              <TableHead>\n                <TableRow>\n                  <TableCell>Spôsob platby</TableCell>\n                  <TableCell align=\"center\">Počet prenájmov</TableCell>\n                  <TableCell align=\"right\">Celková cena (€)</TableCell>\n                  <TableCell align=\"right\">Provízie (€)</TableCell>\n                  <TableCell align=\"right\">\n                    Po odpočítaní provízií (€)\n                  </TableCell>\n                </TableRow>\n              </TableHead>\n              <TableBody>\n                {Object.entries(paymentMethodStats).map(([method, stats]) => (\n                  <TableRow\n                    key={method}\n                    sx={{\n                      '&:hover': {\n                        backgroundColor: 'rgba(25, 118, 210, 0.04)',\n                      },\n                    }}\n                  >\n                    <TableCell>\n                      <Box\n                        sx={{ display: 'flex', alignItems: 'center', gap: 1 }}\n                      >\n                        <Box\n                          sx={{\n                            width: 12,\n                            height: 12,\n                            borderRadius: '50%',\n                            backgroundColor: getPaymentMethodColor(method),\n                          }}\n                        />\n                        <Typography variant=\"body2\" sx={{ fontWeight: 600 }}>\n                          {getPaymentMethodLabel(method)}\n                        </Typography>\n                      </Box>\n                    </TableCell>\n                    <TableCell align=\"center\">\n                      <Chip\n                        label={stats.count}\n                        size=\"small\"\n                        color=\"primary\"\n                        variant=\"outlined\"\n                      />\n                    </TableCell>\n                    <TableCell align=\"right\" sx={{ fontWeight: 600 }}>\n                      {stats.totalPrice.toFixed(2)}\n                    </TableCell>\n                    <TableCell\n                      align=\"right\"\n                      sx={{ fontWeight: 600, color: '#ff9800' }}\n                    >\n                      {stats.totalCommission.toFixed(2)}\n                    </TableCell>\n                    <TableCell\n                      align=\"right\"\n                      sx={{ fontWeight: 600, color: '#4caf50' }}\n                    >\n                      {stats.netAmount.toFixed(2)}\n                    </TableCell>\n                  </TableRow>\n                ))}\n                <TableRow\n                  sx={{\n                    backgroundColor: '#e3f2fd',\n                    '& .MuiTableCell-root': {\n                      fontWeight: 700,\n                      borderTop: '2px solid #1976d2',\n                    },\n                  }}\n                >\n                  <TableCell>SPOLU</TableCell>\n                  <TableCell align=\"center\">\n                    {settlement.rentals?.length || 0}\n                  </TableCell>\n                  <TableCell align=\"right\">\n                    {settlement.totalIncome.toFixed(2)}\n                  </TableCell>\n                  <TableCell align=\"right\">\n                    {settlement.totalCommission.toFixed(2)}\n                  </TableCell>\n                  <TableCell align=\"right\">\n                    {(\n                      settlement.totalIncome - settlement.totalCommission\n                    ).toFixed(2)}\n                  </TableCell>\n                </TableRow>\n              </TableBody>\n            </Table>\n          </TableContainer>\n        </CardContent>\n      </Card>\n\n      {/* Detailed Lists */}\n      <Grid container spacing={3} sx={{ mb: 3 }}>\n        <Grid item xs={12} lg={8}>\n          <Card\n            sx={{\n              boxShadow: '0 2px 8px rgba(0,0,0,0.1)',\n              height: 'fit-content',\n            }}\n          >\n            <CardContent>\n              <Box\n                sx={{ display: 'flex', alignItems: 'center', gap: 1, mb: 2 }}\n              >\n                <VehicleIcon sx={{ color: '#4caf50' }} />\n                <Typography\n                  variant=\"h6\"\n                  sx={{ fontWeight: 600, color: '#4caf50' }}\n                >\n                  Prenájmy ({settlement.rentals?.length || 0})\n                </Typography>\n              </Box>\n\n              <TableContainer\n                sx={{\n                  maxHeight: 600,\n                  '& .MuiTableHead-root': {\n                    '& .MuiTableCell-root': {\n                      backgroundColor: '#e8f5e8',\n                      fontWeight: 600,\n                      position: 'sticky',\n                      top: 0,\n                      zIndex: 1,\n                    },\n                  },\n                }}\n              >\n                <Table size=\"small\">\n                  <TableHead>\n                    <TableRow>\n                      <TableCell>Vozidlo</TableCell>\n                      <TableCell>Zákazník</TableCell>\n                      <TableCell>Dátum prenájmu</TableCell>\n                      <TableCell>Platba</TableCell>\n                      <TableCell align=\"right\">Cena (€)</TableCell>\n                      <TableCell align=\"right\">Provízia (€)</TableCell>\n                    </TableRow>\n                  </TableHead>\n                  <TableBody>\n                    {settlement.rentals.map((rental, index) => (\n                      <TableRow\n                        key={rental.id}\n                        sx={{\n                          backgroundColor:\n                            index % 2 === 0 ? 'transparent' : '#fafafa',\n                          '&:hover': {\n                            backgroundColor: 'rgba(76, 175, 80, 0.04)',\n                          },\n                        }}\n                      >\n                        <TableCell>\n                          <Typography variant=\"body2\" sx={{ fontWeight: 600 }}>\n                            {rental.vehicle?.brand} {rental.vehicle?.model}\n                          </Typography>\n                          <Typography variant=\"caption\" color=\"text.secondary\">\n                            {rental.vehicle?.licensePlate}\n                          </Typography>\n                        </TableCell>\n                        <TableCell>\n                          <Box\n                            sx={{\n                              display: 'flex',\n                              alignItems: 'center',\n                              gap: 0.5,\n                            }}\n                          >\n                            <PersonIcon\n                              sx={{ fontSize: 16, color: 'text.secondary' }}\n                            />\n                            <Typography variant=\"body2\">\n                              {rental.customerName}\n                            </Typography>\n                          </Box>\n                        </TableCell>\n                        <TableCell>\n                          <Typography variant=\"body2\" sx={{ fontWeight: 600 }}>\n                            {format(new Date(rental.startDate), 'dd.MM.yyyy', {\n                              locale: sk,\n                            })}{' '}\n                            -{' '}\n                            {format(new Date(rental.endDate), 'dd.MM.yyyy', {\n                              locale: sk,\n                            })}\n                          </Typography>\n                          <Typography variant=\"caption\" color=\"text.secondary\">\n                            {Math.max(\n                              1,\n                              Math.ceil(\n                                (new Date(rental.endDate).getTime() -\n                                  new Date(rental.startDate).getTime()) /\n                                  (1000 * 60 * 60 * 24)\n                              )\n                            )}{' '}\n                            dní\n                          </Typography>\n                        </TableCell>\n                        <TableCell>\n                          <Chip\n                            label={getPaymentMethodLabel(rental.paymentMethod)}\n                            size=\"small\"\n                            sx={{\n                              backgroundColor: getPaymentMethodColor(\n                                rental.paymentMethod\n                              ),\n                              color: 'white',\n                              fontWeight: 600,\n                            }}\n                          />\n                        </TableCell>\n                        <TableCell align=\"right\" sx={{ fontWeight: 600 }}>\n                          {rental.totalPrice.toFixed(2)}\n                        </TableCell>\n                        <TableCell\n                          align=\"right\"\n                          sx={{ fontWeight: 600, color: '#ff9800' }}\n                        >\n                          {rental.commission.toFixed(2)}\n                        </TableCell>\n                      </TableRow>\n                    ))}\n                  </TableBody>\n                </Table>\n              </TableContainer>\n            </CardContent>\n          </Card>\n        </Grid>\n\n        <Grid item xs={12} lg={4}>\n          <Card\n            sx={{\n              boxShadow: '0 2px 8px rgba(0,0,0,0.1)',\n              height: 'fit-content',\n            }}\n          >\n            <CardContent>\n              <Box\n                sx={{ display: 'flex', alignItems: 'center', gap: 1, mb: 2 }}\n              >\n                <EuroIcon sx={{ color: '#f44336' }} />\n                <Typography\n                  variant=\"h6\"\n                  sx={{ fontWeight: 600, color: '#f44336' }}\n                >\n                  Náklady {settlement.company || 'N/A'} (\n                  {settlement.expenses?.length || 0})\n                </Typography>\n              </Box>\n\n              <TableContainer\n                sx={{\n                  maxHeight: 400,\n                  '& .MuiTableHead-root': {\n                    '& .MuiTableCell-root': {\n                      backgroundColor: '#ffebee',\n                      fontWeight: 600,\n                      position: 'sticky',\n                      top: 0,\n                      zIndex: 1,\n                    },\n                  },\n                }}\n              >\n                <Table size=\"small\">\n                  <TableHead>\n                    <TableRow>\n                      <TableCell>Popis</TableCell>\n                      <TableCell>Kategória</TableCell>\n                      <TableCell align=\"right\">Suma (€)</TableCell>\n                    </TableRow>\n                  </TableHead>\n                  <TableBody>\n                    {settlement.expenses.map((expense, index) => (\n                      <TableRow\n                        key={expense.id}\n                        sx={{\n                          backgroundColor:\n                            index % 2 === 0 ? 'transparent' : '#fafafa',\n                          '&:hover': {\n                            backgroundColor: 'rgba(244, 67, 54, 0.04)',\n                          },\n                        }}\n                      >\n                        <TableCell>\n                          <Typography variant=\"body2\" sx={{ fontWeight: 600 }}>\n                            {expense.description}\n                          </Typography>\n                        </TableCell>\n                        <TableCell>\n                          <Chip\n                            label={expense.category}\n                            size=\"small\"\n                            color=\"secondary\"\n                            variant=\"outlined\"\n                          />\n                        </TableCell>\n                        <TableCell\n                          align=\"right\"\n                          sx={{ fontWeight: 600, color: '#f44336' }}\n                        >\n                          {expense.amount.toFixed(2)}\n                        </TableCell>\n                      </TableRow>\n                    ))}\n                  </TableBody>\n                </Table>\n              </TableContainer>\n            </CardContent>\n          </Card>\n        </Grid>\n      </Grid>\n\n      {/* Action Buttons */}\n      <Card sx={{ boxShadow: '0 2px 8px rgba(0,0,0,0.1)' }}>\n        <CardContent>\n          <Box\n            sx={{\n              display: 'flex',\n              justifyContent: 'space-between',\n              alignItems: 'center',\n              flexDirection: { xs: 'column', sm: 'row' },\n              gap: 2,\n            }}\n          >\n            <Button\n              variant=\"contained\"\n              size=\"large\"\n              startIcon={\n                pdfLoading ? (\n                  <CircularProgress size={20} color=\"inherit\" />\n                ) : (\n                  <PdfIcon />\n                )\n              }\n              onClick={handleDownloadPDF}\n              disabled={pdfLoading}\n              sx={{\n                background: 'linear-gradient(135deg, #d32f2f 0%, #f44336 100%)',\n                px: 4,\n                py: 1.5,\n                fontSize: '1.1rem',\n                fontWeight: 600,\n                borderRadius: 2,\n                boxShadow: '0 4px 12px rgba(211, 47, 47, 0.3)',\n                '&:hover': {\n                  background:\n                    'linear-gradient(135deg, #c62828 0%, #e53935 100%)',\n                  transform: 'translateY(-2px)',\n                  boxShadow: '0 6px 16px rgba(211, 47, 47, 0.4)',\n                },\n                '&:disabled': {\n                  background:\n                    'linear-gradient(135deg, #bdbdbd 0%, #9e9e9e 100%)',\n                },\n                transition: 'all 0.2s ease',\n              }}\n            >\n              {pdfLoading ? 'Generujem PDF...' : 'Stiahnuť PDF'}\n            </Button>\n\n            <Typography\n              variant=\"body2\"\n              color=\"text.secondary\"\n              sx={{\n                fontStyle: 'italic',\n                textAlign: { xs: 'center', sm: 'right' },\n              }}\n            >\n              ID vyúčtovania: {settlement.id.slice(-8).toUpperCase()}\n            </Typography>\n          </Box>\n        </CardContent>\n      </Card>\n    </Box>\n  );\n}\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/components/settlements/SettlementListNew.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/components/statistics/ChartsTab.tsx",
    "messages": [
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 22,
        "column": 10,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 22,
        "endColumn": 13,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [353, 356], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [353, 356], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 89,
        "column": 39,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 89,
        "endColumn": 42,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [2399, 2402], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [2399, 2402], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 2,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "import { Typography, Card, CardContent, Grid } from '@mui/material';\nimport React from 'react';\nimport {\n  BarChart,\n  Bar,\n  LineChart,\n  Line,\n  PieChart,\n  Pie,\n  Cell,\n  XAxis,\n  YAxis,\n  CartesianGrid,\n  Tooltip,\n  Legend,\n  ResponsiveContainer,\n} from 'recharts';\n\nimport CustomTooltip from './CustomTooltip';\n\ninterface ChartsTabProps {\n  stats: any;\n  COLORS: string[];\n}\n\nconst ChartsTab: React.FC<ChartsTabProps> = ({ stats, COLORS }) => {\n  return (\n    <Grid container spacing={3}>\n      {/* Stĺpcový graf - mesiačné prenájmy */}\n      <Grid item xs={12} lg={6}>\n        <Card\n          sx={{\n            boxShadow: '0 2px 8px rgba(0,0,0,0.1)',\n            '&:hover': {\n              boxShadow: '0 4px 16px rgba(0,0,0,0.15)',\n            },\n          }}\n        >\n          <CardContent>\n            <Typography\n              variant=\"h6\"\n              gutterBottom\n              sx={{ fontWeight: 700, color: '#667eea' }}\n            >\n              Počet prenájmov podľa mesiacov\n            </Typography>\n            <ResponsiveContainer width=\"100%\" height={300}>\n              <BarChart data={stats.monthlyData}>\n                <CartesianGrid strokeDasharray=\"3 3\" />\n                <XAxis dataKey=\"month\" />\n                <YAxis />\n                <Tooltip />\n                <Bar\n                  dataKey=\"rentals\"\n                  fill=\"#667eea\"\n                  name=\"Prenájmy\"\n                  radius={[4, 4, 0, 0]}\n                />\n              </BarChart>\n            </ResponsiveContainer>\n          </CardContent>\n        </Card>\n      </Grid>\n\n      {/* Koláčový graf - spôsoby platby */}\n      <Grid item xs={12} lg={6}>\n        <Card\n          sx={{\n            boxShadow: '0 2px 8px rgba(0,0,0,0.1)',\n            '&:hover': {\n              boxShadow: '0 4px 16px rgba(0,0,0,0.15)',\n            },\n          }}\n        >\n          <CardContent>\n            <Typography\n              variant=\"h6\"\n              gutterBottom\n              sx={{ fontWeight: 700, color: '#667eea' }}\n            >\n              Rozdelenie podľa spôsobu platby\n            </Typography>\n            <ResponsiveContainer width=\"100%\" height={300}>\n              <PieChart>\n                <Pie\n                  data={Object.entries(stats.paymentMethodStats).map(\n                    ([method, data]) => ({\n                      name: method,\n                      value: (data as any).count,\n                    })\n                  )}\n                  cx=\"50%\"\n                  cy=\"50%\"\n                  labelLine={false}\n                  label={({ name, percent }) =>\n                    `${name} ${((percent || 0) * 100).toFixed(0)}%`\n                  }\n                  outerRadius={80}\n                  fill=\"#667eea\"\n                  dataKey=\"value\"\n                >\n                  {Object.entries(stats.paymentMethodStats).map(\n                    (entry, index) => (\n                      <Cell\n                        key={`cell-${index}`}\n                        fill={COLORS[index % COLORS.length]}\n                      />\n                    )\n                  )}\n                </Pie>\n                <Tooltip />\n              </PieChart>\n            </ResponsiveContainer>\n          </CardContent>\n        </Card>\n      </Grid>\n\n      {/* Línový graf - trend príjmov vs provízií */}\n      <Grid item xs={12}>\n        <Card\n          sx={{\n            boxShadow: '0 2px 8px rgba(0,0,0,0.1)',\n            '&:hover': {\n              boxShadow: '0 4px 16px rgba(0,0,0,0.15)',\n            },\n          }}\n        >\n          <CardContent>\n            <Typography\n              variant=\"h6\"\n              gutterBottom\n              sx={{ fontWeight: 700, color: '#667eea' }}\n            >\n              Trend príjmov vs provízií\n            </Typography>\n            <ResponsiveContainer width=\"100%\" height={400}>\n              <LineChart data={stats.monthlyData}>\n                <CartesianGrid strokeDasharray=\"3 3\" />\n                <XAxis dataKey=\"month\" />\n                <YAxis />\n                <Tooltip content={<CustomTooltip />} />\n                <Legend />\n                <Line\n                  type=\"monotone\"\n                  dataKey=\"revenue\"\n                  stroke=\"#667eea\"\n                  strokeWidth={3}\n                  name=\"Príjmy\"\n                  dot={{ fill: '#667eea', strokeWidth: 2, r: 6 }}\n                />\n                <Line\n                  type=\"monotone\"\n                  dataKey=\"commission\"\n                  stroke=\"#11998e\"\n                  strokeWidth={3}\n                  name=\"Provízie\"\n                  dot={{ fill: '#11998e', strokeWidth: 2, r: 6 }}\n                />\n              </LineChart>\n            </ResponsiveContainer>\n          </CardContent>\n        </Card>\n      </Grid>\n    </Grid>\n  );\n};\n\nexport default ChartsTab;\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/components/statistics/CollapsibleSection.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/components/statistics/CompaniesTab.tsx",
    "messages": [
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 13,
        "column": 10,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 13,
        "endColumn": 13,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [222, 225], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [222, 225], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 20,
        "column": 39,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 20,
        "endColumn": 42,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [421, 424], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [421, 424], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 20,
        "column": 60,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 20,
        "endColumn": 63,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [442, 445], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [442, 445], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 45,
        "column": 33,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 45,
        "endColumn": 36,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [1400, 1403], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [1400, 1403], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 68,
        "column": 31,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 68,
        "endColumn": 34,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [2151, 2154], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [2151, 2154], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 89,
        "column": 31,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 89,
        "endColumn": 34,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [2856, 2859], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [2856, 2859], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 6,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "import { Person as PersonIcon } from '@mui/icons-material';\nimport {\n  Box,\n  Typography,\n  Card,\n  CardContent,\n  Grid,\n  Avatar,\n} from '@mui/material';\nimport React from 'react';\n\ninterface CompaniesTabProps {\n  stats: any;\n}\n\nconst CompaniesTab: React.FC<CompaniesTabProps> = ({ stats }) => {\n  return (\n    <Grid container spacing={3}>\n      {Object.entries(stats.companyStats)\n        .sort(([, a], [, b]) => (b as any).revenue - (a as any).revenue)\n        .map(([company, data]) => (\n          <Grid item xs={12} md={6} lg={4} key={company}>\n            <Card\n              sx={{\n                boxShadow: '0 2px 8px rgba(0,0,0,0.1)',\n                transition: 'all 0.2s ease',\n                '&:hover': {\n                  boxShadow: '0 8px 24px rgba(0,0,0,0.15)',\n                  transform: 'translateY(-4px)',\n                },\n              }}\n            >\n              <CardContent>\n                <Box\n                  sx={{ display: 'flex', alignItems: 'center', gap: 2, mb: 2 }}\n                >\n                  <Avatar sx={{ bgcolor: '#667eea' }}>\n                    <PersonIcon />\n                  </Avatar>\n                  <Box>\n                    <Typography variant=\"h6\" fontWeight=\"bold\">\n                      {company}\n                    </Typography>\n                    <Typography variant=\"body2\" color=\"text.secondary\">\n                      {(data as any).count} prenájmov\n                    </Typography>\n                  </Box>\n                </Box>\n\n                <Box\n                  sx={{\n                    display: 'flex',\n                    justifyContent: 'space-between',\n                    mb: 1,\n                    p: 1.5,\n                    borderRadius: 1,\n                    backgroundColor: '#f8f9fa',\n                  }}\n                >\n                  <Typography variant=\"body2\" sx={{ fontWeight: 600 }}>\n                    Príjmy:\n                  </Typography>\n                  <Typography\n                    variant=\"body2\"\n                    fontWeight=\"bold\"\n                    sx={{ color: '#11998e' }}\n                  >\n                    {(data as any).revenue.toLocaleString()} €\n                  </Typography>\n                </Box>\n\n                <Box\n                  sx={{\n                    display: 'flex',\n                    justifyContent: 'space-between',\n                    p: 1.5,\n                    borderRadius: 1,\n                    backgroundColor: '#fff3e0',\n                  }}\n                >\n                  <Typography variant=\"body2\" sx={{ fontWeight: 600 }}>\n                    Provízia:\n                  </Typography>\n                  <Typography\n                    variant=\"body2\"\n                    color=\"warning.main\"\n                    fontWeight=\"bold\"\n                  >\n                    {(data as any).commission.toLocaleString()} €\n                  </Typography>\n                </Box>\n              </CardContent>\n            </Card>\n          </Grid>\n        ))}\n    </Grid>\n  );\n};\n\nexport default CompaniesTab;\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/components/statistics/CustomTooltip.tsx",
    "messages": [
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 8,
        "column": 13,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 8,
        "endColumn": 16,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [174, 177], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [174, 177], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 23,
        "column": 30,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 23,
        "endColumn": 33,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [525, 528], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [525, 528], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 2,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "import { Typography } from '@mui/material';\nimport React from 'react';\n\nimport { ElevatedCard } from '../ui';\n\ninterface CustomTooltipProps {\n  active?: boolean;\n  payload?: any[];\n  label?: string;\n}\n\nconst CustomTooltip: React.FC<CustomTooltipProps> = ({\n  active,\n  payload,\n  label,\n}) => {\n  if (active && payload && payload.length) {\n    return (\n      <ElevatedCard sx={{ p: 2 }}>\n        <Typography variant=\"body2\" fontWeight=\"bold\" gutterBottom>\n          {label}\n        </Typography>\n        {payload.map((entry: any, index: number) => (\n          <Typography key={index} variant=\"body2\" color={entry.color}>\n            {entry.name}: {entry.value.toLocaleString()} €\n          </Typography>\n        ))}\n      </ElevatedCard>\n    );\n  }\n  return null;\n};\n\nexport default CustomTooltip;\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/components/statistics/EmployeesTab.tsx",
    "messages": [
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 24,
        "column": 10,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 24,
        "endColumn": 13,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [382, 385], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [382, 385], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 150,
        "column": 37,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 150,
        "endColumn": 40,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [4978, 4981], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [4978, 4981], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 246,
        "column": 37,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 246,
        "endColumn": 40,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [8806, 8809], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [8806, 8809], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 363,
        "column": 31,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 363,
        "endColumn": 34,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [13569, 13572], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [13569, 13572], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 363,
        "column": 39,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 363,
        "endColumn": 42,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [13577, 13580], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [13577, 13580], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 366,
        "column": 41,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 366,
        "endColumn": 44,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [13715, 13718], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [13715, 13718], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 6,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "import {\n  Person as PersonIcon,\n  EmojiEvents as TrophyIcon,\n  Euro as EuroIcon,\n  Assessment as AssessmentIcon,\n} from '@mui/icons-material';\nimport {\n  Box,\n  Typography,\n  Card,\n  CardContent,\n  Grid,\n  Table,\n  TableBody,\n  TableCell,\n  TableContainer,\n  TableHead,\n  TableRow,\n  Chip,\n} from '@mui/material';\nimport React from 'react';\n\ninterface EmployeesTabProps {\n  stats: any;\n  formatPeriod: () => string;\n}\n\nconst EmployeesTab: React.FC<EmployeesTabProps> = ({ stats, formatPeriod }) => {\n  return (\n    <Grid container spacing={3}>\n      {/* Header */}\n      <Grid item xs={12}>\n        <Typography\n          variant=\"h5\"\n          sx={{\n            fontWeight: 700,\n            mb: 3,\n            color: '#667eea',\n            display: 'flex',\n            alignItems: 'center',\n            gap: 1,\n          }}\n        >\n          <PersonIcon />\n          Výkon zamestnancov za obdobie: {formatPeriod()}\n        </Typography>\n      </Grid>\n\n      {/* Employee Statistics Cards */}\n      {stats.employeeStats && stats.employeeStats.activeEmployees > 0 ? (\n        <>\n          {/* Summary Stats */}\n          <Grid item xs={12}>\n            <Grid container spacing={2}>\n              <Grid item xs={12} sm={6} md={3}>\n                <Card\n                  sx={{\n                    boxShadow: '0 2px 8px rgba(0,0,0,0.1)',\n                    background:\n                      'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',\n                    color: 'white',\n                  }}\n                >\n                  <CardContent sx={{ textAlign: 'center' }}>\n                    <Typography variant=\"h4\" sx={{ fontWeight: 700, mb: 1 }}>\n                      {stats.employeeStats.totalProtocols}\n                    </Typography>\n                    <Typography variant=\"body2\">Celkovo protokolov</Typography>\n                  </CardContent>\n                </Card>\n              </Grid>\n              <Grid item xs={12} sm={6} md={3}>\n                <Card\n                  sx={{\n                    boxShadow: '0 2px 8px rgba(0,0,0,0.1)',\n                    background:\n                      'linear-gradient(135deg, #f093fb 0%, #f5576c 100%)',\n                    color: 'white',\n                  }}\n                >\n                  <CardContent sx={{ textAlign: 'center' }}>\n                    <Typography variant=\"h4\" sx={{ fontWeight: 700, mb: 1 }}>\n                      {stats.employeeStats.totalHandovers}\n                    </Typography>\n                    <Typography variant=\"body2\">Odovzdaní</Typography>\n                  </CardContent>\n                </Card>\n              </Grid>\n              <Grid item xs={12} sm={6} md={3}>\n                <Card\n                  sx={{\n                    boxShadow: '0 2px 8px rgba(0,0,0,0.1)',\n                    background:\n                      'linear-gradient(135deg, #4facfe 0%, #00f2fe 100%)',\n                    color: 'white',\n                  }}\n                >\n                  <CardContent sx={{ textAlign: 'center' }}>\n                    <Typography variant=\"h4\" sx={{ fontWeight: 700, mb: 1 }}>\n                      {stats.employeeStats.totalReturns}\n                    </Typography>\n                    <Typography variant=\"body2\">Prebraní</Typography>\n                  </CardContent>\n                </Card>\n              </Grid>\n              <Grid item xs={12} sm={6} md={3}>\n                <Card\n                  sx={{\n                    boxShadow: '0 2px 8px rgba(0,0,0,0.1)',\n                    background:\n                      'linear-gradient(135deg, #fa709a 0%, #fee140 100%)',\n                    color: 'white',\n                  }}\n                >\n                  <CardContent sx={{ textAlign: 'center' }}>\n                    <Typography variant=\"h4\" sx={{ fontWeight: 700, mb: 1 }}>\n                      {stats.employeeStats.activeEmployees}\n                    </Typography>\n                    <Typography variant=\"body2\">\n                      Aktívnych zamestnancov\n                    </Typography>\n                  </CardContent>\n                </Card>\n              </Grid>\n            </Grid>\n          </Grid>\n\n          {/* Top Employees by Protocols */}\n          <Grid item xs={12} lg={6}>\n            <Card\n              sx={{ boxShadow: '0 2px 8px rgba(0,0,0,0.1)', height: '100%' }}\n            >\n              <CardContent>\n                <Typography\n                  variant=\"h6\"\n                  sx={{\n                    fontWeight: 600,\n                    mb: 2,\n                    display: 'flex',\n                    alignItems: 'center',\n                    gap: 1,\n                  }}\n                >\n                  <TrophyIcon />\n                  Top zamestnanci (protokoly)\n                </Typography>\n                <Box sx={{ maxHeight: 400, overflowY: 'auto' }}>\n                  {stats.employeeStats.topEmployeesByProtocols\n                    .slice(0, 10)\n                    .map((employee: any, index: number) => (\n                      <Box\n                        key={index}\n                        sx={{\n                          display: 'flex',\n                          justifyContent: 'space-between',\n                          alignItems: 'center',\n                          p: 2,\n                          mb: 1,\n                          bgcolor:\n                            index < 3\n                              ? 'rgba(102, 126, 234, 0.1)'\n                              : 'background.paper',\n                          borderRadius: 2,\n                          border:\n                            index < 3\n                              ? '1px solid rgba(102, 126, 234, 0.2)'\n                              : '1px solid rgba(0,0,0,0.1)',\n                        }}\n                      >\n                        <Box\n                          sx={{ display: 'flex', alignItems: 'center', gap: 2 }}\n                        >\n                          <Box\n                            sx={{\n                              width: 32,\n                              height: 32,\n                              borderRadius: '50%',\n                              bgcolor:\n                                index === 0\n                                  ? '#FFD700'\n                                  : index === 1\n                                    ? '#C0C0C0'\n                                    : index === 2\n                                      ? '#CD7F32'\n                                      : '#667eea',\n                              display: 'flex',\n                              alignItems: 'center',\n                              justifyContent: 'center',\n                              color: 'white',\n                              fontWeight: 700,\n                            }}\n                          >\n                            {index + 1}\n                          </Box>\n                          <Box>\n                            <Typography\n                              variant=\"body1\"\n                              sx={{ fontWeight: 600 }}\n                            >\n                              {employee.employeeName}\n                            </Typography>\n                            <Typography\n                              variant=\"caption\"\n                              color=\"text.secondary\"\n                            >\n                              {employee.handoverCount} odovzdaní •{' '}\n                              {employee.returnCount} prebraní\n                            </Typography>\n                          </Box>\n                        </Box>\n                        <Typography\n                          variant=\"h6\"\n                          sx={{ fontWeight: 700, color: '#667eea' }}\n                        >\n                          {employee.totalProtocols}\n                        </Typography>\n                      </Box>\n                    ))}\n                </Box>\n              </CardContent>\n            </Card>\n          </Grid>\n\n          {/* Top Employees by Revenue */}\n          <Grid item xs={12} lg={6}>\n            <Card\n              sx={{ boxShadow: '0 2px 8px rgba(0,0,0,0.1)', height: '100%' }}\n            >\n              <CardContent>\n                <Typography\n                  variant=\"h6\"\n                  sx={{\n                    fontWeight: 600,\n                    mb: 2,\n                    display: 'flex',\n                    alignItems: 'center',\n                    gap: 1,\n                  }}\n                >\n                  <EuroIcon />\n                  Top zamestnanci (tržby)\n                </Typography>\n                <Box sx={{ maxHeight: 400, overflowY: 'auto' }}>\n                  {stats.employeeStats.topEmployeesByRevenue\n                    .slice(0, 10)\n                    .map((employee: any, index: number) => (\n                      <Box\n                        key={index}\n                        sx={{\n                          display: 'flex',\n                          justifyContent: 'space-between',\n                          alignItems: 'center',\n                          p: 2,\n                          mb: 1,\n                          bgcolor:\n                            index < 3\n                              ? 'rgba(76, 175, 80, 0.1)'\n                              : 'background.paper',\n                          borderRadius: 2,\n                          border:\n                            index < 3\n                              ? '1px solid rgba(76, 175, 80, 0.2)'\n                              : '1px solid rgba(0,0,0,0.1)',\n                        }}\n                      >\n                        <Box\n                          sx={{ display: 'flex', alignItems: 'center', gap: 2 }}\n                        >\n                          <Box\n                            sx={{\n                              width: 32,\n                              height: 32,\n                              borderRadius: '50%',\n                              bgcolor:\n                                index === 0\n                                  ? '#FFD700'\n                                  : index === 1\n                                    ? '#C0C0C0'\n                                    : index === 2\n                                      ? '#CD7F32'\n                                      : '#4CAF50',\n                              display: 'flex',\n                              alignItems: 'center',\n                              justifyContent: 'center',\n                              color: 'white',\n                              fontWeight: 700,\n                            }}\n                          >\n                            {index + 1}\n                          </Box>\n                          <Box>\n                            <Typography\n                              variant=\"body1\"\n                              sx={{ fontWeight: 600 }}\n                            >\n                              {employee.employeeName}\n                            </Typography>\n                            <Typography\n                              variant=\"caption\"\n                              color=\"text.secondary\"\n                            >\n                              {employee.totalProtocols} protokolov\n                            </Typography>\n                          </Box>\n                        </Box>\n                        <Typography\n                          variant=\"h6\"\n                          sx={{ fontWeight: 700, color: '#4CAF50' }}\n                        >\n                          €{employee.totalRevenue?.toLocaleString() || 0}\n                        </Typography>\n                      </Box>\n                    ))}\n                </Box>\n              </CardContent>\n            </Card>\n          </Grid>\n\n          {/* Detailed Employee Table */}\n          <Grid item xs={12}>\n            <Card sx={{ boxShadow: '0 2px 8px rgba(0,0,0,0.1)' }}>\n              <CardContent>\n                <Typography\n                  variant=\"h6\"\n                  sx={{\n                    fontWeight: 600,\n                    mb: 2,\n                    display: 'flex',\n                    alignItems: 'center',\n                    gap: 1,\n                  }}\n                >\n                  <AssessmentIcon />\n                  Detailné štatistiky zamestnancov\n                </Typography>\n                <TableContainer>\n                  <Table>\n                    <TableHead>\n                      <TableRow>\n                        <TableCell sx={{ fontWeight: 600 }}>\n                          Zamestnanec\n                        </TableCell>\n                        <TableCell align=\"center\" sx={{ fontWeight: 600 }}>\n                          Protokoly\n                        </TableCell>\n                        <TableCell align=\"center\" sx={{ fontWeight: 600 }}>\n                          Odovzdania\n                        </TableCell>\n                        <TableCell align=\"center\" sx={{ fontWeight: 600 }}>\n                          Prebrania\n                        </TableCell>\n                        <TableCell align=\"right\" sx={{ fontWeight: 600 }}>\n                          Tržby\n                        </TableCell>\n                        <TableCell align=\"center\" sx={{ fontWeight: 600 }}>\n                          Prenájmy\n                        </TableCell>\n                      </TableRow>\n                    </TableHead>\n                    <TableBody>\n                      {stats.employeeStats.allEmployees\n                        .sort(\n                          (a: any, b: any) =>\n                            b.totalProtocols - a.totalProtocols\n                        )\n                        .map((employee: any, index: number) => (\n                          <TableRow\n                            key={index}\n                            sx={{\n                              '&:nth-of-type(odd)': {\n                                backgroundColor: 'rgba(0, 0, 0, 0.04)',\n                              },\n                            }}\n                          >\n                            <TableCell>\n                              <Box\n                                sx={{\n                                  display: 'flex',\n                                  alignItems: 'center',\n                                  gap: 1,\n                                }}\n                              >\n                                <PersonIcon color=\"primary\" />\n                                <Typography\n                                  variant=\"body2\"\n                                  sx={{ fontWeight: 600 }}\n                                >\n                                  {employee.employeeName}\n                                </Typography>\n                              </Box>\n                            </TableCell>\n                            <TableCell align=\"center\">\n                              <Chip\n                                label={employee.totalProtocols}\n                                color=\"primary\"\n                                size=\"small\"\n                              />\n                            </TableCell>\n                            <TableCell align=\"center\">\n                              <Chip\n                                label={employee.handoverCount}\n                                color=\"secondary\"\n                                size=\"small\"\n                              />\n                            </TableCell>\n                            <TableCell align=\"center\">\n                              <Chip\n                                label={employee.returnCount}\n                                color=\"info\"\n                                size=\"small\"\n                              />\n                            </TableCell>\n                            <TableCell align=\"right\">\n                              <Typography\n                                variant=\"body2\"\n                                sx={{ fontWeight: 600, color: '#4CAF50' }}\n                              >\n                                €{employee.totalRevenue?.toLocaleString() || 0}\n                              </Typography>\n                            </TableCell>\n                            <TableCell align=\"center\">\n                              <Typography variant=\"body2\">\n                                {employee.uniqueRentals || 0}\n                              </Typography>\n                            </TableCell>\n                          </TableRow>\n                        ))}\n                    </TableBody>\n                  </Table>\n                </TableContainer>\n              </CardContent>\n            </Card>\n          </Grid>\n        </>\n      ) : (\n        <Grid item xs={12}>\n          <Card sx={{ boxShadow: '0 2px 8px rgba(0,0,0,0.1)' }}>\n            <CardContent sx={{ textAlign: 'center', py: 4 }}>\n              <PersonIcon\n                sx={{ fontSize: 64, color: 'text.secondary', mb: 2 }}\n              />\n              <Typography variant=\"h6\" color=\"text.secondary\" sx={{ mb: 1 }}>\n                Žiadne protokoly za vybrané obdobie\n              </Typography>\n              <Typography variant=\"body2\" color=\"text.secondary\">\n                V tomto období neboli vytvorené žiadne protokoly odovzdávania\n                alebo preberania vozidiel.\n              </Typography>\n            </CardContent>\n          </Card>\n        </Grid>\n      )}\n    </Grid>\n  );\n};\n\nexport default EmployeesTab;\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/components/statistics/OverviewTab.tsx",
    "messages": [
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 32,
        "column": 10,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 32,
        "endColumn": 13,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [482, 485], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [482, 485], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 222,
        "column": 47,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 222,
        "endColumn": 50,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [6810, 6813], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [6810, 6813], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 222,
        "column": 68,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 222,
        "endColumn": 71,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [6831, 6834], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [6831, 6834], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 255,
        "column": 45,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 255,
        "endColumn": 48,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [8189, 8192], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [8189, 8192], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 270,
        "column": 39,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 270,
        "endColumn": 42,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [8822, 8825], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [8822, 8825], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 279,
        "column": 39,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 279,
        "endColumn": 42,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [9225, 9228], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [9225, 9228], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 6,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "import { Person as PersonIcon } from '@mui/icons-material';\nimport {\n  Box,\n  Typography,\n  Card,\n  CardContent,\n  Grid,\n  Table,\n  TableBody,\n  TableCell,\n  TableContainer,\n  TableHead,\n  TableRow,\n  Chip,\n  Avatar,\n  Divider,\n} from '@mui/material';\nimport React from 'react';\nimport {\n  AreaChart,\n  Area,\n  XAxis,\n  YAxis,\n  CartesianGrid,\n  Tooltip,\n  ResponsiveContainer,\n} from 'recharts';\n\nimport CustomTooltip from './CustomTooltip';\n\ninterface OverviewTabProps {\n  stats: any;\n}\n\nconst OverviewTab: React.FC<OverviewTabProps> = ({ stats }) => {\n  return (\n    <Grid container spacing={3}>\n      {/* Mesiačný trend */}\n      <Grid item xs={12} lg={8}>\n        <Card\n          sx={{\n            boxShadow: '0 2px 8px rgba(0,0,0,0.1)',\n            '&:hover': {\n              boxShadow: '0 4px 16px rgba(0,0,0,0.15)',\n            },\n          }}\n        >\n          <CardContent>\n            <Typography\n              variant=\"h6\"\n              gutterBottom\n              sx={{ fontWeight: 700, color: '#667eea' }}\n            >\n              Mesiačný trend príjmov\n            </Typography>\n            <ResponsiveContainer width=\"100%\" height={300}>\n              <AreaChart data={stats.monthlyData}>\n                <CartesianGrid strokeDasharray=\"3 3\" />\n                <XAxis dataKey=\"month\" />\n                <YAxis />\n                <Tooltip content={<CustomTooltip />} />\n                <Area\n                  type=\"monotone\"\n                  dataKey=\"revenue\"\n                  stroke=\"#667eea\"\n                  fill=\"url(#colorRevenue)\"\n                  strokeWidth={3}\n                  name=\"Príjmy\"\n                />\n                <defs>\n                  <linearGradient id=\"colorRevenue\" x1=\"0\" y1=\"0\" x2=\"0\" y2=\"1\">\n                    <stop offset=\"5%\" stopColor=\"#667eea\" stopOpacity={0.8} />\n                    <stop offset=\"95%\" stopColor=\"#667eea\" stopOpacity={0.1} />\n                  </linearGradient>\n                </defs>\n              </AreaChart>\n            </ResponsiveContainer>\n          </CardContent>\n        </Card>\n      </Grid>\n\n      {/* Rýchle štatistiky */}\n      <Grid item xs={12} lg={4}>\n        <Card\n          sx={{\n            boxShadow: '0 2px 8px rgba(0,0,0,0.1)',\n            '&:hover': {\n              boxShadow: '0 4px 16px rgba(0,0,0,0.15)',\n            },\n          }}\n        >\n          <CardContent>\n            <Typography\n              variant=\"h6\"\n              gutterBottom\n              sx={{ fontWeight: 700, color: '#667eea' }}\n            >\n              Rýchle štatistiky\n            </Typography>\n            <Box sx={{ display: 'flex', flexDirection: 'column', gap: 2 }}>\n              <Box\n                sx={{\n                  display: 'flex',\n                  justifyContent: 'space-between',\n                  alignItems: 'center',\n                  p: 2,\n                  borderRadius: 1,\n                  backgroundColor: '#f8f9fa',\n                }}\n              >\n                <Typography variant=\"body2\" sx={{ fontWeight: 600 }}>\n                  Priemerná cena\n                </Typography>\n                <Typography\n                  variant=\"h6\"\n                  fontWeight=\"bold\"\n                  sx={{ color: '#11998e' }}\n                >\n                  {stats.avgRentalPrice.toFixed(2)} €\n                </Typography>\n              </Box>\n              <Divider />\n              <Box\n                sx={{\n                  display: 'flex',\n                  justifyContent: 'space-between',\n                  alignItems: 'center',\n                  p: 2,\n                  borderRadius: 1,\n                  backgroundColor: '#f8f9fa',\n                }}\n              >\n                <Typography variant=\"body2\" sx={{ fontWeight: 600 }}>\n                  Priemerná dĺžka\n                </Typography>\n                <Typography\n                  variant=\"h6\"\n                  fontWeight=\"bold\"\n                  sx={{ color: '#667eea' }}\n                >\n                  {stats.avgRentalDuration.toFixed(1)} dní\n                </Typography>\n              </Box>\n              <Divider />\n              <Box\n                sx={{\n                  display: 'flex',\n                  justifyContent: 'space-between',\n                  alignItems: 'center',\n                  p: 2,\n                  borderRadius: 1,\n                  backgroundColor: '#f8f9fa',\n                }}\n              >\n                <Typography variant=\"body2\" sx={{ fontWeight: 600 }}>\n                  Celková provízia\n                </Typography>\n                <Typography variant=\"h6\" fontWeight=\"bold\" color=\"warning.main\">\n                  {stats.totalCommission.toLocaleString()} €\n                </Typography>\n              </Box>\n              <Divider />\n              <Box\n                sx={{\n                  display: 'flex',\n                  justifyContent: 'space-between',\n                  alignItems: 'center',\n                  p: 2,\n                  borderRadius: 1,\n                  backgroundColor: '#f8f9fa',\n                }}\n              >\n                <Typography variant=\"body2\" sx={{ fontWeight: 600 }}>\n                  Zajtrajšie vrátenia\n                </Typography>\n                <Typography variant=\"h6\" fontWeight=\"bold\" color=\"info.main\">\n                  {stats.tomorrowReturns.length}\n                </Typography>\n              </Box>\n            </Box>\n          </CardContent>\n        </Card>\n      </Grid>\n\n      {/* Top firmy */}\n      <Grid item xs={12}>\n        <Card\n          sx={{\n            boxShadow: '0 2px 8px rgba(0,0,0,0.1)',\n            '&:hover': {\n              boxShadow: '0 4px 16px rgba(0,0,0,0.15)',\n            },\n          }}\n        >\n          <CardContent>\n            <Typography\n              variant=\"h6\"\n              gutterBottom\n              sx={{ fontWeight: 700, color: '#667eea' }}\n            >\n              Top firmy podľa príjmov\n            </Typography>\n            <TableContainer>\n              <Table>\n                <TableHead>\n                  <TableRow sx={{ backgroundColor: '#f8f9fa' }}>\n                    <TableCell sx={{ fontWeight: 700 }}>Firma</TableCell>\n                    <TableCell align=\"right\" sx={{ fontWeight: 700 }}>\n                      Počet prenájmov\n                    </TableCell>\n                    <TableCell align=\"right\" sx={{ fontWeight: 700 }}>\n                      Príjmy\n                    </TableCell>\n                    <TableCell align=\"right\" sx={{ fontWeight: 700 }}>\n                      Provízia\n                    </TableCell>\n                  </TableRow>\n                </TableHead>\n                <TableBody>\n                  {Object.entries(stats.companyStats)\n                    .sort(\n                      ([, a], [, b]) => (b as any).revenue - (a as any).revenue\n                    )\n                    .slice(0, 5)\n                    .map(([company, data]) => (\n                      <TableRow\n                        key={company}\n                        sx={{\n                          '&:hover': {\n                            backgroundColor: '#f8f9fa',\n                          },\n                          transition: 'background-color 0.2s ease',\n                        }}\n                      >\n                        <TableCell>\n                          <Box\n                            sx={{\n                              display: 'flex',\n                              alignItems: 'center',\n                              gap: 1,\n                            }}\n                          >\n                            <Avatar\n                              sx={{ width: 32, height: 32, bgcolor: '#667eea' }}\n                            >\n                              <PersonIcon fontSize=\"small\" />\n                            </Avatar>\n                            <Typography variant=\"body2\" fontWeight=\"medium\">\n                              {company}\n                            </Typography>\n                          </Box>\n                        </TableCell>\n                        <TableCell align=\"right\">\n                          <Chip\n                            label={(data as any).count}\n                            size=\"small\"\n                            sx={{\n                              backgroundColor: '#667eea',\n                              color: 'white',\n                              fontWeight: 600,\n                            }}\n                          />\n                        </TableCell>\n                        <TableCell align=\"right\">\n                          <Typography\n                            variant=\"body2\"\n                            fontWeight=\"bold\"\n                            sx={{ color: '#11998e' }}\n                          >\n                            {(data as any).revenue.toLocaleString()} €\n                          </Typography>\n                        </TableCell>\n                        <TableCell align=\"right\">\n                          <Typography\n                            variant=\"body2\"\n                            color=\"warning.main\"\n                            fontWeight=\"bold\"\n                          >\n                            {(data as any).commission.toLocaleString()} €\n                          </Typography>\n                        </TableCell>\n                      </TableRow>\n                    ))}\n                </TableBody>\n              </Table>\n            </TableContainer>\n          </CardContent>\n        </Card>\n      </Grid>\n    </Grid>\n  );\n};\n\nexport default OverviewTab;\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/components/statistics/PaymentsTab.tsx",
    "messages": [
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 19,
        "column": 10,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 19,
        "endColumn": 13,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [307, 310], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [307, 310], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 63,
        "column": 47,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 63,
        "endColumn": 50,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [1778, 1781], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [1778, 1781], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 63,
        "column": 68,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 63,
        "endColumn": 71,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [1799, 1802], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [1799, 1802], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 67,
        "column": 35,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 67,
        "endColumn": 38,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [1956, 1959], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [1956, 1959], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 99,
        "column": 41,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 99,
        "endColumn": 44,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [3340, 3343], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [3340, 3343], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 108,
        "column": 41,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 108,
        "endColumn": 44,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [3745, 3748], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [3745, 3748], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 163,
        "column": 63,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 163,
        "endColumn": 66,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [5626, 5629], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [5626, 5629], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 7,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "import { CheckCircle as CheckCircleIcon } from '@mui/icons-material';\nimport {\n  Box,\n  Typography,\n  Card,\n  CardContent,\n  Grid,\n  Table,\n  TableBody,\n  TableCell,\n  TableContainer,\n  TableHead,\n  TableRow,\n  Chip,\n} from '@mui/material';\nimport React from 'react';\n\ninterface PaymentsTabProps {\n  stats: any;\n}\n\nconst PaymentsTab: React.FC<PaymentsTabProps> = ({ stats }) => {\n  return (\n    <Grid container spacing={3}>\n      <Grid item xs={12} lg={8}>\n        <Card\n          sx={{\n            boxShadow: '0 2px 8px rgba(0,0,0,0.1)',\n            '&:hover': {\n              boxShadow: '0 4px 16px rgba(0,0,0,0.15)',\n            },\n          }}\n        >\n          <CardContent>\n            <Typography\n              variant=\"h6\"\n              gutterBottom\n              sx={{ fontWeight: 700, color: '#667eea' }}\n            >\n              Štatistiky platieb\n            </Typography>\n            <TableContainer>\n              <Table>\n                <TableHead>\n                  <TableRow sx={{ backgroundColor: '#f8f9fa' }}>\n                    <TableCell sx={{ fontWeight: 700 }}>\n                      Spôsob platby\n                    </TableCell>\n                    <TableCell align=\"right\" sx={{ fontWeight: 700 }}>\n                      Počet\n                    </TableCell>\n                    <TableCell align=\"right\" sx={{ fontWeight: 700 }}>\n                      Príjmy\n                    </TableCell>\n                    <TableCell align=\"right\" sx={{ fontWeight: 700 }}>\n                      Podiel\n                    </TableCell>\n                  </TableRow>\n                </TableHead>\n                <TableBody>\n                  {Object.entries(stats.paymentMethodStats)\n                    .sort(\n                      ([, a], [, b]) => (b as any).revenue - (a as any).revenue\n                    )\n                    .map(([method, data]) => {\n                      const percentage =\n                        ((data as any).revenue / stats.totalRevenue) * 100;\n                      return (\n                        <TableRow\n                          key={method}\n                          sx={{\n                            '&:hover': {\n                              backgroundColor: '#f8f9fa',\n                            },\n                            transition: 'background-color 0.2s ease',\n                          }}\n                        >\n                          <TableCell>\n                            <Box\n                              sx={{\n                                display: 'flex',\n                                alignItems: 'center',\n                                gap: 1,\n                              }}\n                            >\n                              <Chip\n                                label={method}\n                                size=\"small\"\n                                sx={{\n                                  backgroundColor: '#667eea',\n                                  color: 'white',\n                                  fontWeight: 600,\n                                }}\n                              />\n                            </Box>\n                          </TableCell>\n                          <TableCell align=\"right\">\n                            <Typography variant=\"body2\" fontWeight=\"bold\">\n                              {(data as any).count}\n                            </Typography>\n                          </TableCell>\n                          <TableCell align=\"right\">\n                            <Typography\n                              variant=\"body2\"\n                              fontWeight=\"bold\"\n                              sx={{ color: '#11998e' }}\n                            >\n                              {(data as any).revenue.toLocaleString()} €\n                            </Typography>\n                          </TableCell>\n                          <TableCell align=\"right\">\n                            <Typography\n                              variant=\"body2\"\n                              color=\"text.secondary\"\n                              fontWeight=\"bold\"\n                            >\n                              {percentage.toFixed(1)}%\n                            </Typography>\n                          </TableCell>\n                        </TableRow>\n                      );\n                    })}\n                </TableBody>\n              </Table>\n            </TableContainer>\n          </CardContent>\n        </Card>\n      </Grid>\n\n      <Grid item xs={12} lg={4}>\n        <Card\n          sx={{\n            boxShadow: '0 2px 8px rgba(0,0,0,0.1)',\n            '&:hover': {\n              boxShadow: '0 4px 16px rgba(0,0,0,0.15)',\n            },\n          }}\n        >\n          <CardContent>\n            <Typography\n              variant=\"h6\"\n              gutterBottom\n              sx={{ fontWeight: 700, color: '#667eea' }}\n            >\n              Nezaplatené prenájmy\n            </Typography>\n            {stats.unpaidRentals.length === 0 ? (\n              <Box sx={{ textAlign: 'center', py: 4 }}>\n                <CheckCircleIcon\n                  sx={{ fontSize: 48, color: 'success.main', mb: 2 }}\n                />\n                <Typography\n                  variant=\"body1\"\n                  color=\"success.main\"\n                  gutterBottom\n                  fontWeight=\"bold\"\n                >\n                  Všetky prenájmy sú zaplatené!\n                </Typography>\n              </Box>\n            ) : (\n              <Box sx={{ display: 'flex', flexDirection: 'column', gap: 2 }}>\n                {stats.unpaidRentals.slice(0, 5).map((rental: any) => (\n                  <Box\n                    key={rental.id}\n                    sx={{\n                      p: 2,\n                      border: '1px solid',\n                      borderColor: 'divider',\n                      borderRadius: 2,\n                      backgroundColor: '#fff3e0',\n                      transition: 'all 0.2s ease',\n                      '&:hover': {\n                        boxShadow: '0 2px 8px rgba(0,0,0,0.1)',\n                        transform: 'translateY(-2px)',\n                      },\n                    }}\n                  >\n                    <Typography variant=\"body2\" fontWeight=\"bold\">\n                      {rental.customerName}\n                    </Typography>\n                    <Typography variant=\"caption\" color=\"text.secondary\">\n                      {rental.vehicle?.brand} {rental.vehicle?.model}\n                    </Typography>\n                    <Typography\n                      variant=\"body2\"\n                      color=\"error.main\"\n                      fontWeight=\"bold\"\n                    >\n                      {rental.totalPrice?.toLocaleString()} €\n                    </Typography>\n                  </Box>\n                ))}\n                {stats.unpaidRentals.length > 5 && (\n                  <Typography\n                    variant=\"body2\"\n                    color=\"text.secondary\"\n                    textAlign=\"center\"\n                    fontWeight=\"bold\"\n                  >\n                    + {stats.unpaidRentals.length - 5} ďalších\n                  </Typography>\n                )}\n              </Box>\n            )}\n          </CardContent>\n        </Card>\n      </Grid>\n    </Grid>\n  );\n};\n\nexport default PaymentsTab;\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/components/statistics/ResponsiveChart.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/components/statistics/StatisticsCard.tsx",
    "messages": [
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 2,
        "message": "'isMobile' is assigned a value but never used.",
        "line": 50,
        "column": 9,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 50,
        "endColumn": 17
      }
    ],
    "suppressedMessages": [],
    "errorCount": 1,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "/**\n * 📊 STATISTICS CARD\n *\n * Reusable card component pre štatistiky s responsive design\n */\n\nimport {\n  TrendingUp as TrendingUpIcon,\n  TrendingDown as TrendingDownIcon,\n  Remove as StableIcon,\n} from '@mui/icons-material';\nimport {\n  Card,\n  CardContent,\n  Typography,\n  Box,\n  Avatar,\n  Chip,\n  useTheme,\n  useMediaQuery,\n} from '@mui/material';\nimport React, { memo } from 'react';\n\ninterface StatisticsCardProps {\n  title: string;\n  value: string | number;\n  subtitle?: string;\n  icon: React.ReactNode;\n  trend?: {\n    value: number;\n    period: string;\n    isPositive?: boolean;\n  };\n  color?: string;\n  compact?: boolean;\n  onClick?: () => void;\n}\n\nconst StatisticsCard: React.FC<StatisticsCardProps> = ({\n  title,\n  value,\n  subtitle,\n  icon,\n  trend,\n  color = 'primary',\n  compact = false,\n  onClick,\n}) => {\n  const theme = useTheme();\n  const isMobile = useMediaQuery(theme.breakpoints.down('sm'));\n\n  // Get color based on theme\n  const getColor = (colorName: string) => {\n    const colors: Record<string, string> = {\n      primary: theme.palette.primary.main,\n      success: theme.palette.success.main,\n      warning: theme.palette.warning.main,\n      error: theme.palette.error.main,\n      info: theme.palette.info.main,\n    };\n    return colors[colorName] || colorName;\n  };\n\n  const cardColor = getColor(color);\n\n  // Get trend icon and color\n  const getTrendDisplay = () => {\n    if (!trend) return null;\n\n    const isPositive =\n      trend.isPositive !== undefined ? trend.isPositive : trend.value > 0;\n    const absValue = Math.abs(trend.value);\n\n    let trendIcon;\n    let trendColor;\n\n    if (absValue === 0) {\n      trendIcon = <StableIcon fontSize=\"small\" />;\n      trendColor = theme.palette.text.secondary;\n    } else if (isPositive) {\n      trendIcon = <TrendingUpIcon fontSize=\"small\" />;\n      trendColor = theme.palette.success.main;\n    } else {\n      trendIcon = <TrendingDownIcon fontSize=\"small\" />;\n      trendColor = theme.palette.error.main;\n    }\n\n    return (\n      <Chip\n        size=\"small\"\n        icon={trendIcon}\n        label={`${absValue > 0 ? (isPositive ? '+' : '-') : ''}${absValue.toFixed(1)}%`}\n        sx={{\n          backgroundColor: `${trendColor}20`,\n          color: trendColor,\n          fontSize: '0.7rem',\n          height: 20,\n          '& .MuiChip-icon': {\n            color: trendColor,\n            fontSize: 12,\n          },\n        }}\n      />\n    );\n  };\n\n  return (\n    <Card\n      sx={{\n        cursor: onClick ? 'pointer' : 'default',\n        transition: 'all 0.2s ease-in-out',\n        borderRadius: compact ? 2 : 3,\n        height: '100%',\n        background: compact\n          ? `linear-gradient(135deg, ${cardColor}08 0%, ${cardColor}15 100%)`\n          : theme.palette.background.paper,\n        border: `1px solid ${cardColor}20`,\n        '&:hover': onClick\n          ? {\n              transform: 'translateY(-2px)',\n              boxShadow: theme.shadows[6],\n              borderColor: `${cardColor}40`,\n            }\n          : {},\n      }}\n      onClick={onClick}\n    >\n      <CardContent\n        sx={{\n          p: compact ? 2 : 3,\n          '&:last-child': { pb: compact ? 2 : 3 },\n        }}\n      >\n        <Box\n          sx={{\n            display: 'flex',\n            alignItems: 'flex-start',\n            gap: compact ? 1.5 : 2,\n          }}\n        >\n          {/* Icon */}\n          <Avatar\n            sx={{\n              backgroundColor: `${cardColor}15`,\n              color: cardColor,\n              width: compact ? 40 : 48,\n              height: compact ? 40 : 48,\n            }}\n          >\n            {icon}\n          </Avatar>\n\n          {/* Content */}\n          <Box sx={{ flex: 1, minWidth: 0 }}>\n            {/* Title */}\n            <Typography\n              variant={compact ? 'body2' : 'subtitle2'}\n              sx={{\n                color: 'text.secondary',\n                fontWeight: 500,\n                mb: 0.5,\n                lineHeight: 1.2,\n              }}\n            >\n              {title}\n            </Typography>\n\n            {/* Value */}\n            <Typography\n              variant={compact ? 'h6' : 'h5'}\n              sx={{\n                fontWeight: 700,\n                color: 'text.primary',\n                lineHeight: 1.1,\n                mb: subtitle || trend ? 0.5 : 0,\n              }}\n            >\n              {typeof value === 'number' && value % 1 === 0\n                ? value.toLocaleString('sk-SK')\n                : value}\n            </Typography>\n\n            {/* Subtitle */}\n            {subtitle && (\n              <Typography\n                variant=\"caption\"\n                sx={{\n                  color: 'text.secondary',\n                  display: 'block',\n                  mb: trend ? 0.5 : 0,\n                }}\n              >\n                {subtitle}\n              </Typography>\n            )}\n\n            {/* Trend */}\n            {trend && (\n              <Box\n                sx={{\n                  display: 'flex',\n                  alignItems: 'center',\n                  justifyContent: 'space-between',\n                  mt: 0.5,\n                }}\n              >\n                {getTrendDisplay()}\n                <Typography variant=\"caption\" sx={{ color: 'text.disabled' }}>\n                  vs {trend.period}\n                </Typography>\n              </Box>\n            )}\n          </Box>\n        </Box>\n      </CardContent>\n    </Card>\n  );\n};\n\nexport default memo(StatisticsCard);\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/components/statistics/StatisticsMobile.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/components/statistics/TopListCard.tsx",
    "messages": [
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 19,
        "column": 9,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 19,
        "endColumn": 12,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [338, 341], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [338, 341], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 22,
        "column": 22,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 22,
        "endColumn": 25,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [413, 416], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [413, 416], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 2,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "import {\n  EmojiEvents as TrophyIcon,\n  KeyboardArrowDown as KeyboardArrowDownIcon,\n} from '@mui/icons-material';\nimport {\n  Box,\n  Typography,\n  Card,\n  CardContent,\n  Avatar,\n  Button,\n} from '@mui/material';\nimport React from 'react';\n\ninterface TopListCardProps {\n  title: string;\n  icon: React.ReactNode;\n  gradient: string;\n  data: any[];\n  showCount: number;\n  onLoadMore: () => void;\n  renderItem: (item: any, index: number) => React.ReactNode;\n  emptyMessage?: string;\n}\n\nconst TopListCard: React.FC<TopListCardProps> = ({\n  title,\n  icon,\n  gradient,\n  data,\n  showCount,\n  onLoadMore,\n  renderItem,\n  emptyMessage = 'Žiadne dáta',\n}) => (\n  <Card\n    sx={{\n      height: 'fit-content',\n      boxShadow: '0 2px 8px rgba(0,0,0,0.1)',\n      transition: 'all 0.2s ease',\n      '&:hover': {\n        boxShadow: '0 4px 16px rgba(0,0,0,0.15)',\n      },\n    }}\n  >\n    <CardContent>\n      <Box sx={{ display: 'flex', alignItems: 'center', gap: 2, mb: 3 }}>\n        <Avatar\n          sx={{\n            bgcolor: 'transparent',\n            background: gradient,\n            width: 48,\n            height: 48,\n          }}\n        >\n          {icon}\n        </Avatar>\n        <Box sx={{ flex: 1 }}>\n          <Typography variant=\"h6\" sx={{ fontWeight: 700, color: '#667eea' }}>\n            {title}\n          </Typography>\n          <Typography variant=\"body2\" color=\"text.secondary\">\n            Top {Math.min(showCount, data.length)} z {data.length}\n          </Typography>\n        </Box>\n        <TrophyIcon sx={{ color: '#ffd700', fontSize: 28 }} />\n      </Box>\n\n      {data.length === 0 ? (\n        <Box sx={{ textAlign: 'center', py: 4 }}>\n          <Typography variant=\"body1\" color=\"text.secondary\">\n            {emptyMessage}\n          </Typography>\n        </Box>\n      ) : (\n        <>\n          <Box sx={{ display: 'flex', flexDirection: 'column', gap: 1.5 }}>\n            {data\n              .slice(0, showCount)\n              .map((item, index) => renderItem(item, index))}\n          </Box>\n\n          {showCount < data.length && (\n            <Box sx={{ mt: 3, textAlign: 'center' }}>\n              <Button\n                variant=\"outlined\"\n                onClick={onLoadMore}\n                startIcon={<KeyboardArrowDownIcon />}\n                sx={{\n                  borderColor: '#667eea',\n                  color: '#667eea',\n                  '&:hover': {\n                    borderColor: '#5a6fd8',\n                    backgroundColor: 'rgba(102, 126, 234, 0.04)',\n                  },\n                }}\n              >\n                Zobraziť ďalších {Math.min(10, data.length - showCount)}\n              </Button>\n            </Box>\n          )}\n        </>\n      )}\n    </CardContent>\n  </Card>\n);\n\nexport default TopListCard;\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/components/statistics/TopStatCard.tsx",
    "messages": [
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 15,
        "column": 9,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 15,
        "endColumn": 12,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [277, 280], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [277, 280], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 1,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "import { EmojiEvents as TrophyIcon } from '@mui/icons-material';\nimport {\n  Box,\n  Typography,\n  Card,\n  CardContent,\n  Avatar,\n  LinearProgress,\n} from '@mui/material';\nimport React from 'react';\n\ninterface TopStatCardProps {\n  title: string;\n  icon: React.ReactNode;\n  data: any;\n  primaryValue: string;\n  secondaryValue: string;\n  gradient: string;\n  percentage?: number;\n}\n\nconst TopStatCard: React.FC<TopStatCardProps> = ({\n  title,\n  icon,\n  data,\n  primaryValue,\n  secondaryValue,\n  gradient,\n  percentage,\n}) => (\n  <Card\n    sx={{\n      height: '100%',\n      boxShadow: '0 2px 8px rgba(0,0,0,0.1)',\n      transition: 'all 0.2s ease',\n      '&:hover': {\n        boxShadow: '0 8px 24px rgba(0,0,0,0.15)',\n        transform: 'translateY(-4px)',\n      },\n    }}\n  >\n    <CardContent>\n      <Box sx={{ display: 'flex', alignItems: 'center', gap: 2, mb: 2 }}>\n        <Avatar\n          sx={{\n            bgcolor: 'transparent',\n            background: gradient,\n            width: 56,\n            height: 56,\n          }}\n        >\n          {icon}\n        </Avatar>\n        <Box sx={{ flex: 1 }}>\n          <Typography variant=\"h6\" sx={{ fontWeight: 700, color: '#667eea' }}>\n            {title}\n          </Typography>\n          <Typography variant=\"body2\" color=\"text.secondary\">\n            {data\n              ? data.vehicle\n                ? `${data.vehicle.brand} ${data.vehicle.model}`\n                : data.customerName\n              : 'N/A'}\n          </Typography>\n        </Box>\n        <TrophyIcon sx={{ color: '#ffd700', fontSize: 32 }} />\n      </Box>\n\n      <Box sx={{ mb: 2 }}>\n        <Typography\n          variant=\"h4\"\n          sx={{ fontWeight: 700, color: '#667eea', mb: 0.5 }}\n        >\n          {primaryValue}\n        </Typography>\n        <Typography variant=\"body2\" color=\"text.secondary\">\n          {secondaryValue}\n        </Typography>\n      </Box>\n\n      {percentage !== undefined && (\n        <Box sx={{ mt: 2 }}>\n          <Box sx={{ display: 'flex', justifyContent: 'space-between', mb: 1 }}>\n            <Typography variant=\"body2\" color=\"text.secondary\">\n              Vyťaženosť\n            </Typography>\n            <Typography\n              variant=\"body2\"\n              sx={{ fontWeight: 600, color: '#667eea' }}\n            >\n              {percentage.toFixed(1)}%\n            </Typography>\n          </Box>\n          <LinearProgress\n            variant=\"determinate\"\n            value={Math.min(percentage, 100)}\n            sx={{\n              height: 8,\n              borderRadius: 4,\n              backgroundColor: '#e0e0e0',\n              '& .MuiLinearProgress-bar': {\n                background: gradient,\n                borderRadius: 4,\n              },\n            }}\n          />\n        </Box>\n      )}\n    </CardContent>\n  </Card>\n);\n\nexport default TopStatCard;\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/components/statistics/TopStatsTab.tsx",
    "messages": [
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 27,
        "column": 10,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 27,
        "endColumn": 13,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [509, 512], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [509, 512], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 1,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "import {\n  EmojiEvents as TrophyIcon,\n  Star as StarIcon,\n  DirectionsCar as CarIcon,\n  Person as PersonIcon,\n  Euro as EuroIcon,\n  Speed as SpeedIcon,\n  AttachMoney as MoneyIcon,\n  AccessTime as TimeIcon,\n} from '@mui/icons-material';\nimport {\n  Box,\n  Typography,\n  Card,\n  CardContent,\n  Grid,\n  Divider,\n  Avatar,\n  LinearProgress,\n} from '@mui/material';\nimport React from 'react';\n\nimport TopListCard from './TopListCard';\nimport TopStatCard from './TopStatCard';\n\ninterface TopStatsTabProps {\n  stats: any;\n  formatPeriod: () => string;\n  showVehiclesByUtilization: number;\n  showVehiclesByRevenue: number;\n  showVehiclesByRentals: number;\n  showCustomersByRentals: number;\n  showCustomersByRevenue: number;\n  showCustomersByDays: number;\n  setShowVehiclesByUtilization: React.Dispatch<React.SetStateAction<number>>;\n  setShowVehiclesByRevenue: React.Dispatch<React.SetStateAction<number>>;\n  setShowVehiclesByRentals: React.Dispatch<React.SetStateAction<number>>;\n  setShowCustomersByRentals: React.Dispatch<React.SetStateAction<number>>;\n  setShowCustomersByRevenue: React.Dispatch<React.SetStateAction<number>>;\n  setShowCustomersByDays: React.Dispatch<React.SetStateAction<number>>;\n}\n\nconst TopStatsTab: React.FC<TopStatsTabProps> = ({\n  stats,\n  formatPeriod,\n  showVehiclesByUtilization,\n  showVehiclesByRevenue,\n  showVehiclesByRentals,\n  showCustomersByRentals,\n  showCustomersByRevenue,\n  showCustomersByDays,\n  setShowVehiclesByUtilization,\n  setShowVehiclesByRevenue,\n  setShowVehiclesByRentals,\n  setShowCustomersByRentals,\n  setShowCustomersByRevenue,\n  setShowCustomersByDays,\n}) => {\n  return (\n    <Grid container spacing={3}>\n      {/* Úvodný prehľad */}\n      <Grid item xs={12}>\n        <Card\n          sx={{\n            mb: 3,\n            background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',\n            color: 'white',\n            boxShadow: '0 4px 12px rgba(0,0,0,0.15)',\n          }}\n        >\n          <CardContent>\n            <Box sx={{ display: 'flex', alignItems: 'center', gap: 2 }}>\n              <TrophyIcon sx={{ fontSize: 40 }} />\n              <Box>\n                <Typography variant=\"h4\" sx={{ fontWeight: 700, mb: 0.5 }}>\n                  TOP Štatistiky\n                </Typography>\n                <Typography variant=\"body1\" sx={{ opacity: 0.9 }}>\n                  Najlepšie výkony za obdobie: {formatPeriod()}\n                </Typography>\n              </Box>\n            </Box>\n          </CardContent>\n        </Card>\n      </Grid>\n\n      {/* 🏆 NAJLEPŠIE VÝKONY - Prehľadové karty */}\n      <Grid item xs={12}>\n        <Typography\n          variant=\"h5\"\n          sx={{\n            fontWeight: 700,\n            mb: 3,\n            color: '#667eea',\n            display: 'flex',\n            alignItems: 'center',\n            gap: 1,\n          }}\n        >\n          <StarIcon />\n          🏆 Najlepšie výkony\n        </Typography>\n      </Grid>\n\n      {/* Top výkony v 3 kartách */}\n      <Grid item xs={12} md={4}>\n        <TopStatCard\n          title=\"Najvyťaženejšie auto\"\n          icon={<SpeedIcon />}\n          data={stats.topVehicleByUtilization}\n          primaryValue={\n            stats.topVehicleByUtilization\n              ? `${stats.topVehicleByUtilization.utilizationPercentage.toFixed(1)}%`\n              : 'N/A'\n          }\n          secondaryValue={\n            stats.topVehicleByUtilization\n              ? `${stats.topVehicleByUtilization.totalDaysRented} dní prenájmu`\n              : ''\n          }\n          gradient=\"linear-gradient(135deg, #667eea 0%, #764ba2 100%)\"\n          percentage={stats.topVehicleByUtilization?.utilizationPercentage}\n        />\n      </Grid>\n\n      <Grid item xs={12} md={4}>\n        <TopStatCard\n          title=\"Najvýnosnejšie auto\"\n          icon={<EuroIcon />}\n          data={stats.topVehicleByRevenue}\n          primaryValue={\n            stats.topVehicleByRevenue\n              ? `${stats.topVehicleByRevenue.totalRevenue.toLocaleString()} €`\n              : 'N/A'\n          }\n          secondaryValue={\n            stats.topVehicleByRevenue\n              ? `${stats.topVehicleByRevenue.rentalCount} prenájmov`\n              : ''\n          }\n          gradient=\"linear-gradient(135deg, #11998e 0%, #38ef7d 100%)\"\n        />\n      </Grid>\n\n      <Grid item xs={12} md={4}>\n        <TopStatCard\n          title=\"Najaktívnejší zákazník\"\n          icon={<PersonIcon />}\n          data={stats.topCustomerByRentals}\n          primaryValue={\n            stats.topCustomerByRentals\n              ? `${stats.topCustomerByRentals.rentalCount}x`\n              : 'N/A'\n          }\n          secondaryValue={\n            stats.topCustomerByRentals\n              ? `${stats.topCustomerByRentals.totalRevenue.toLocaleString()} € celkom`\n              : ''\n          }\n          gradient=\"linear-gradient(135deg, #ff9a9e 0%, #fad0c4 100%)\"\n        />\n      </Grid>\n\n      {/* Divider */}\n      <Grid item xs={12}>\n        <Divider sx={{ my: 2 }} />\n      </Grid>\n\n      {/* 🚗 TOP AUTÁ - Detailné rebríčky */}\n      <Grid item xs={12}>\n        <Typography\n          variant=\"h5\"\n          sx={{\n            fontWeight: 700,\n            mb: 3,\n            color: '#667eea',\n            display: 'flex',\n            alignItems: 'center',\n            gap: 1,\n          }}\n        >\n          <CarIcon />\n          🚗 TOP Autá - Detailné rebríčky\n        </Typography>\n      </Grid>\n\n      {/* Najvyťaženejšie autá */}\n      <Grid item xs={12} lg={4}>\n        <TopListCard\n          title=\"Najvyťaženejšie autá\"\n          icon={<SpeedIcon />}\n          gradient=\"linear-gradient(135deg, #667eea 0%, #764ba2 100%)\"\n          data={stats.vehiclesByUtilization}\n          showCount={showVehiclesByUtilization}\n          onLoadMore={() => setShowVehiclesByUtilization(prev => prev + 10)}\n          renderItem={(vehicle, index) => (\n            <Box\n              key={vehicle.vehicle.id}\n              sx={{\n                display: 'flex',\n                alignItems: 'center',\n                gap: 2,\n                p: 2,\n                borderRadius: 2,\n                backgroundColor:\n                  index < 3 ? 'rgba(102, 126, 234, 0.04)' : '#f8f9fa',\n                border: index === 0 ? '2px solid #ffd700' : '1px solid #e0e0e0',\n                transition: 'all 0.2s ease',\n                '&:hover': {\n                  transform: 'translateX(4px)',\n                  boxShadow: '0 2px 8px rgba(0,0,0,0.1)',\n                },\n              }}\n            >\n              <Box\n                sx={{\n                  minWidth: 32,\n                  height: 32,\n                  borderRadius: '50%',\n                  background:\n                    index < 3\n                      ? 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)'\n                      : '#bdbdbd',\n                  display: 'flex',\n                  alignItems: 'center',\n                  justifyContent: 'center',\n                  color: 'white',\n                  fontWeight: 700,\n                  fontSize: '0.9rem',\n                }}\n              >\n                {index + 1}\n              </Box>\n\n              <Avatar sx={{ width: 40, height: 40, bgcolor: '#667eea' }}>\n                <CarIcon fontSize=\"small\" />\n              </Avatar>\n\n              <Box sx={{ flex: 1 }}>\n                <Typography variant=\"body2\" fontWeight=\"bold\">\n                  {vehicle.vehicle.brand} {vehicle.vehicle.model}\n                </Typography>\n                <Typography variant=\"caption\" color=\"text.secondary\">\n                  {vehicle.vehicle.licensePlate} • {vehicle.totalDaysRented} dní\n                </Typography>\n              </Box>\n\n              <Box sx={{ textAlign: 'right', minWidth: 80 }}>\n                <Typography\n                  variant=\"h6\"\n                  fontWeight=\"bold\"\n                  sx={{\n                    color:\n                      vehicle.utilizationPercentage > 70\n                        ? '#4caf50'\n                        : vehicle.utilizationPercentage > 40\n                          ? '#ff9800'\n                          : '#f44336',\n                  }}\n                >\n                  {vehicle.utilizationPercentage.toFixed(1)}%\n                </Typography>\n                <LinearProgress\n                  variant=\"determinate\"\n                  value={Math.min(vehicle.utilizationPercentage, 100)}\n                  sx={{\n                    height: 6,\n                    borderRadius: 3,\n                    backgroundColor: '#e0e0e0',\n                    '& .MuiLinearProgress-bar': {\n                      background:\n                        vehicle.utilizationPercentage > 70\n                          ? '#4caf50'\n                          : vehicle.utilizationPercentage > 40\n                            ? '#ff9800'\n                            : '#f44336',\n                      borderRadius: 3,\n                    },\n                  }}\n                />\n              </Box>\n            </Box>\n          )}\n          emptyMessage=\"Žiadne autá v tomto období\"\n        />\n      </Grid>\n\n      {/* Najvýnosnejšie autá */}\n      <Grid item xs={12} lg={4}>\n        <TopListCard\n          title=\"Najvýnosnejšie autá\"\n          icon={<EuroIcon />}\n          gradient=\"linear-gradient(135deg, #11998e 0%, #38ef7d 100%)\"\n          data={stats.vehiclesByRevenue}\n          showCount={showVehiclesByRevenue}\n          onLoadMore={() => setShowVehiclesByRevenue(prev => prev + 10)}\n          renderItem={(vehicle, index) => (\n            <Box\n              key={vehicle.vehicle.id}\n              sx={{\n                display: 'flex',\n                alignItems: 'center',\n                gap: 2,\n                p: 2,\n                borderRadius: 2,\n                backgroundColor:\n                  index < 3 ? 'rgba(17, 153, 142, 0.04)' : '#f8f9fa',\n                border: index === 0 ? '2px solid #ffd700' : '1px solid #e0e0e0',\n                transition: 'all 0.2s ease',\n                '&:hover': {\n                  transform: 'translateX(4px)',\n                  boxShadow: '0 2px 8px rgba(0,0,0,0.1)',\n                },\n              }}\n            >\n              <Box\n                sx={{\n                  minWidth: 32,\n                  height: 32,\n                  borderRadius: '50%',\n                  background:\n                    index < 3\n                      ? 'linear-gradient(135deg, #11998e 0%, #38ef7d 100%)'\n                      : '#bdbdbd',\n                  display: 'flex',\n                  alignItems: 'center',\n                  justifyContent: 'center',\n                  color: 'white',\n                  fontWeight: 700,\n                  fontSize: '0.9rem',\n                }}\n              >\n                {index + 1}\n              </Box>\n\n              <Avatar sx={{ width: 40, height: 40, bgcolor: '#11998e' }}>\n                <CarIcon fontSize=\"small\" />\n              </Avatar>\n\n              <Box sx={{ flex: 1 }}>\n                <Typography variant=\"body2\" fontWeight=\"bold\">\n                  {vehicle.vehicle.brand} {vehicle.vehicle.model}\n                </Typography>\n                <Typography variant=\"caption\" color=\"text.secondary\">\n                  {vehicle.vehicle.licensePlate} • {vehicle.rentalCount}{' '}\n                  prenájmov\n                </Typography>\n              </Box>\n\n              <Box sx={{ textAlign: 'right' }}>\n                <Typography\n                  variant=\"h6\"\n                  fontWeight=\"bold\"\n                  sx={{ color: '#11998e' }}\n                >\n                  {vehicle.totalRevenue.toLocaleString()} €\n                </Typography>\n                <Typography variant=\"caption\" color=\"text.secondary\">\n                  {vehicle.avgRevenuePerRental.toFixed(0)} €/prenájom\n                </Typography>\n              </Box>\n            </Box>\n          )}\n          emptyMessage=\"Žiadne autá v tomto období\"\n        />\n      </Grid>\n\n      {/* Najčastejšie prenajímané */}\n      <Grid item xs={12} lg={4}>\n        <TopListCard\n          title=\"Najčastejšie prenajímané\"\n          icon={<CarIcon />}\n          gradient=\"linear-gradient(135deg, #f093fb 0%, #f5576c 100%)\"\n          data={stats.vehiclesByRentals}\n          showCount={showVehiclesByRentals}\n          onLoadMore={() => setShowVehiclesByRentals(prev => prev + 10)}\n          renderItem={(vehicle, index) => (\n            <Box\n              key={vehicle.vehicle.id}\n              sx={{\n                display: 'flex',\n                alignItems: 'center',\n                gap: 2,\n                p: 2,\n                borderRadius: 2,\n                backgroundColor:\n                  index < 3 ? 'rgba(240, 147, 251, 0.04)' : '#f8f9fa',\n                border: index === 0 ? '2px solid #ffd700' : '1px solid #e0e0e0',\n                transition: 'all 0.2s ease',\n                '&:hover': {\n                  transform: 'translateX(4px)',\n                  boxShadow: '0 2px 8px rgba(0,0,0,0.1)',\n                },\n              }}\n            >\n              <Box\n                sx={{\n                  minWidth: 32,\n                  height: 32,\n                  borderRadius: '50%',\n                  background:\n                    index < 3\n                      ? 'linear-gradient(135deg, #f093fb 0%, #f5576c 100%)'\n                      : '#bdbdbd',\n                  display: 'flex',\n                  alignItems: 'center',\n                  justifyContent: 'center',\n                  color: 'white',\n                  fontWeight: 700,\n                  fontSize: '0.9rem',\n                }}\n              >\n                {index + 1}\n              </Box>\n\n              <Avatar sx={{ width: 40, height: 40, bgcolor: '#f093fb' }}>\n                <CarIcon fontSize=\"small\" />\n              </Avatar>\n\n              <Box sx={{ flex: 1 }}>\n                <Typography variant=\"body2\" fontWeight=\"bold\">\n                  {vehicle.vehicle.brand} {vehicle.vehicle.model}\n                </Typography>\n                <Typography variant=\"caption\" color=\"text.secondary\">\n                  {vehicle.vehicle.licensePlate} • {vehicle.totalDaysRented} dní\n                  celkom\n                </Typography>\n              </Box>\n\n              <Box sx={{ textAlign: 'right' }}>\n                <Typography\n                  variant=\"h6\"\n                  fontWeight=\"bold\"\n                  sx={{ color: '#f093fb' }}\n                >\n                  {vehicle.rentalCount}x\n                </Typography>\n                <Typography variant=\"caption\" color=\"text.secondary\">\n                  {vehicle.totalRevenue.toLocaleString()} € celkom\n                </Typography>\n              </Box>\n            </Box>\n          )}\n          emptyMessage=\"Žiadne autá v tomto období\"\n        />\n      </Grid>\n\n      {/* Divider */}\n      <Grid item xs={12}>\n        <Divider sx={{ my: 2 }} />\n      </Grid>\n\n      {/* 👥 TOP ZÁKAZNÍCI - Detailné rebríčky */}\n      <Grid item xs={12}>\n        <Typography\n          variant=\"h5\"\n          sx={{\n            fontWeight: 700,\n            mb: 3,\n            color: '#667eea',\n            display: 'flex',\n            alignItems: 'center',\n            gap: 1,\n          }}\n        >\n          <PersonIcon />\n          👥 TOP Zákazníci - Detailné rebríčky\n        </Typography>\n      </Grid>\n\n      {/* Najaktívnejší zákazníci */}\n      <Grid item xs={12} lg={4}>\n        <TopListCard\n          title=\"Najaktívnejší zákazníci\"\n          icon={<StarIcon />}\n          gradient=\"linear-gradient(135deg, #ff9a9e 0%, #fad0c4 100%)\"\n          data={stats.customersByRentals}\n          showCount={showCustomersByRentals}\n          onLoadMore={() => setShowCustomersByRentals(prev => prev + 10)}\n          renderItem={(customer, index) => (\n            <Box\n              key={customer.customerName}\n              sx={{\n                display: 'flex',\n                alignItems: 'center',\n                gap: 2,\n                p: 2,\n                borderRadius: 2,\n                backgroundColor:\n                  index < 3 ? 'rgba(255, 154, 158, 0.04)' : '#f8f9fa',\n                border: index === 0 ? '2px solid #ffd700' : '1px solid #e0e0e0',\n                transition: 'all 0.2s ease',\n                '&:hover': {\n                  transform: 'translateX(4px)',\n                  boxShadow: '0 2px 8px rgba(0,0,0,0.1)',\n                },\n              }}\n            >\n              <Box\n                sx={{\n                  minWidth: 32,\n                  height: 32,\n                  borderRadius: '50%',\n                  background:\n                    index < 3\n                      ? 'linear-gradient(135deg, #ff9a9e 0%, #fad0c4 100%)'\n                      : '#bdbdbd',\n                  display: 'flex',\n                  alignItems: 'center',\n                  justifyContent: 'center',\n                  color: 'white',\n                  fontWeight: 700,\n                  fontSize: '0.9rem',\n                }}\n              >\n                {index + 1}\n              </Box>\n\n              <Avatar sx={{ width: 40, height: 40, bgcolor: '#ff9a9e' }}>\n                <PersonIcon fontSize=\"small\" />\n              </Avatar>\n\n              <Box sx={{ flex: 1 }}>\n                <Typography variant=\"body2\" fontWeight=\"bold\">\n                  {customer.customerName}\n                </Typography>\n                <Typography variant=\"caption\" color=\"text.secondary\">\n                  {customer.totalDaysRented} dní celkom • Priemer:{' '}\n                  {customer.avgRentalDuration.toFixed(1)} dní\n                </Typography>\n              </Box>\n\n              <Box sx={{ textAlign: 'right' }}>\n                <Typography\n                  variant=\"h6\"\n                  fontWeight=\"bold\"\n                  sx={{ color: '#ff9a9e' }}\n                >\n                  {customer.rentalCount}x\n                </Typography>\n                <Typography variant=\"caption\" color=\"text.secondary\">\n                  {customer.totalRevenue.toLocaleString()} € celkom\n                </Typography>\n              </Box>\n            </Box>\n          )}\n          emptyMessage=\"Žiadni zákazníci v tomto období\"\n        />\n      </Grid>\n\n      {/* Najziskovejší zákazníci */}\n      <Grid item xs={12} lg={4}>\n        <TopListCard\n          title=\"Najziskovejší zákazníci\"\n          icon={<MoneyIcon />}\n          gradient=\"linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%)\"\n          data={stats.customersByRevenue}\n          showCount={showCustomersByRevenue}\n          onLoadMore={() => setShowCustomersByRevenue(prev => prev + 10)}\n          renderItem={(customer, index) => (\n            <Box\n              key={customer.customerName}\n              sx={{\n                display: 'flex',\n                alignItems: 'center',\n                gap: 2,\n                p: 2,\n                borderRadius: 2,\n                backgroundColor:\n                  index < 3 ? 'rgba(255, 107, 107, 0.04)' : '#f8f9fa',\n                border: index === 0 ? '2px solid #ffd700' : '1px solid #e0e0e0',\n                transition: 'all 0.2s ease',\n                '&:hover': {\n                  transform: 'translateX(4px)',\n                  boxShadow: '0 2px 8px rgba(0,0,0,0.1)',\n                },\n              }}\n            >\n              <Box\n                sx={{\n                  minWidth: 32,\n                  height: 32,\n                  borderRadius: '50%',\n                  background:\n                    index < 3\n                      ? 'linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%)'\n                      : '#bdbdbd',\n                  display: 'flex',\n                  alignItems: 'center',\n                  justifyContent: 'center',\n                  color: 'white',\n                  fontWeight: 700,\n                  fontSize: '0.9rem',\n                }}\n              >\n                {index + 1}\n              </Box>\n\n              <Avatar sx={{ width: 40, height: 40, bgcolor: '#ff6b6b' }}>\n                <PersonIcon fontSize=\"small\" />\n              </Avatar>\n\n              <Box sx={{ flex: 1 }}>\n                <Typography variant=\"body2\" fontWeight=\"bold\">\n                  {customer.customerName}\n                </Typography>\n                <Typography variant=\"caption\" color=\"text.secondary\">\n                  {customer.rentalCount} prenájmov • {customer.totalDaysRented}{' '}\n                  dní\n                </Typography>\n              </Box>\n\n              <Box sx={{ textAlign: 'right' }}>\n                <Typography\n                  variant=\"h6\"\n                  fontWeight=\"bold\"\n                  sx={{ color: '#ff6b6b' }}\n                >\n                  {customer.totalRevenue.toLocaleString()} €\n                </Typography>\n                <Typography variant=\"caption\" color=\"text.secondary\">\n                  {(customer.totalRevenue / customer.rentalCount).toFixed(0)}{' '}\n                  €/prenájom\n                </Typography>\n              </Box>\n            </Box>\n          )}\n          emptyMessage=\"Žiadni zákazníci v tomto období\"\n        />\n      </Grid>\n\n      {/* Najdlhodobejší zákazníci */}\n      <Grid item xs={12} lg={4}>\n        <TopListCard\n          title=\"Najdlhodobejší zákazníci\"\n          icon={<TimeIcon />}\n          gradient=\"linear-gradient(135deg, #4facfe 0%, #00f2fe 100%)\"\n          data={stats.customersByDays}\n          showCount={showCustomersByDays}\n          onLoadMore={() => setShowCustomersByDays(prev => prev + 10)}\n          renderItem={(customer, index) => (\n            <Box\n              key={customer.customerName}\n              sx={{\n                display: 'flex',\n                alignItems: 'center',\n                gap: 2,\n                p: 2,\n                borderRadius: 2,\n                backgroundColor:\n                  index < 3 ? 'rgba(79, 172, 254, 0.04)' : '#f8f9fa',\n                border: index === 0 ? '2px solid #ffd700' : '1px solid #e0e0e0',\n                transition: 'all 0.2s ease',\n                '&:hover': {\n                  transform: 'translateX(4px)',\n                  boxShadow: '0 2px 8px rgba(0,0,0,0.1)',\n                },\n              }}\n            >\n              <Box\n                sx={{\n                  minWidth: 32,\n                  height: 32,\n                  borderRadius: '50%',\n                  background:\n                    index < 3\n                      ? 'linear-gradient(135deg, #4facfe 0%, #00f2fe 100%)'\n                      : '#bdbdbd',\n                  display: 'flex',\n                  alignItems: 'center',\n                  justifyContent: 'center',\n                  color: 'white',\n                  fontWeight: 700,\n                  fontSize: '0.9rem',\n                }}\n              >\n                {index + 1}\n              </Box>\n\n              <Avatar sx={{ width: 40, height: 40, bgcolor: '#4facfe' }}>\n                <PersonIcon fontSize=\"small\" />\n              </Avatar>\n\n              <Box sx={{ flex: 1 }}>\n                <Typography variant=\"body2\" fontWeight=\"bold\">\n                  {customer.customerName}\n                </Typography>\n                <Typography variant=\"caption\" color=\"text.secondary\">\n                  {customer.rentalCount} prenájmov •{' '}\n                  {customer.totalRevenue.toLocaleString()} €\n                </Typography>\n              </Box>\n\n              <Box sx={{ textAlign: 'right' }}>\n                <Typography\n                  variant=\"h6\"\n                  fontWeight=\"bold\"\n                  sx={{ color: '#4facfe' }}\n                >\n                  {customer.totalDaysRented} dní\n                </Typography>\n                <Typography variant=\"caption\" color=\"text.secondary\">\n                  Priemer: {customer.avgRentalDuration.toFixed(1)} dní/prenájom\n                </Typography>\n              </Box>\n            </Box>\n          )}\n          emptyMessage=\"Žiadni zákazníci v tomto období\"\n        />\n      </Grid>\n    </Grid>\n  );\n};\n\nexport default TopStatsTab;\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/components/ui/UnifiedButton.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/components/ui/UnifiedCard.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/components/ui/UnifiedChip.tsx",
    "messages": [
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 2,
        "message": "'_' is assigned a value but never used.",
        "line": 181,
        "column": 20,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 181,
        "endColumn": 21
      },
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 2,
        "message": "'__' is assigned a value but never used.",
        "line": 181,
        "column": 34,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 181,
        "endColumn": 36
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 181,
        "column": 64,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 181,
        "endColumn": 67,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [4178, 4181], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [4178, 4181], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 3,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "/**\n * 🎨 UNIFIED CHIP COMPONENT\n *\n * Konzistentný chip komponent pre celú BlackRent aplikáciu\n * Nahradí všetky rôzne chip štýly jednotným dizajnom\n */\n\nimport type { ChipProps } from '@mui/material';\nimport { Chip } from '@mui/material';\nimport { styled } from '@mui/material/styles';\nimport React from 'react';\n\n// 🎨 Definované chip varianty pre BlackRent\nexport type ChipVariant =\n  | 'default'\n  | 'status'\n  | 'priority'\n  | 'trend'\n  | 'role'\n  | 'compact';\n\n// 🎨 Definované farby pre BlackRent chips\nconst CHIP_COLORS = {\n  primary: '#1976d2',\n  secondary: '#dc004e',\n  success: '#2e7d32',\n  warning: '#ed6c02',\n  error: '#d32f2f',\n  info: '#0288d1',\n  neutral: '#6b7280',\n} as const;\n\n// 🎨 Styled Chip s BlackRent dizajnom\nconst StyledChip = styled(Chip)<{\n  variant?: ChipVariant;\n  chipColor?: keyof typeof CHIP_COLORS | 'inherit';\n}>(({ theme, variant = 'default', chipColor = 'primary' }) => {\n  const baseColor =\n    chipColor === 'inherit'\n      ? theme.palette.primary.main\n      : CHIP_COLORS[chipColor as keyof typeof CHIP_COLORS] ||\n        CHIP_COLORS.primary;\n\n  // 🎨 Base štýly\n  const baseStyles = {\n    fontWeight: 600,\n    transition: 'all 0.2s cubic-bezier(0.4, 0, 0.2, 1)',\n    '& .MuiChip-label': {\n      fontSize: '0.75rem',\n      fontWeight: 600,\n    },\n    '& .MuiChip-icon': {\n      fontSize: '16px',\n    },\n  };\n\n  // 🎨 Variant štýly\n  const variantStyles = {\n    default: {\n      backgroundColor: `${baseColor}15`,\n      color: baseColor,\n      border: `1px solid ${baseColor}30`,\n      '&:hover': {\n        backgroundColor: `${baseColor}25`,\n        transform: 'translateY(-1px)',\n        boxShadow: `0 2px 8px ${baseColor}30`,\n      },\n      '& .MuiChip-icon': {\n        color: baseColor,\n      },\n    },\n    status: {\n      backgroundColor: baseColor,\n      color: '#ffffff',\n      fontWeight: 700,\n      fontSize: '0.75rem',\n      height: 24,\n      '&:hover': {\n        backgroundColor: `${baseColor}dd`,\n        transform: 'scale(1.05)',\n      },\n      '& .MuiChip-icon': {\n        color: '#ffffff',\n      },\n      '& .MuiChip-label': {\n        px: 1,\n      },\n    },\n    priority: {\n      backgroundColor: baseColor,\n      color: '#ffffff',\n      fontWeight: 700,\n      fontSize: '0.7rem',\n      height: 20,\n      minWidth: 32,\n      borderRadius: '10px',\n      '&:hover': {\n        backgroundColor: `${baseColor}dd`,\n        transform: 'scale(1.1)',\n        boxShadow: `0 2px 8px ${baseColor}50`,\n      },\n      '& .MuiChip-label': {\n        px: 0.5,\n      },\n    },\n    trend: {\n      backgroundColor: `${baseColor}20`,\n      color: baseColor,\n      fontSize: '0.7rem',\n      height: 20,\n      '& .MuiChip-icon': {\n        color: baseColor,\n        fontSize: 12,\n      },\n      '& .MuiChip-label': {\n        px: 0.5,\n      },\n      '&:hover': {\n        backgroundColor: `${baseColor}30`,\n      },\n    },\n    role: {\n      backgroundColor: baseColor,\n      color: '#ffffff',\n      fontSize: '0.75rem',\n      fontWeight: 600,\n      '&:hover': {\n        backgroundColor: `${baseColor}dd`,\n      },\n      '& .MuiChip-label': {\n        px: 1,\n      },\n    },\n    compact: {\n      backgroundColor: `${baseColor}10`,\n      color: baseColor,\n      fontSize: '0.7rem',\n      height: 18,\n      '& .MuiChip-label': {\n        px: 0.5,\n      },\n      '& .MuiChip-icon': {\n        fontSize: 12,\n      },\n    },\n  };\n\n  return {\n    ...baseStyles,\n    ...variantStyles[variant as keyof typeof variantStyles],\n  };\n});\n\n// 🎨 Props interface\nexport interface UnifiedChipProps extends Omit<ChipProps, 'color' | 'variant'> {\n  variant?: ChipVariant;\n  chipColor?: keyof typeof CHIP_COLORS | 'inherit';\n  animated?: boolean;\n}\n\n// 🎨 Unified Chip Component\nexport const UnifiedChip: React.FC<UnifiedChipProps> = ({\n  variant = 'default',\n  chipColor = 'primary',\n  animated = false,\n  sx,\n  ...props\n}) => {\n  const animatedStyles = animated\n    ? {\n        '&:hover': {\n          animation: 'chipPulse 0.6s ease',\n        },\n        '@keyframes chipPulse': {\n          '0%, 100%': { transform: 'scale(1)' },\n          '50%': { transform: 'scale(1.05)' },\n        },\n      }\n    : {};\n\n  const { variant: _, chipColor: __, ...chipProps } = props as any;\n\n  return (\n    <StyledChip\n      variant={variant}\n      chipColor={chipColor}\n      sx={{\n        ...animatedStyles,\n        ...sx,\n      }}\n      {...chipProps}\n    />\n  );\n};\n\n// 🎨 Predefined chip variants pre rýchle použitie\nexport const StatusChip: React.FC<\n  Omit<UnifiedChipProps, 'variant'>\n> = props => <UnifiedChip variant=\"status\" {...props} />;\n\nexport const PriorityChip: React.FC<\n  Omit<UnifiedChipProps, 'variant'>\n> = props => <UnifiedChip variant=\"priority\" {...props} />;\n\nexport const TrendChip: React.FC<Omit<UnifiedChipProps, 'variant'>> = props => (\n  <UnifiedChip variant=\"trend\" {...props} />\n);\n\nexport const RoleChip: React.FC<Omit<UnifiedChipProps, 'variant'>> = props => (\n  <UnifiedChip variant=\"role\" {...props} />\n);\n\nexport const CompactChip: React.FC<\n  Omit<UnifiedChipProps, 'variant'>\n> = props => <UnifiedChip variant=\"compact\" {...props} />;\n\n// 🎨 Predefined status chips pre BlackRent stavy\nexport const PendingChip: React.FC<\n  Omit<UnifiedChipProps, 'chipColor' | 'variant'>\n> = props => <StatusChip chipColor=\"warning\" label=\"Čaká\" {...props} />;\n\nexport const ActiveChip: React.FC<\n  Omit<UnifiedChipProps, 'chipColor' | 'variant'>\n> = props => <StatusChip chipColor=\"success\" label=\"Aktívny\" {...props} />;\n\nexport const CompletedChip: React.FC<\n  Omit<UnifiedChipProps, 'chipColor' | 'variant'>\n> = props => <StatusChip chipColor=\"info\" label=\"Dokončený\" {...props} />;\n\nexport const CancelledChip: React.FC<\n  Omit<UnifiedChipProps, 'chipColor' | 'variant'>\n> = props => <StatusChip chipColor=\"error\" label=\"Zrušený\" {...props} />;\n\nexport default UnifiedChip;\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/components/ui/index.ts",
    "messages": [
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 89,
        "column": 14,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 89,
        "endColumn": 17,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [1700, 1703], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [1700, 1703], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 2,
        "message": "'theme' is defined but never used.",
        "line": 99,
        "column": 37,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 99,
        "endColumn": 47
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 99,
        "column": 44,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 99,
        "endColumn": 47,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [1896, 1899], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [1896, 1899], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 3,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "/**\n * 🎨 UNIFIED DESIGN SYSTEM\n *\n * Centralizované exporty pre BlackRent unified komponenty\n * Zabezpečuje konzistentný dizajn v celej aplikácii\n */\n\n// 🎨 Button komponenty\nexport {\n  UnifiedButton,\n  PrimaryButton,\n  SecondaryButton,\n  SuccessButton,\n  WarningButton,\n  ErrorButton,\n  TextButton,\n  type UnifiedButtonProps,\n} from './UnifiedButton';\n\n// 🎨 Card komponenty\nexport {\n  UnifiedCard,\n  DefaultCard,\n  ElevatedCard,\n  OutlinedCard,\n  InteractiveCard,\n  StatisticsCard,\n  CompactCard,\n  type UnifiedCardProps,\n  type CardVariant,\n} from './UnifiedCard';\n\n// 🎨 Chip komponenty\nexport {\n  UnifiedChip,\n  StatusChip,\n  PriorityChip,\n  TrendChip,\n  RoleChip,\n  CompactChip,\n  PendingChip,\n  ActiveChip,\n  CompletedChip,\n  CancelledChip,\n  type UnifiedChipProps,\n  type ChipVariant,\n} from './UnifiedChip';\n\n// 🎨 Design system constants\nexport const BLACKRENT_DESIGN_TOKENS = {\n  colors: {\n    primary: '#1976d2',\n    secondary: '#dc004e',\n    success: '#2e7d32',\n    warning: '#ed6c02',\n    error: '#d32f2f',\n    info: '#0288d1',\n    neutral: '#6b7280',\n  },\n  spacing: {\n    xs: 4,\n    sm: 8,\n    md: 16,\n    lg: 24,\n    xl: 32,\n  },\n  borderRadius: {\n    sm: 4,\n    md: 8,\n    lg: 12,\n    xl: 16,\n  },\n  shadows: {\n    sm: '0 1px 4px rgba(0,0,0,0.06)',\n    md: '0 2px 8px rgba(0,0,0,0.08)',\n    lg: '0 4px 16px rgba(0,0,0,0.12)',\n    xl: '0 6px 20px rgba(0,0,0,0.15)',\n  },\n  transitions: {\n    fast: '0.15s cubic-bezier(0.4, 0, 0.2, 1)',\n    normal: '0.2s cubic-bezier(0.4, 0, 0.2, 1)',\n    slow: '0.3s cubic-bezier(0.4, 0, 0.2, 1)',\n  },\n} as const;\n\n// 🎨 Design system helper functions\nexport const getDesignToken = (path: string) => {\n  const keys = path.split('.');\n  let value: any = BLACKRENT_DESIGN_TOKENS;\n\n  for (const key of keys) {\n    value = value?.[key];\n  }\n\n  return value;\n};\n\n// 🎨 Utility pre konzistentné štýlovanie\nexport const createUnifiedStyles = (theme: any) => ({\n  // Konzistentné button štýly\n  button: {\n    borderRadius: BLACKRENT_DESIGN_TOKENS.borderRadius.md,\n    textTransform: 'none' as const,\n    fontWeight: 600,\n    transition: BLACKRENT_DESIGN_TOKENS.transitions.normal,\n  },\n\n  // Konzistentné card štýly\n  card: {\n    borderRadius: BLACKRENT_DESIGN_TOKENS.borderRadius.lg,\n    boxShadow: BLACKRENT_DESIGN_TOKENS.shadows.md,\n    transition: BLACKRENT_DESIGN_TOKENS.transitions.normal,\n  },\n\n  // Konzistentné chip štýly\n  chip: {\n    borderRadius: BLACKRENT_DESIGN_TOKENS.borderRadius.md,\n    fontWeight: 600,\n    transition: BLACKRENT_DESIGN_TOKENS.transitions.normal,\n  },\n});\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/components/users/BasicUserManagement.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/components/users/IntegratedUserManagement.tsx",
    "messages": [
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 2,
        "message": "'AdvancedIcon' is defined but never used.",
        "line": 3,
        "column": 24,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 3,
        "endColumn": 36
      },
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 2,
        "message": "'Typography' is defined but never used.",
        "line": 9,
        "column": 3,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 9,
        "endColumn": 13
      }
    ],
    "suppressedMessages": [],
    "errorCount": 2,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "import {\n  Person as PersonIcon,\n  SupervisorAccount as AdvancedIcon,\n  Notifications as NotificationIcon,\n  Security as SecurityIcon,\n} from '@mui/icons-material';\nimport {\n  Box,\n  Typography,\n  Tabs,\n  Tab,\n  useTheme,\n  useMediaQuery,\n} from '@mui/material';\nimport React, { useState } from 'react';\n\nimport { RoleGuard } from '../common/PermissionGuard';\nimport PushNotificationManager from '../common/PushNotificationManager';\n\nimport BasicUserManagement from './BasicUserManagement';\nimport RolePermissionsDisplay from './RolePermissionsDisplay';\n\nexport default function IntegratedUserManagement() {\n  const theme = useTheme();\n  const isMobile = useMediaQuery(theme.breakpoints.down('md'));\n\n  // Tab management - start with Basic tab (index 0) as it's the main feature\n  const [currentTab, setCurrentTab] = useState(0);\n\n  const handleTabChange = (event: React.SyntheticEvent, newValue: number) => {\n    setCurrentTab(newValue);\n  };\n\n  // Basic User Management is now the main component - no placeholder needed\n\n  const renderTabContent = () => {\n    switch (currentTab) {\n      case 0:\n        return <BasicUserManagement />;\n      case 1:\n        return <RolePermissionsDisplay />;\n      case 2:\n        return <PushNotificationManager />;\n      default:\n        return <BasicUserManagement />;\n    }\n  };\n\n  return (\n    <RoleGuard allowedRoles={['admin']} showAccessDeniedMessage>\n      <Box\n        sx={{\n          p: { xs: 1, sm: 2, md: 3 },\n          minHeight: '100vh',\n          backgroundColor: { xs: '#f5f5f5', sm: 'transparent' },\n        }}\n      >\n        {/* Header - Removed duplicate since BasicUserManagement has its own */}\n        {/* Tabs */}\n        <Box\n          sx={{\n            borderBottom: 1,\n            borderColor: 'divider',\n            mb: { xs: 2, sm: 3 },\n            backgroundColor: { xs: 'background.paper', sm: 'transparent' },\n            mx: { xs: -1, sm: 0 },\n            px: { xs: 2, sm: 0 },\n            py: { xs: 1, sm: 0 },\n            borderRadius: { xs: '8px 8px 0 0', sm: 0 },\n          }}\n        >\n          <Tabs\n            value={currentTab}\n            onChange={handleTabChange}\n            aria-label=\"user management tabs\"\n            variant={isMobile ? 'scrollable' : 'standard'}\n            scrollButtons=\"auto\"\n            allowScrollButtonsMobile\n            sx={{\n              '& .MuiTab-root': {\n                textTransform: 'none',\n                minWidth: { xs: 100, sm: 140, md: 160 },\n                fontSize: { xs: '0.8rem', sm: '0.9rem' },\n                fontWeight: 500,\n                px: { xs: 1, sm: 2 },\n                py: { xs: 1.5, sm: 1.5 },\n              },\n              '& .Mui-selected': {\n                color: 'primary.main',\n                fontWeight: 600,\n              },\n              '& .MuiTabs-indicator': {\n                height: 3,\n                borderRadius: '3px 3px 0 0',\n              },\n            }}\n          >\n            <Tab\n              icon={<PersonIcon fontSize={isMobile ? 'small' : 'medium'} />}\n              label=\"Správa používateľov\"\n              iconPosition=\"start\"\n            />\n            <Tab\n              icon={<SecurityIcon fontSize={isMobile ? 'small' : 'medium'} />}\n              label=\"Práva rolí\"\n              iconPosition=\"start\"\n            />\n            <Tab\n              icon={\n                <NotificationIcon fontSize={isMobile ? 'small' : 'medium'} />\n              }\n              label=\"Push notifikácie\"\n              iconPosition=\"start\"\n            />\n          </Tabs>\n        </Box>\n\n        {/* Tab Content */}\n        <Box\n          sx={{\n            mt: 0,\n            backgroundColor: { xs: 'background.paper', sm: 'transparent' },\n            borderRadius: { xs: 2, sm: 0 },\n            mx: { xs: -1, sm: 0 },\n            overflow: 'hidden',\n          }}\n        >\n          {renderTabContent()}\n        </Box>\n      </Box>\n    </RoleGuard>\n  );\n}\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/components/users/RolePermissionsDisplay.tsx",
    "messages": [
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 2,
        "message": "'CloseIcon' is defined but never used.",
        "line": 4,
        "column": 12,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 4,
        "endColumn": 21
      },
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 2,
        "message": "'Card' is defined but never used.",
        "line": 16,
        "column": 3,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 16,
        "endColumn": 7
      },
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 2,
        "message": "'CardContent' is defined but never used.",
        "line": 17,
        "column": 3,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 17,
        "endColumn": 14
      },
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 2,
        "message": "'Grid' is defined but never used.",
        "line": 19,
        "column": 3,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 19,
        "endColumn": 7
      },
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 2,
        "message": "'Divider' is defined but never used.",
        "line": 24,
        "column": 3,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 24,
        "endColumn": 10
      },
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 2,
        "message": "'ACTION_LABELS' is assigned a value but never used.",
        "line": 187,
        "column": 7,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 187,
        "endColumn": 20
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 207,
        "column": 45,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 207,
        "endColumn": 48,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [5172, 5175], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [5172, 5175], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 261,
        "column": 53,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 261,
        "endColumn": 56,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [7056, 7059], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [7056, 7059], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 272,
        "column": 40,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 272,
        "endColumn": 43,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [7468, 7471], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [7468, 7471], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 2,
        "message": "'index' is defined but never used.",
        "line": 303,
        "column": 47,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 303,
        "endColumn": 52
      }
    ],
    "suppressedMessages": [],
    "errorCount": 10,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "import {\n  ExpandMore as ExpandMoreIcon,\n  Check as CheckIcon,\n  Close as CloseIcon,\n  AdminPanelSettings as AdminIcon,\n  Person as UserIcon,\n  Work as EmployeeIcon,\n  Build as TempWorkerIcon,\n  Engineering as MechanicIcon,\n  BusinessCenter as SalesIcon,\n  Business as CompanyIcon,\n} from '@mui/icons-material';\nimport {\n  Box,\n  Typography,\n  Card,\n  CardContent,\n  Chip,\n  Grid,\n  List,\n  ListItem,\n  ListItemIcon,\n  ListItemText,\n  Divider,\n  Accordion,\n  AccordionSummary,\n  AccordionDetails,\n} from '@mui/material';\nimport React from 'react';\n\n// Definícia práv rolí (kópia z backend/src/middleware/permissions.ts)\nconst ROLE_PERMISSIONS = {\n  admin: [\n    {\n      resource: '*',\n      actions: ['read', 'create', 'update', 'delete'],\n      conditions: {},\n    },\n  ],\n  user: [\n    { resource: 'vehicles', actions: ['read'] },\n    { resource: 'rentals', actions: ['read'] },\n    { resource: 'customers', actions: ['read'] },\n    { resource: 'expenses', actions: ['read'] },\n    { resource: 'settlements', actions: ['read'] },\n    { resource: 'insurances', actions: ['read'] },\n    { resource: 'maintenance', actions: ['read'] },\n    { resource: 'protocols', actions: ['read', 'create', 'update'] },\n    { resource: 'statistics', actions: ['read'] },\n  ],\n  employee: [\n    { resource: 'vehicles', actions: ['read', 'create', 'update'] },\n    { resource: 'rentals', actions: ['read', 'create', 'update'] },\n    { resource: 'customers', actions: ['read', 'create', 'update'] },\n    { resource: 'maintenance', actions: ['read', 'create'] },\n    { resource: 'protocols', actions: ['read', 'create', 'update'] },\n  ],\n  temp_worker: [\n    { resource: 'vehicles', actions: ['read'] },\n    { resource: 'rentals', actions: ['read', 'create'] },\n    { resource: 'customers', actions: ['read', 'create'] },\n    { resource: 'protocols', actions: ['read', 'create'] },\n  ],\n  mechanic: [\n    {\n      resource: 'vehicles',\n      actions: ['read', 'update'],\n      conditions: { ownOnly: true },\n    },\n    {\n      resource: 'maintenance',\n      actions: ['read', 'create', 'update', 'delete'],\n      conditions: { ownOnly: true },\n    },\n    {\n      resource: 'protocols',\n      actions: ['read', 'create', 'update'],\n      conditions: { ownOnly: true },\n    },\n  ],\n  sales_rep: [\n    { resource: 'vehicles', actions: ['read'] },\n    { resource: 'rentals', actions: ['read', 'create', 'update'] },\n    { resource: 'customers', actions: ['read', 'create', 'update'] },\n    {\n      resource: 'pricing',\n      actions: ['read', 'update'],\n      conditions: { maxAmount: 5000 },\n    },\n  ],\n  company_owner: [\n    {\n      resource: 'vehicles',\n      actions: ['read'],\n      conditions: { companyOnly: true },\n    },\n    {\n      resource: 'rentals',\n      actions: ['read'],\n      conditions: { companyOnly: true },\n    },\n    {\n      resource: 'expenses',\n      actions: ['read'],\n      conditions: { companyOnly: true },\n    },\n    {\n      resource: 'insurances',\n      actions: ['read'],\n      conditions: { companyOnly: true },\n    },\n    { resource: 'companies', actions: ['read'], conditions: { ownOnly: true } },\n    {\n      resource: 'finances',\n      actions: ['read'],\n      conditions: { companyOnly: true },\n    },\n    {\n      resource: 'protocols',\n      actions: ['read'],\n      conditions: { companyOnly: true },\n    },\n  ],\n};\n\nconst ROLE_INFO = {\n  admin: {\n    name: 'Administrátor',\n    icon: AdminIcon,\n    color: 'error',\n    description: 'Úplné práva na všetko',\n  },\n  user: {\n    name: 'Používateľ',\n    icon: UserIcon,\n    color: 'default',\n    description: 'Základný používateľ s READ-ONLY právami',\n  },\n  employee: {\n    name: 'Zamestnanec',\n    icon: EmployeeIcon,\n    color: 'info',\n    description: 'Základné operácie s vozidlami, prenájmami, zákazníkmi',\n  },\n  temp_worker: {\n    name: 'Brigádnik',\n    icon: TempWorkerIcon,\n    color: 'warning',\n    description: 'Obmedzené práva, hlavne čítanie',\n  },\n  mechanic: {\n    name: 'Mechanik',\n    icon: MechanicIcon,\n    color: 'success',\n    description: 'Špecializované práva na údržbu',\n  },\n  sales_rep: {\n    name: 'Obchodník',\n    icon: SalesIcon,\n    color: 'secondary',\n    description: 'Obchodné operácie s limitmi',\n  },\n  company_owner: {\n    name: 'Majiteľ firmy',\n    icon: CompanyIcon,\n    color: 'primary',\n    description: 'Len vlastné vozidlá a súvisiace dáta',\n  },\n};\n\nconst RESOURCE_LABELS = {\n  '*': 'Všetko',\n  vehicles: 'Vozidlá',\n  rentals: 'Prenájmy',\n  customers: 'Zákazníci',\n  expenses: 'Náklady',\n  settlements: 'Vyúčtovanie',\n  insurances: 'Poistky/STK',\n  maintenance: 'Údržba',\n  protocols: 'Protokoly',\n  statistics: 'Štatistiky',\n  pricing: 'Cenníky',\n  companies: 'Firmy',\n  finances: 'Financie',\n};\n\nconst ACTION_LABELS = {\n  read: 'Čítanie',\n  create: 'Vytváranie',\n  update: 'Úprava',\n  delete: 'Mazanie',\n};\n\ninterface RolePermissionsDisplayProps {\n  selectedRole?: string;\n  showAllRoles?: boolean;\n}\n\nexport default function RolePermissionsDisplay({\n  selectedRole,\n  showAllRoles = true,\n}: RolePermissionsDisplayProps) {\n  const rolesToShow = selectedRole\n    ? [selectedRole]\n    : Object.keys(ROLE_PERMISSIONS);\n\n  const renderPermissionItem = (permission: any) => {\n    const resourceLabel =\n      RESOURCE_LABELS[permission.resource as keyof typeof RESOURCE_LABELS] ||\n      permission.resource;\n    const actions = permission.actions.join(', ');\n    const conditions = permission.conditions;\n\n    let conditionText = '';\n    if (conditions?.ownOnly) conditionText += ' (len vlastné)';\n    if (conditions?.companyOnly) conditionText += ' (len vlastná firma)';\n    if (conditions?.maxAmount)\n      conditionText += ` (max ${conditions.maxAmount}€)`;\n    if (conditions?.approvalRequired) conditionText += ' (vyžaduje schválenie)';\n\n    return (\n      <ListItem key={permission.resource} sx={{ py: 0.5 }}>\n        <ListItemIcon sx={{ minWidth: 32 }}>\n          <CheckIcon color=\"success\" fontSize=\"small\" />\n        </ListItemIcon>\n        <ListItemText\n          primary={\n            <Box sx={{ display: 'flex', alignItems: 'center', gap: 1 }}>\n              <Typography variant=\"body2\" fontWeight={500}>\n                {resourceLabel}\n              </Typography>\n              <Typography variant=\"caption\" color=\"text.secondary\">\n                ({actions}){conditionText}\n              </Typography>\n            </Box>\n          }\n        />\n      </ListItem>\n    );\n  };\n\n  const renderRoleCard = (roleKey: string) => {\n    const roleInfo = ROLE_INFO[roleKey as keyof typeof ROLE_INFO];\n    const permissions =\n      ROLE_PERMISSIONS[roleKey as keyof typeof ROLE_PERMISSIONS];\n    const IconComponent = roleInfo.icon;\n\n    if (!roleInfo || !permissions) return null;\n\n    return (\n      <Accordion key={roleKey} defaultExpanded={!showAllRoles}>\n        <AccordionSummary expandIcon={<ExpandMoreIcon />}>\n          <Box\n            sx={{\n              display: 'flex',\n              alignItems: 'center',\n              gap: 2,\n              width: '100%',\n            }}\n          >\n            <IconComponent color={roleInfo.color as any} />\n            <Box sx={{ flex: 1 }}>\n              <Typography variant=\"h6\" component=\"div\">\n                {roleInfo.name}\n              </Typography>\n              <Typography variant=\"body2\" color=\"text.secondary\">\n                {roleInfo.description}\n              </Typography>\n            </Box>\n            <Chip\n              label={roleKey.toUpperCase()}\n              color={roleInfo.color as any}\n              size=\"small\"\n              variant=\"outlined\"\n            />\n          </Box>\n        </AccordionSummary>\n        <AccordionDetails>\n          <Box>\n            <Typography variant=\"subtitle2\" gutterBottom sx={{ mb: 2 }}>\n              Oprávnenia:\n            </Typography>\n\n            {roleKey === 'admin' ? (\n              <Box\n                sx={{\n                  p: 2,\n                  bgcolor: 'error.50',\n                  borderRadius: 1,\n                  border: '1px solid',\n                  borderColor: 'error.200',\n                }}\n              >\n                <Typography variant=\"body2\" color=\"error.main\" fontWeight={600}>\n                  🔥 ÚPLNÉ PRÁVA NA VŠETKO\n                </Typography>\n                <Typography variant=\"caption\" color=\"text.secondary\">\n                  Administrátor má neobmedzený prístup k celému systému\n                </Typography>\n              </Box>\n            ) : (\n              <List dense sx={{ bgcolor: 'grey.50', borderRadius: 1 }}>\n                {permissions.map((permission, index) =>\n                  renderPermissionItem(permission)\n                )}\n              </List>\n            )}\n          </Box>\n        </AccordionDetails>\n      </Accordion>\n    );\n  };\n\n  return (\n    <Box>\n      <Typography variant=\"h5\" gutterBottom sx={{ mb: 3 }}>\n        📋 Práva používateľských rolí\n      </Typography>\n\n      <Box sx={{ mb: 2 }}>\n        <Typography variant=\"body2\" color=\"text.secondary\">\n          Prehľad oprávnení pre jednotlivé role v BlackRent systéme\n        </Typography>\n      </Box>\n\n      <Box>{rolesToShow.map(roleKey => renderRoleCard(roleKey))}</Box>\n    </Box>\n  );\n}\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/components/users/UserCompanyPermissions.tsx",
    "messages": [
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 2,
        "message": "'Chip' is defined but never used.",
        "line": 20,
        "column": 3,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 20,
        "endColumn": 7
      },
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 2,
        "message": "'Divider' is defined but never used.",
        "line": 23,
        "column": 3,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 23,
        "endColumn": 10
      },
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 2,
        "message": "'Tooltip' is defined but never used.",
        "line": 24,
        "column": 3,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 24,
        "endColumn": 10
      }
    ],
    "suppressedMessages": [],
    "errorCount": 3,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "import {\n  ExpandMore as ExpandMoreIcon,\n  Business as BusinessIcon,\n  Visibility as ReadIcon,\n  Edit as WriteIcon,\n  Delete as DeleteIcon,\n  Check as CheckIcon,\n  Add as AddIcon,\n  Remove as RemoveIcon,\n} from '@mui/icons-material';\nimport {\n  Box,\n  Typography,\n  Card,\n  CardContent,\n  CardHeader,\n  Grid,\n  FormControlLabel,\n  Switch,\n  Chip,\n  Alert,\n  CircularProgress,\n  Divider,\n  Tooltip,\n  IconButton,\n  Accordion,\n  AccordionSummary,\n  AccordionDetails,\n  Stack,\n  Button,\n} from '@mui/material';\nimport React, { useState, useEffect } from 'react';\n\nimport { apiService } from '../../services/api';\nimport type {\n  Company,\n  UserCompanyAccess,\n  CompanyPermissions,\n  ResourcePermission,\n} from '../../types';\n\ninterface UserCompanyPermissionsProps {\n  userId?: string; // undefined pre nového používateľa\n  onPermissionsChange?: (permissions: UserCompanyAccess[]) => void;\n}\n\nconst RESOURCES = [\n  { key: 'vehicles', label: 'Vozidlá', icon: '🚗' },\n  { key: 'rentals', label: 'Prenájmy', icon: '📋' },\n  { key: 'expenses', label: 'Náklady', icon: '💰' },\n  { key: 'settlements', label: 'Vyúčtovanie', icon: '📊' },\n  { key: 'customers', label: 'Zákazníci', icon: '👥' },\n  { key: 'insurances', label: 'Poistky/STK', icon: '🛡️' },\n  { key: 'maintenance', label: 'Údržba', icon: '🔧' },\n  { key: 'protocols', label: 'Protokoly', icon: '📝' },\n] as const;\n\nconst DEFAULT_PERMISSIONS: CompanyPermissions = {\n  vehicles: { read: false, write: false, delete: false },\n  rentals: { read: false, write: false, delete: false },\n  expenses: { read: false, write: false, delete: false },\n  settlements: { read: false, write: false, delete: false },\n  customers: { read: false, write: false, delete: false },\n  insurances: { read: false, write: false, delete: false },\n  maintenance: { read: false, write: false, delete: false },\n  protocols: { read: false, write: false, delete: false },\n};\n\nexport default function UserCompanyPermissions({\n  userId,\n  onPermissionsChange,\n}: UserCompanyPermissionsProps) {\n  const [companies, setCompanies] = useState<Company[]>([]);\n  const [userAccess, setUserAccess] = useState<UserCompanyAccess[]>([]);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n  const [expandedCompany, setExpandedCompany] = useState<string | false>(false);\n\n  // Načítaj firmy\n  useEffect(() => {\n    const fetchCompanies = async () => {\n      try {\n        const companiesData = await apiService.getCompanies();\n        setCompanies(companiesData);\n      } catch (error) {\n        console.error('Error fetching companies:', error);\n        setError('Chyba pri načítavaní firiem');\n      }\n    };\n\n    fetchCompanies();\n  }, []);\n\n  // Načítaj oprávnenia používateľa\n  useEffect(() => {\n    if (!userId) {\n      setUserAccess([]);\n      return;\n    }\n\n    const fetchUserPermissions = async () => {\n      try {\n        setLoading(true);\n        const accessData = await apiService.getUserCompanyAccess(userId);\n        setUserAccess(accessData);\n      } catch (error) {\n        console.error('Error fetching user permissions:', error);\n        setError('Chyba pri načítavaní oprávnení');\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchUserPermissions();\n  }, [userId]);\n\n  // Informuj rodičovský komponent o zmenách\n  useEffect(() => {\n    if (onPermissionsChange) {\n      onPermissionsChange(userAccess);\n    }\n  }, [userAccess, onPermissionsChange]);\n\n  const handleAddCompanyAccess = (companyId: string) => {\n    const company = companies.find(c => c.id === companyId);\n    if (!company) return;\n\n    const existingAccess = userAccess.find(\n      access => access.companyId === companyId\n    );\n    if (existingAccess) return;\n\n    const newAccess: UserCompanyAccess = {\n      companyId: company.id,\n      companyName: company.name,\n      permissions: DEFAULT_PERMISSIONS,\n    };\n\n    setUserAccess(prev => [...prev, newAccess]);\n    setExpandedCompany(companyId);\n  };\n\n  const handleRemoveCompanyAccess = (companyId: string) => {\n    setUserAccess(prev =>\n      prev.filter(access => access.companyId !== companyId)\n    );\n    if (expandedCompany === companyId) {\n      setExpandedCompany(false);\n    }\n  };\n\n  const handlePermissionChange = (\n    companyId: string,\n    resource: keyof CompanyPermissions,\n    action: keyof ResourcePermission,\n    value: boolean\n  ) => {\n    setUserAccess(prev =>\n      prev.map(access => {\n        if (access.companyId === companyId) {\n          return {\n            ...access,\n            permissions: {\n              ...access.permissions,\n              [resource]: {\n                ...access.permissions[resource],\n                [action]: value,\n              },\n            },\n          };\n        }\n        return access;\n      })\n    );\n  };\n\n  const handleSetAllPermissions = (\n    companyId: string,\n    action: keyof ResourcePermission,\n    value: boolean\n  ) => {\n    setUserAccess(prev =>\n      prev.map(access => {\n        if (access.companyId === companyId) {\n          const newPermissions = { ...access.permissions };\n          RESOURCES.forEach(resource => {\n            newPermissions[resource.key as keyof CompanyPermissions] = {\n              ...newPermissions[resource.key as keyof CompanyPermissions],\n              [action]: value,\n            };\n          });\n          return {\n            ...access,\n            permissions: newPermissions,\n          };\n        }\n        return access;\n      })\n    );\n  };\n\n  const hasAnyPermission = (permissions: CompanyPermissions): boolean => {\n    return RESOURCES.some(resource => {\n      const resourcePerms =\n        permissions[resource.key as keyof CompanyPermissions];\n      return resourcePerms.read || resourcePerms.write || resourcePerms.delete;\n    });\n  };\n\n  const getPermissionSummary = (permissions: CompanyPermissions): string => {\n    let readCount = 0;\n    let writeCount = 0;\n    let deleteCount = 0;\n\n    RESOURCES.forEach(resource => {\n      const resourcePerms =\n        permissions[resource.key as keyof CompanyPermissions];\n      if (resourcePerms.read) readCount++;\n      if (resourcePerms.write) writeCount++;\n      if (resourcePerms.delete) deleteCount++;\n    });\n\n    const summary = [];\n    if (readCount > 0) summary.push(`${readCount} čítanie`);\n    if (writeCount > 0) summary.push(`${writeCount} úpravy`);\n    if (deleteCount > 0) summary.push(`${deleteCount} mazanie`);\n\n    return summary.join(', ') || 'Žiadne oprávnenia';\n  };\n\n  if (loading) {\n    return (\n      <Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\" p={3}>\n        <CircularProgress size={24} />\n        <Typography variant=\"body2\" sx={{ ml: 2 }}>\n          Načítavam oprávnenia...\n        </Typography>\n      </Box>\n    );\n  }\n\n  return (\n    <Box>\n      <Typography\n        variant=\"h6\"\n        gutterBottom\n        sx={{ display: 'flex', alignItems: 'center', gap: 1 }}\n      >\n        <BusinessIcon color=\"primary\" />\n        Oprávnenia na firmy\n      </Typography>\n\n      {error && (\n        <Alert severity=\"error\" sx={{ mb: 2 }}>\n          {error}\n        </Alert>\n      )}\n\n      {/* Pridanie prístupu k firmám */}\n      <Card sx={{ mb: 3 }}>\n        <CardHeader\n          title=\"Pridať prístup k firme\"\n          titleTypographyProps={{ variant: 'subtitle1' }}\n        />\n        <CardContent>\n          <Stack direction=\"row\" spacing={1} flexWrap=\"wrap\">\n            {companies\n              .filter(\n                company =>\n                  !userAccess.some(access => access.companyId === company.id)\n              )\n              .map(company => (\n                <Button\n                  key={company.id}\n                  variant=\"outlined\"\n                  size=\"small\"\n                  startIcon={<AddIcon />}\n                  onClick={() => handleAddCompanyAccess(company.id)}\n                  sx={{ mb: 1 }}\n                >\n                  {company.name}\n                </Button>\n              ))}\n            {companies.filter(\n              company =>\n                !userAccess.some(access => access.companyId === company.id)\n            ).length === 0 && (\n              <Typography variant=\"body2\" color=\"text.secondary\">\n                Používateľ má prístup ku všetkým firmám\n              </Typography>\n            )}\n          </Stack>\n        </CardContent>\n      </Card>\n\n      {/* Zoznam firiem s oprávneniami */}\n      {userAccess.map(access => (\n        <Accordion\n          key={access.companyId}\n          expanded={expandedCompany === access.companyId}\n          onChange={(_, isExpanded) =>\n            setExpandedCompany(isExpanded ? access.companyId : false)\n          }\n          sx={{ mb: 2 }}\n        >\n          <AccordionSummary expandIcon={<ExpandMoreIcon />}>\n            <Box\n              sx={{\n                display: 'flex',\n                alignItems: 'center',\n                gap: 2,\n                width: '100%',\n              }}\n            >\n              <BusinessIcon color=\"primary\" />\n              <Box sx={{ flexGrow: 1 }}>\n                <Typography variant=\"subtitle1\" fontWeight=\"bold\">\n                  {access.companyName}\n                </Typography>\n                <Typography variant=\"caption\" color=\"text.secondary\">\n                  {getPermissionSummary(access.permissions)}\n                </Typography>\n              </Box>\n              <Box sx={{ display: 'flex', alignItems: 'center', gap: 1 }}>\n                {hasAnyPermission(access.permissions) && (\n                  <CheckIcon color=\"success\" fontSize=\"small\" />\n                )}\n                <IconButton\n                  size=\"small\"\n                  color=\"error\"\n                  onClick={e => {\n                    e.stopPropagation();\n                    handleRemoveCompanyAccess(access.companyId);\n                  }}\n                >\n                  <RemoveIcon />\n                </IconButton>\n              </Box>\n            </Box>\n          </AccordionSummary>\n\n          <AccordionDetails>\n            {/* Hromadné akcie */}\n            <Box sx={{ mb: 3, p: 2, bgcolor: 'grey.50', borderRadius: 1 }}>\n              <Typography variant=\"subtitle2\" gutterBottom>\n                Hromadné nastavenie:\n              </Typography>\n              <Stack direction=\"row\" spacing={2}>\n                <Button\n                  size=\"small\"\n                  onClick={() =>\n                    handleSetAllPermissions(access.companyId, 'read', true)\n                  }\n                >\n                  Všetko čítanie\n                </Button>\n                <Button\n                  size=\"small\"\n                  onClick={() =>\n                    handleSetAllPermissions(access.companyId, 'write', true)\n                  }\n                >\n                  Všetky úpravy\n                </Button>\n                <Button\n                  size=\"small\"\n                  color=\"error\"\n                  onClick={() => {\n                    handleSetAllPermissions(access.companyId, 'read', false);\n                    handleSetAllPermissions(access.companyId, 'write', false);\n                    handleSetAllPermissions(access.companyId, 'delete', false);\n                  }}\n                >\n                  Zrušiť všetko\n                </Button>\n              </Stack>\n            </Box>\n\n            {/* Detailné oprávnenia */}\n            <Grid container spacing={2}>\n              {RESOURCES.map(resource => {\n                const resourcePerms =\n                  access.permissions[resource.key as keyof CompanyPermissions];\n                return (\n                  <Grid item xs={12} sm={6} md={4} key={resource.key}>\n                    <Card variant=\"outlined\" sx={{ height: '100%' }}>\n                      <CardContent sx={{ p: 2 }}>\n                        <Typography\n                          variant=\"subtitle2\"\n                          gutterBottom\n                          sx={{ display: 'flex', alignItems: 'center', gap: 1 }}\n                        >\n                          <span>{resource.icon}</span>\n                          {resource.label}\n                        </Typography>\n                        <Stack spacing={1}>\n                          <FormControlLabel\n                            control={\n                              <Switch\n                                size=\"small\"\n                                checked={resourcePerms.read}\n                                onChange={e =>\n                                  handlePermissionChange(\n                                    access.companyId,\n                                    resource.key as keyof CompanyPermissions,\n                                    'read',\n                                    e.target.checked\n                                  )\n                                }\n                              />\n                            }\n                            label={\n                              <Box\n                                sx={{\n                                  display: 'flex',\n                                  alignItems: 'center',\n                                  gap: 0.5,\n                                }}\n                              >\n                                <ReadIcon fontSize=\"small\" color=\"primary\" />\n                                <Typography variant=\"caption\">\n                                  Čítanie\n                                </Typography>\n                              </Box>\n                            }\n                          />\n                          <FormControlLabel\n                            control={\n                              <Switch\n                                size=\"small\"\n                                checked={resourcePerms.write}\n                                onChange={e =>\n                                  handlePermissionChange(\n                                    access.companyId,\n                                    resource.key as keyof CompanyPermissions,\n                                    'write',\n                                    e.target.checked\n                                  )\n                                }\n                              />\n                            }\n                            label={\n                              <Box\n                                sx={{\n                                  display: 'flex',\n                                  alignItems: 'center',\n                                  gap: 0.5,\n                                }}\n                              >\n                                <WriteIcon fontSize=\"small\" color=\"warning\" />\n                                <Typography variant=\"caption\">\n                                  Úpravy\n                                </Typography>\n                              </Box>\n                            }\n                          />\n                          <FormControlLabel\n                            control={\n                              <Switch\n                                size=\"small\"\n                                checked={resourcePerms.delete}\n                                onChange={e =>\n                                  handlePermissionChange(\n                                    access.companyId,\n                                    resource.key as keyof CompanyPermissions,\n                                    'delete',\n                                    e.target.checked\n                                  )\n                                }\n                              />\n                            }\n                            label={\n                              <Box\n                                sx={{\n                                  display: 'flex',\n                                  alignItems: 'center',\n                                  gap: 0.5,\n                                }}\n                              >\n                                <DeleteIcon fontSize=\"small\" color=\"error\" />\n                                <Typography variant=\"caption\">\n                                  Mazanie\n                                </Typography>\n                              </Box>\n                            }\n                          />\n                        </Stack>\n                      </CardContent>\n                    </Card>\n                  </Grid>\n                );\n              })}\n            </Grid>\n          </AccordionDetails>\n        </Accordion>\n      ))}\n\n      {userAccess.length === 0 && (\n        <Alert severity=\"info\">\n          Používateľ nemá prístup k žiadnej firme. Použite tlačidlá vyššie na\n          pridanie prístupu k firmám.\n        </Alert>\n      )}\n    </Box>\n  );\n}\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/components/users/UserProfile.tsx",
    "messages": [
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 2,
        "message": "'Divider' is defined but never used.",
        "line": 9,
        "column": 3,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 9,
        "endColumn": 10
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 109,
        "column": 53,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 109,
        "endColumn": 56,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [3369, 3372], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [3369, 3372], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 2,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "import { Save, Person, Edit } from '@mui/icons-material';\nimport {\n  Box,\n  Card,\n  CardContent,\n  TextField,\n  Button,\n  Typography,\n  Divider,\n  Alert,\n  Paper,\n} from '@mui/material';\nimport React, { useState } from 'react';\n\nimport { useAuth } from '../../context/AuthContext';\nimport { apiService } from '../../services/api';\nimport SignaturePad from '../common/SignaturePad';\n\ninterface UserProfileProps {\n  open: boolean;\n  onClose: () => void;\n}\n\nexport default function UserProfile({ open, onClose }: UserProfileProps) {\n  const { state, updateUser } = useAuth();\n  const [loading, setLoading] = useState(false);\n  const [showSignaturePad, setShowSignaturePad] = useState(false);\n  const [message, setMessage] = useState<{\n    type: 'success' | 'error';\n    text: string;\n  } | null>(null);\n\n  const [formData, setFormData] = useState({\n    firstName: state.user?.firstName || '',\n    lastName: state.user?.lastName || '',\n  });\n\n  const handleInputChange = (field: string, value: string) => {\n    setFormData(prev => ({ ...prev, [field]: value }));\n  };\n\n  const handleSaveProfile = async () => {\n    setLoading(true);\n    setMessage(null);\n\n    try {\n      console.log('👤 Sending profile data:', {\n        firstName: formData.firstName,\n        lastName: formData.lastName,\n      });\n      console.log('👤 Current user state:', state.user);\n\n      const response = await apiService.updateUserProfile(\n        formData.firstName,\n        formData.lastName\n      );\n      console.log('👤 Profile update response:', response);\n\n      // Aktualizuj user state s dátami z backendu\n      if (response && response.user) {\n        console.log('✅ Backend returned user data:', response.user);\n        updateUser({\n          firstName: response.user.firstName,\n          lastName: response.user.lastName,\n        });\n        console.log('✅ User state updated with backend data');\n      } else if (response && response.success) {\n        // Fallback ak response nemá user objekt ale má success\n        console.log('⚠️ Backend returned success but no user data');\n        updateUser({\n          firstName: formData.firstName,\n          lastName: formData.lastName,\n        });\n        console.log('⚠️ Using frontend data as fallback (success response)');\n      } else {\n        // Fallback na frontend data\n        console.log('⚠️ Backend returned no data');\n        updateUser({\n          firstName: formData.firstName,\n          lastName: formData.lastName,\n        });\n        console.log('⚠️ Using frontend data as fallback (no response data)');\n      }\n\n      setMessage({ type: 'success', text: '✅ Profil úspešne aktualizovaný!' });\n    } catch (error) {\n      console.error('❌ Error updating profile:', error);\n      console.error('❌ Error details:', {\n        message: error instanceof Error ? error.message : 'Unknown error',\n        stack: error instanceof Error ? error.stack : undefined,\n      });\n\n      // Fallback na frontend data aj pri chybe\n      updateUser({\n        firstName: formData.firstName,\n        lastName: formData.lastName,\n      });\n      console.log('⚠️ Using frontend data as fallback (error occurred)');\n\n      setMessage({\n        type: 'error',\n        text: '❌ Chyba pri aktualizácii profilu - dáta uložené lokálne',\n      });\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleSignatureSave = async (signatureData: any) => {\n    setLoading(true);\n    setMessage(null);\n\n    try {\n      console.log('🖊️ Sending signature data:', {\n        signatureLength: signatureData.signature?.length || 0,\n      });\n      console.log('🖊️ Current user state:', state.user);\n\n      const response = await apiService.updateSignatureTemplate(\n        signatureData.signature\n      );\n      console.log('🖊️ Signature update response:', response);\n\n      // Aktualizuj user state s dátami z backendu\n      if (response && response.user) {\n        console.log('✅ Backend returned user data:', response.user);\n        updateUser({\n          signatureTemplate: response.user.signatureTemplate,\n        });\n        console.log('✅ User state updated with backend signature data');\n      } else if (response && response.success) {\n        // Fallback ak response nemá user objekt ale má success\n        console.log('⚠️ Backend returned success but no user data');\n        updateUser({\n          signatureTemplate: signatureData.signature,\n        });\n        console.log(\n          '⚠️ Using frontend signature data as fallback (success response)'\n        );\n      } else {\n        // Fallback na frontend data\n        console.log('⚠️ Backend returned no data');\n        updateUser({\n          signatureTemplate: signatureData.signature,\n        });\n        console.log(\n          '⚠️ Using frontend signature data as fallback (no response data)'\n        );\n      }\n\n      setMessage({\n        type: 'success',\n        text: '✅ Podpis úspešne uložený ako template!',\n      });\n      setShowSignaturePad(false);\n    } catch (error) {\n      console.error('❌ Error saving signature template:', error);\n      console.error('❌ Error details:', {\n        message: error instanceof Error ? error.message : 'Unknown error',\n        stack: error instanceof Error ? error.stack : undefined,\n      });\n\n      // Fallback na frontend data aj pri chybe\n      updateUser({\n        signatureTemplate: signatureData.signature,\n      });\n      console.log(\n        '⚠️ Using frontend signature data as fallback (error occurred)'\n      );\n\n      setMessage({\n        type: 'error',\n        text: '❌ Chyba pri ukladaní podpisu - podpis uložený lokálne',\n      });\n      setShowSignaturePad(false);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  if (!open) return null;\n\n  return (\n    <Box\n      sx={{\n        position: 'fixed',\n        top: 0,\n        left: 0,\n        right: 0,\n        bottom: 0,\n        backgroundColor: 'rgba(0, 0, 0, 0.5)',\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n        zIndex: 9999,\n        p: 2,\n      }}\n    >\n      <Box\n        sx={{\n          backgroundColor: 'white',\n          borderRadius: 2,\n          maxWidth: 800,\n          width: '100%',\n          maxHeight: '90vh',\n          overflow: 'auto',\n          p: 3,\n        }}\n      >\n        <Typography variant=\"h4\" gutterBottom>\n          👤 Môj Profil\n        </Typography>\n\n        {message && (\n          <Alert severity={message.type} sx={{ mb: 3 }}>\n            {message.text}\n          </Alert>\n        )}\n\n        <Card sx={{ mb: 3 }}>\n          <CardContent>\n            <Typography variant=\"h6\" gutterBottom>\n              <Person sx={{ mr: 1, verticalAlign: 'middle' }} />\n              Osobné údaje\n            </Typography>\n\n            <Box sx={{ display: 'flex', gap: 2, mb: 3 }}>\n              <TextField\n                label=\"Meno\"\n                value={formData.firstName}\n                onChange={e => handleInputChange('firstName', e.target.value)}\n                fullWidth\n                helperText=\"Vaše meno sa použije v protokoloch\"\n              />\n              <TextField\n                label=\"Priezvisko\"\n                value={formData.lastName}\n                onChange={e => handleInputChange('lastName', e.target.value)}\n                fullWidth\n                helperText=\"Vaše priezvisko sa použije v protokoloch\"\n              />\n            </Box>\n\n            <Button\n              variant=\"contained\"\n              startIcon={<Save />}\n              onClick={handleSaveProfile}\n              disabled={loading}\n            >\n              {loading ? 'Ukladám...' : 'Uložiť profil'}\n            </Button>\n          </CardContent>\n        </Card>\n\n        <Card>\n          <CardContent>\n            <Typography variant=\"h6\" gutterBottom>\n              <Edit sx={{ mr: 1, verticalAlign: 'middle' }} />\n              Môj podpis\n            </Typography>\n\n            <Typography variant=\"body2\" color=\"text.secondary\" sx={{ mb: 2 }}>\n              Váš podpis sa automaticky použije pri vytváraní protokolov ako\n              zamestnanec.\n            </Typography>\n\n            {state.user?.signatureTemplate && (\n              <Paper sx={{ p: 2, mb: 2, textAlign: 'center' }}>\n                <Typography variant=\"body2\" color=\"text.secondary\" gutterBottom>\n                  Aktuálny podpis:\n                </Typography>\n                <img\n                  src={state.user.signatureTemplate}\n                  alt=\"Aktuálny podpis\"\n                  style={{\n                    maxWidth: '100%',\n                    maxHeight: 100,\n                    border: '1px solid #ddd',\n                    borderRadius: 4,\n                  }}\n                />\n              </Paper>\n            )}\n\n            <Button\n              variant=\"outlined\"\n              onClick={() => setShowSignaturePad(true)}\n              disabled={loading}\n            >\n              {state.user?.signatureTemplate\n                ? 'Zmeniť podpis'\n                : 'Pridať podpis'}\n            </Button>\n          </CardContent>\n        </Card>\n\n        {/* Close button */}\n        <Box sx={{ display: 'flex', justifyContent: 'flex-end', mt: 3 }}>\n          <Button variant=\"outlined\" onClick={onClose} disabled={loading}>\n            Zavrieť\n          </Button>\n        </Box>\n      </Box>\n\n      {/* SignaturePad modal */}\n      {showSignaturePad && (\n        <Box\n          sx={{\n            position: 'fixed',\n            top: 0,\n            left: 0,\n            right: 0,\n            bottom: 0,\n            backgroundColor: 'rgba(0, 0, 0, 0.5)',\n            display: 'flex',\n            alignItems: 'center',\n            justifyContent: 'center',\n            zIndex: 10000,\n            p: 2,\n          }}\n        >\n          <Box\n            sx={{\n              backgroundColor: 'white',\n              borderRadius: 2,\n              maxWidth: 600,\n              width: '100%',\n              maxHeight: '90vh',\n              overflow: 'auto',\n            }}\n          >\n            <SignaturePad\n              onSave={handleSignatureSave}\n              onCancel={() => setShowSignaturePad(false)}\n              signerName={\n                `${formData.firstName} ${formData.lastName}`.trim() ||\n                'Zamestnanec'\n              }\n              signerRole=\"employee\"\n              location=\"Kancelária\"\n            />\n          </Box>\n        </Box>\n      )}\n    </Box>\n  );\n}\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/components/vehicles/TechnicalCertificateUpload.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/components/vehicles/VehicleCardLazy.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/components/vehicles/VehicleForm.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/components/vehicles/VehicleImage.tsx",
    "messages": [
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 2,
        "message": "'RefreshIcon' is defined but never used.",
        "line": 11,
        "column": 14,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 11,
        "endColumn": 25
      },
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 2,
        "message": "'IconButton' is defined but never used.",
        "line": 13,
        "column": 27,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 13,
        "endColumn": 37
      },
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 2,
        "message": "'placeholderUrl' is assigned a value but never used.",
        "line": 61,
        "column": 9,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 61,
        "endColumn": 23
      }
    ],
    "suppressedMessages": [],
    "errorCount": 3,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "/**\n * 🚗 VEHICLE IMAGE COMPONENT\n *\n * Optimalizovaný komponent pre zobrazenie vehicle obrázkov s lazy loading\n */\n\nimport {\n  PhotoCamera as PhotoIcon,\n  DirectionsCar as CarIcon,\n  LocalShipping as TruckIcon,\n  Refresh as RefreshIcon,\n} from '@mui/icons-material';\nimport { Box, Typography, IconButton } from '@mui/material';\nimport React, { memo, useCallback, useState } from 'react';\n\nimport {\n  VehicleImageUtils,\n  ImagePerformanceMonitor,\n} from '../../utils/imageOptimization';\nimport LazyImage from '../common/LazyImage';\nimport { CompactChip } from '../ui';\n\ninterface VehicleImageProps {\n  vehicleId?: string;\n  vehicleBrand?: string;\n  vehicleModel?: string;\n  vehicleType?: 'car' | 'truck' | 'van' | 'motorcycle';\n  size: 'thumbnail' | 'card' | 'detail' | 'fullsize';\n  width?: number | string;\n  height?: number | string;\n  borderRadius?: number;\n  showBrand?: boolean;\n  showType?: boolean;\n  fallbackColor?: string;\n  onClick?: () => void;\n  className?: string;\n}\n\nconst VehicleImage: React.FC<VehicleImageProps> = ({\n  vehicleId,\n  vehicleBrand,\n  vehicleModel,\n  vehicleType = 'car',\n  size,\n  width,\n  height,\n  borderRadius = 2,\n  showBrand = false,\n  showType = false,\n  fallbackColor,\n  onClick,\n  className,\n}) => {\n  const [imageLoadTime] = useState(performance.now());\n\n  // Generate image URLs\n  const imageUrl = vehicleId\n    ? VehicleImageUtils.getVehicleImageUrl(vehicleId, size)\n    : null;\n\n  const placeholderUrl = VehicleImageUtils.getVehiclePlaceholder(\n    vehicleType,\n    fallbackColor\n  );\n  const lowQualityUrl = vehicleId\n    ? VehicleImageUtils.getVehicleImageUrl(vehicleId, 'thumbnail')\n    : null;\n\n  // Performance callbacks\n  const handleImageLoad = useCallback(() => {\n    const loadTime = performance.now() - imageLoadTime;\n    if (imageUrl) {\n      ImagePerformanceMonitor.onImageLoad(imageUrl, loadTime);\n    }\n  }, [imageUrl, imageLoadTime]);\n\n  const handleImageError = useCallback(\n    (error: React.SyntheticEvent<HTMLImageElement>) => {\n      if (imageUrl) {\n        ImagePerformanceMonitor.onImageError(imageUrl, error);\n      }\n    },\n    [imageUrl]\n  );\n\n  // Get vehicle type icon\n  const getVehicleTypeIcon = () => {\n    switch (vehicleType) {\n      case 'truck':\n        return <TruckIcon />;\n      case 'motorcycle':\n        return <CarIcon />; // Could add motorcycle icon\n      default:\n        return <CarIcon />;\n    }\n  };\n\n  // Get default dimensions based on size\n  const getDimensions = () => {\n    const sizeConfig = {\n      thumbnail: { width: 100, height: 75 },\n      card: { width: 300, height: 200 },\n      detail: { width: 600, height: 400 },\n      fullsize: { width: '100%', height: 400 },\n    };\n\n    const config = sizeConfig[size];\n    return {\n      width: width || config.width,\n      height: height || config.height,\n    };\n  };\n\n  const dimensions = getDimensions();\n\n  // Custom placeholder for vehicles\n  const vehiclePlaceholder = (\n    <Box\n      sx={{\n        width: '100%',\n        height: '100%',\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'center',\n        justifyContent: 'center',\n        gap: 1,\n        backgroundColor: fallbackColor || 'grey.100',\n        color: 'text.disabled',\n      }}\n    >\n      {getVehicleTypeIcon()}\n      <Typography variant=\"caption\" align=\"center\">\n        {vehicleBrand && vehicleModel\n          ? `${vehicleBrand} ${vehicleModel}`\n          : 'Obrázok vozidla'}\n      </Typography>\n      <PhotoIcon sx={{ fontSize: 16, opacity: 0.5 }} />\n    </Box>\n  );\n\n  return (\n    <Box\n      className={className}\n      sx={{\n        position: 'relative',\n        cursor: onClick ? 'pointer' : 'default',\n      }}\n      onClick={onClick}\n    >\n      {/* Main Image */}\n      {imageUrl ? (\n        <LazyImage\n          src={imageUrl}\n          lowQualitySrc={lowQualityUrl || undefined}\n          alt={`${vehicleBrand} ${vehicleModel}`.trim() || 'Vozidlo'}\n          width={dimensions.width}\n          height={dimensions.height}\n          borderRadius={borderRadius}\n          placeholder={vehiclePlaceholder}\n          onLoad={handleImageLoad}\n          onError={handleImageError}\n          onClick={onClick}\n          threshold={0.2} // Load slightly earlier for better UX\n          rootMargin=\"100px\" // Larger margin for vehicles\n        />\n      ) : (\n        <Box\n          sx={{\n            width: dimensions.width,\n            height: dimensions.height,\n            borderRadius,\n            overflow: 'hidden',\n            cursor: onClick ? 'pointer' : 'default',\n          }}\n          onClick={onClick}\n        >\n          {vehiclePlaceholder}\n        </Box>\n      )}\n\n      {/* Brand Badge */}\n      {showBrand && vehicleBrand && (\n        <CompactChip\n          label={vehicleBrand}\n          size=\"small\"\n          sx={{\n            position: 'absolute',\n            top: 8,\n            left: 8,\n            backgroundColor: 'rgba(0,0,0,0.7)',\n            color: 'white',\n            fontSize: '0.7rem',\n            '& .MuiChip-label': {\n              px: 1,\n            },\n          }}\n        />\n      )}\n\n      {/* Vehicle Type Badge */}\n      {showType && (\n        <Box\n          sx={{\n            position: 'absolute',\n            top: 8,\n            right: 8,\n            backgroundColor: 'rgba(255,255,255,0.9)',\n            borderRadius: 1,\n            p: 0.5,\n            display: 'flex',\n            alignItems: 'center',\n            color: 'text.secondary',\n          }}\n        >\n          {getVehicleTypeIcon()}\n        </Box>\n      )}\n    </Box>\n  );\n};\n\n// Export with memo for performance\nexport default memo(VehicleImage, (prevProps, nextProps) => {\n  // Custom comparison to prevent unnecessary re-renders\n  return (\n    prevProps.vehicleId === nextProps.vehicleId &&\n    prevProps.size === nextProps.size &&\n    prevProps.vehicleBrand === nextProps.vehicleBrand &&\n    prevProps.vehicleModel === nextProps.vehicleModel &&\n    prevProps.width === nextProps.width &&\n    prevProps.height === nextProps.height &&\n    prevProps.showBrand === nextProps.showBrand &&\n    prevProps.showType === nextProps.showType\n  );\n});\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/components/vehicles/VehicleListNew.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/components/vehicles/components/InvestorCard.tsx",
    "messages": [
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 2,
        "message": "'Tooltip' is defined but never used.",
        "line": 7,
        "column": 3,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 7,
        "endColumn": 10
      },
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 2,
        "message": "'CardContent' is defined but never used.",
        "line": 10,
        "column": 3,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 10,
        "endColumn": 14
      }
    ],
    "suppressedMessages": [],
    "errorCount": 2,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "import { Add as AddIcon, Edit as EditIcon } from '@mui/icons-material';\nimport {\n  Box,\n  Button,\n  Typography,\n  IconButton,\n  Tooltip,\n  Chip,\n  Card,\n  CardContent,\n  Collapse,\n  TextField,\n  Grid,\n} from '@mui/material';\nimport React, { useState } from 'react';\n\nimport type { InvestorCardProps } from '../../../types/vehicle-types';\nimport { getApiBaseUrl } from '../../../utils/apiUrl';\n\n// 🤝 INVESTOR CARD COMPONENT - Rozbaliteľná karta spoluinvestora s podielmi\nconst InvestorCard: React.FC<InvestorCardProps> = ({\n  investor,\n  shares,\n  companies,\n  onShareUpdate,\n  onAssignShare,\n}) => {\n  const [expanded, setExpanded] = useState(false);\n  const [editMode, setEditMode] = useState(false);\n  const [editData, setEditData] = useState({\n    firstName: investor.firstName || '',\n    lastName: investor.lastName || '',\n    email: investor.email || '',\n    phone: investor.phone || '',\n    notes: investor.notes || '',\n  });\n\n  const handleSaveInvestorData = async () => {\n    try {\n      console.log('💾 Saving investor data:', investor.id, editData);\n\n      const response = await fetch(\n        `${getApiBaseUrl()}/company-investors/${investor.id}`,\n        {\n          method: 'PUT',\n          headers: {\n            'Content-Type': 'application/json',\n            Authorization: `Bearer ${localStorage.getItem('blackrent_token')}`,\n          },\n          body: JSON.stringify(editData),\n        }\n      );\n\n      const result = await response.json();\n\n      if (result.success) {\n        console.log('✅ Investor data saved successfully');\n        setEditMode(false);\n        onShareUpdate(); // Refresh data\n      } else {\n        console.error('❌ Failed to save investor data:', result.error);\n        alert(`Chyba pri ukladaní: ${result.error}`);\n      }\n    } catch (error) {\n      console.error('❌ Error saving investor data:', error);\n      alert('Chyba pri ukladaní údajov investora');\n    }\n  };\n\n  const totalOwnership = shares.reduce(\n    (sum, share) => sum + share.ownershipPercentage,\n    0\n  );\n\n  return (\n    <Card sx={{ mb: 2, border: '1px solid', borderColor: 'divider' }}>\n      {/* Header - Investor info */}\n      <Box\n        sx={{\n          p: 2,\n          bgcolor: 'grey.50',\n          cursor: 'pointer',\n          '&:hover': { bgcolor: 'grey.100' },\n        }}\n        onClick={() => setExpanded(!expanded)}\n      >\n        <Box\n          sx={{\n            display: 'flex',\n            justifyContent: 'space-between',\n            alignItems: 'center',\n          }}\n        >\n          <Box sx={{ flex: 1 }}>\n            <Typography\n              variant=\"h6\"\n              sx={{ display: 'flex', alignItems: 'center', gap: 1 }}\n            >\n              👤 {investor.firstName} {investor.lastName}\n              <Chip\n                label={`${shares.length} firiem • ${totalOwnership.toFixed(1)}% celkom`}\n                size=\"small\"\n                color=\"primary\"\n                variant=\"outlined\"\n              />\n            </Typography>\n\n            <Box sx={{ mt: 1, display: 'flex', gap: 3, flexWrap: 'wrap' }}>\n              {investor.email && (\n                <Typography variant=\"body2\" color=\"text.secondary\">\n                  📧 {investor.email}\n                </Typography>\n              )}\n              {investor.phone && (\n                <Typography variant=\"body2\" color=\"text.secondary\">\n                  📞 {investor.phone}\n                </Typography>\n              )}\n              {shares.length > 0 && (\n                <Typography variant=\"body2\" color=\"text.secondary\">\n                  🏢{' '}\n                  {shares\n                    .map(s => {\n                      const company = companies.find(c => c.id === s.companyId);\n                      return `${company?.name} (${s.ownershipPercentage}%)`;\n                    })\n                    .join(', ')}\n                </Typography>\n              )}\n            </Box>\n          </Box>\n\n          <Box sx={{ display: 'flex', alignItems: 'center', gap: 1 }}>\n            <IconButton\n              size=\"small\"\n              onClick={e => {\n                e.stopPropagation();\n                setEditMode(!editMode);\n              }}\n              sx={{\n                bgcolor: editMode ? 'primary.main' : 'transparent',\n                color: editMode ? 'white' : 'primary.main',\n              }}\n            >\n              <EditIcon fontSize=\"small\" />\n            </IconButton>\n            <IconButton size=\"small\">{expanded ? '🔽' : '▶️'}</IconButton>\n          </Box>\n        </Box>\n      </Box>\n\n      {/* Edit Mode */}\n      <Collapse in={editMode}>\n        <Box\n          sx={{\n            p: 3,\n            bgcolor: 'background.paper',\n            borderTop: '1px solid',\n            borderColor: 'divider',\n          }}\n        >\n          <Typography variant=\"h6\" sx={{ mb: 2 }}>\n            ✏️ Úprava spoluinvestora\n          </Typography>\n\n          <Grid container spacing={2}>\n            <Grid item xs={12} md={6}>\n              <TextField\n                fullWidth\n                label=\"Meno\"\n                value={editData.firstName}\n                onChange={e =>\n                  setEditData(prev => ({ ...prev, firstName: e.target.value }))\n                }\n                size=\"small\"\n                required\n              />\n            </Grid>\n            <Grid item xs={12} md={6}>\n              <TextField\n                fullWidth\n                label=\"Priezvisko\"\n                value={editData.lastName}\n                onChange={e =>\n                  setEditData(prev => ({ ...prev, lastName: e.target.value }))\n                }\n                size=\"small\"\n                required\n              />\n            </Grid>\n            <Grid item xs={12} md={6}>\n              <TextField\n                fullWidth\n                label=\"Email\"\n                type=\"email\"\n                value={editData.email}\n                onChange={e =>\n                  setEditData(prev => ({ ...prev, email: e.target.value }))\n                }\n                size=\"small\"\n              />\n            </Grid>\n            <Grid item xs={12} md={6}>\n              <TextField\n                fullWidth\n                label=\"Telefón\"\n                value={editData.phone}\n                onChange={e =>\n                  setEditData(prev => ({ ...prev, phone: e.target.value }))\n                }\n                size=\"small\"\n              />\n            </Grid>\n            <Grid item xs={12}>\n              <TextField\n                fullWidth\n                label=\"Poznámky\"\n                value={editData.notes}\n                onChange={e =>\n                  setEditData(prev => ({ ...prev, notes: e.target.value }))\n                }\n                size=\"small\"\n                multiline\n                rows={2}\n              />\n            </Grid>\n          </Grid>\n\n          <Box\n            sx={{ mt: 2, display: 'flex', gap: 1, justifyContent: 'flex-end' }}\n          >\n            <Button\n              variant=\"outlined\"\n              onClick={() => setEditMode(false)}\n              size=\"small\"\n            >\n              Zrušiť\n            </Button>\n            <Button\n              variant=\"contained\"\n              onClick={handleSaveInvestorData}\n              size=\"small\"\n            >\n              💾 Uložiť\n            </Button>\n          </Box>\n        </Box>\n      </Collapse>\n\n      {/* Podiely vo firmách - Rozbaliteľné */}\n      <Collapse in={expanded}>\n        <Box sx={{ p: 2, borderTop: '1px solid', borderColor: 'divider' }}>\n          <Typography\n            variant=\"subtitle1\"\n            sx={{ mb: 2, display: 'flex', alignItems: 'center', gap: 1 }}\n          >\n            💼 Podiely vo firmách ({shares.length})\n          </Typography>\n\n          {shares.length > 0 ? (\n            shares.map(share => {\n              const company = companies.find(c => c.id === share.companyId);\n              return (\n                <Box\n                  key={share.id}\n                  sx={{\n                    display: 'flex',\n                    justifyContent: 'space-between',\n                    alignItems: 'center',\n                    p: 2,\n                    mb: 1,\n                    border: '1px solid',\n                    borderColor: 'divider',\n                    borderRadius: 1,\n                    bgcolor: 'background.paper',\n                    '&:hover': {\n                      bgcolor: 'action.hover',\n                    },\n                  }}\n                >\n                  <Box sx={{ flex: 1 }}>\n                    <Typography variant=\"subtitle2\">\n                      🏢 {company?.name || 'Neznáma firma'}\n                    </Typography>\n                    <Typography variant=\"body2\" color=\"text.secondary\">\n                      💰 Podiel: {share.ownershipPercentage}%\n                      {share.investmentAmount &&\n                        ` • Investícia: ${share.investmentAmount}€`}\n                      {share.isPrimaryContact && ' • Primárny kontakt'}\n                    </Typography>\n                  </Box>\n\n                  <Box sx={{ display: 'flex', alignItems: 'center', gap: 1 }}>\n                    <Chip\n                      label={`${share.ownershipPercentage}%`}\n                      color=\"primary\"\n                      size=\"small\"\n                      variant={share.isPrimaryContact ? 'filled' : 'outlined'}\n                    />\n                  </Box>\n                </Box>\n              );\n            })\n          ) : (\n            <Typography\n              variant=\"body2\"\n              color=\"text.secondary\"\n              sx={{ textAlign: 'center', py: 2 }}\n            >\n              Žiadne podiely vo firmách. Investor nie je priradený k žiadnej\n              firme.\n            </Typography>\n          )}\n\n          {/* Tlačidlo pre pridanie nového podielu */}\n          <Box sx={{ mt: 2, textAlign: 'center' }}>\n            <Button\n              variant=\"outlined\"\n              size=\"small\"\n              startIcon={<AddIcon />}\n              onClick={() => onAssignShare(investor)}\n            >\n              🏢 Priradiť k firme\n            </Button>\n          </Box>\n        </Box>\n      </Collapse>\n    </Card>\n  );\n};\n\nexport default InvestorCard;\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/components/vehicles/components/OwnerCard.tsx",
    "messages": [
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 2,
        "message": "'Tooltip' is defined but never used.",
        "line": 10,
        "column": 3,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 10,
        "endColumn": 10
      },
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 2,
        "message": "'CardContent' is defined but never used.",
        "line": 13,
        "column": 3,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 13,
        "endColumn": 14
      },
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 2,
        "message": "'Vehicle' is defined but never used.",
        "line": 20,
        "column": 10,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 20,
        "endColumn": 17
      },
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 2,
        "message": "'VehicleStatus' is defined but never used.",
        "line": 20,
        "column": 19,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 20,
        "endColumn": 32
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 40,
        "column": 60,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 40,
        "endColumn": 63,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [1104, 1107], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [1104, 1107], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "react-hooks/exhaustive-deps",
        "severity": 2,
        "message": "React Hook useEffect has a missing dependency: 'loadCompanyInvestors'. Either include it or remove the dependency array.",
        "line": 98,
        "column": 6,
        "nodeType": "ArrayExpression",
        "endLine": 98,
        "endColumn": 16,
        "suggestions": [
          {
            "desc": "Update the dependencies array to be: [expanded, loadCompanyInvestors]",
            "fix": {
              "range": [2897, 2907],
              "text": "[expanded, loadCompanyInvestors]"
            }
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 6,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "import {\n  Edit as EditIcon,\n  Business as BusinessIcon,\n} from '@mui/icons-material';\nimport {\n  Box,\n  Button,\n  Typography,\n  IconButton,\n  Tooltip,\n  Chip,\n  Card,\n  CardContent,\n  Collapse,\n  TextField,\n  Grid,\n} from '@mui/material';\nimport React, { useState, useEffect } from 'react';\n\nimport { Vehicle, VehicleStatus } from '../../../types';\nimport type { OwnerCardProps } from '../../../types/vehicle-types';\nimport { getApiBaseUrl } from '../../../utils/apiUrl';\nimport {\n  getStatusColor,\n  getStatusText,\n} from '../../../utils/vehicles/vehicleHelpers';\nimport { EnhancedLoading } from '../../common/EnhancedLoading';\nimport { Can } from '../../common/PermissionGuard';\nimport CompanyDocumentManager from '../../companies/CompanyDocumentManager';\n\n// 🆕 OWNER CARD COMPONENT - Rozbaliteľná karta majiteľa s vozidlami\nconst OwnerCard: React.FC<OwnerCardProps> = ({\n  company,\n  vehicles,\n  onVehicleUpdate,\n  onVehicleEdit,\n}) => {\n  const [expanded, setExpanded] = useState(false);\n  const [editMode, setEditMode] = useState(false);\n  const [companyInvestors, setCompanyInvestors] = useState<any[]>([]);\n  const [loadingInvestors, setLoadingInvestors] = useState(false);\n  const [editData, setEditData] = useState({\n    name: company.name || '',\n    ownerName: company.ownerName || '',\n    personalIban: company.personalIban || '',\n    businessIban: company.businessIban || '',\n    contactEmail: company.contactEmail || '',\n    contactPhone: company.contactPhone || '',\n    defaultCommissionRate: company.defaultCommissionRate || 20,\n    protocolDisplayName: company.protocolDisplayName || '',\n  });\n\n  // 🔄 Aktualizuj editData keď sa company data zmenia\n  useEffect(() => {\n    setEditData({\n      name: company.name || '',\n      ownerName: company.ownerName || '',\n      personalIban: company.personalIban || '',\n      businessIban: company.businessIban || '',\n      contactEmail: company.contactEmail || '',\n      contactPhone: company.contactPhone || '',\n      defaultCommissionRate: company.defaultCommissionRate || 20,\n      protocolDisplayName: company.protocolDisplayName || '',\n    });\n  }, [company]);\n\n  // 🤝 Načítanie investorov firmy\n  const loadCompanyInvestors = async () => {\n    try {\n      setLoadingInvestors(true);\n\n      const response = await fetch(\n        `${getApiBaseUrl()}/company-investors/${company.id}/shares`,\n        {\n          headers: {\n            Authorization: `Bearer ${localStorage.getItem('blackrent_token')}`,\n          },\n        }\n      );\n\n      const result = await response.json();\n\n      if (result.success) {\n        setCompanyInvestors(result.data);\n      }\n    } catch (error) {\n      console.error('❌ Error loading company investors:', error);\n    } finally {\n      setLoadingInvestors(false);\n    }\n  };\n\n  // Načítaj investorov pri rozbalení karty\n  useEffect(() => {\n    if (expanded) {\n      loadCompanyInvestors();\n    }\n  }, [expanded]);\n\n  const handleSaveOwnerData = async () => {\n    try {\n      console.log('💾 Saving owner data for company:', company.id, editData);\n\n      const response = await fetch(\n        `${getApiBaseUrl()}/companies/${company.id}`,\n        {\n          method: 'PUT',\n          headers: {\n            'Content-Type': 'application/json',\n            Authorization: `Bearer ${localStorage.getItem('blackrent_token')}`,\n          },\n          body: JSON.stringify(editData),\n        }\n      );\n\n      const result = await response.json();\n\n      if (result.success) {\n        console.log('✅ Owner data saved successfully');\n        setEditMode(false);\n        // Refresh companies data cez callback\n        if (onVehicleUpdate) {\n          await onVehicleUpdate('', company.id); // Refresh company data\n        }\n      } else {\n        console.error('❌ Failed to save owner data:', result.error);\n        alert(`Chyba pri ukladaní: ${result.error}`);\n      }\n    } catch (error) {\n      console.error('❌ Error saving owner data:', error);\n      alert('Chyba pri ukladaní údajov majiteľa');\n    }\n  };\n\n  return (\n    <Card sx={{ mb: 2, border: '1px solid', borderColor: 'divider' }}>\n      {/* Header - Majiteľ info */}\n      <Box\n        sx={{\n          p: 2,\n          bgcolor: 'grey.50',\n          cursor: 'pointer',\n          '&:hover': { bgcolor: 'grey.100' },\n        }}\n        onClick={() => setExpanded(!expanded)}\n      >\n        <Box\n          sx={{\n            display: 'flex',\n            justifyContent: 'space-between',\n            alignItems: 'center',\n          }}\n        >\n          <Box sx={{ flex: 1 }}>\n            <Typography\n              variant=\"h6\"\n              sx={{ display: 'flex', alignItems: 'center', gap: 1 }}\n            >\n              <BusinessIcon color=\"primary\" />\n              {company.name}\n              <Chip\n                label={`${vehicles.length} vozidiel`}\n                size=\"small\"\n                color=\"primary\"\n                variant=\"outlined\"\n              />\n            </Typography>\n\n            {/* Základné info o majiteľovi */}\n            <Box sx={{ mt: 1, display: 'flex', gap: 3, flexWrap: 'wrap' }}>\n              {company.ownerName && (\n                <Typography variant=\"body2\" color=\"text.secondary\">\n                  👤 {company.ownerName}\n                </Typography>\n              )}\n              {company.contactEmail && (\n                <Typography variant=\"body2\" color=\"text.secondary\">\n                  📧 {company.contactEmail}\n                </Typography>\n              )}\n              {company.contactPhone && (\n                <Typography variant=\"body2\" color=\"text.secondary\">\n                  📞 {company.contactPhone}\n                </Typography>\n              )}\n              <Typography variant=\"body2\" color=\"text.secondary\">\n                💰 Provízia: {company.defaultCommissionRate || 20}%\n              </Typography>\n              {company.protocolDisplayName && (\n                <Typography\n                  variant=\"body2\"\n                  sx={{ color: 'warning.main', fontWeight: 'medium' }}\n                >\n                  📄 Fakturačná firma: {company.protocolDisplayName}\n                </Typography>\n              )}\n            </Box>\n          </Box>\n\n          <Box sx={{ display: 'flex', alignItems: 'center', gap: 1 }}>\n            <IconButton\n              size=\"small\"\n              onClick={e => {\n                e.stopPropagation();\n                setEditMode(!editMode);\n              }}\n              sx={{\n                bgcolor: editMode ? 'primary.main' : 'transparent',\n                color: editMode ? 'white' : 'primary.main',\n              }}\n            >\n              <EditIcon fontSize=\"small\" />\n            </IconButton>\n            <IconButton size=\"small\">{expanded ? '🔽' : '▶️'}</IconButton>\n          </Box>\n        </Box>\n      </Box>\n\n      {/* Edit Mode - Rozšírené informácie */}\n      <Collapse in={editMode}>\n        <Box\n          sx={{\n            p: 3,\n            bgcolor: 'background.paper',\n            borderTop: '1px solid',\n            borderColor: 'divider',\n          }}\n        >\n          <Typography variant=\"h6\" sx={{ mb: 2 }}>\n            ✏️ Úprava informácií majiteľa\n          </Typography>\n\n          <Grid container spacing={2}>\n            <Grid item xs={12}>\n              <TextField\n                fullWidth\n                label=\"Názov firmy/s.r.o.\"\n                value={editData.name}\n                onChange={e =>\n                  setEditData(prev => ({ ...prev, name: e.target.value }))\n                }\n                size=\"small\"\n                required\n                sx={{ bgcolor: 'primary.50' }}\n              />\n            </Grid>\n            <Grid item xs={12} md={6}>\n              <TextField\n                fullWidth\n                label=\"Meno a priezvisko majiteľa\"\n                value={editData.ownerName}\n                onChange={e =>\n                  setEditData(prev => ({ ...prev, ownerName: e.target.value }))\n                }\n                size=\"small\"\n              />\n            </Grid>\n            <Grid item xs={12} md={6}>\n              <TextField\n                fullWidth\n                label=\"Kontaktný email\"\n                type=\"email\"\n                value={editData.contactEmail}\n                onChange={e =>\n                  setEditData(prev => ({\n                    ...prev,\n                    contactEmail: e.target.value,\n                  }))\n                }\n                size=\"small\"\n              />\n            </Grid>\n            <Grid item xs={12} md={6}>\n              <TextField\n                fullWidth\n                label=\"Kontaktný telefón\"\n                value={editData.contactPhone}\n                onChange={e =>\n                  setEditData(prev => ({\n                    ...prev,\n                    contactPhone: e.target.value,\n                  }))\n                }\n                size=\"small\"\n              />\n            </Grid>\n            <Grid item xs={12} md={6}>\n              <TextField\n                fullWidth\n                label=\"Default provízia (%)\"\n                type=\"number\"\n                value={editData.defaultCommissionRate}\n                onChange={e =>\n                  setEditData(prev => ({\n                    ...prev,\n                    defaultCommissionRate: parseFloat(e.target.value) || 20,\n                  }))\n                }\n                size=\"small\"\n                inputProps={{ min: 0, max: 100, step: 0.1 }}\n              />\n            </Grid>\n            <Grid item xs={12} md={6}>\n              <TextField\n                fullWidth\n                label=\"Súkromný IBAN\"\n                value={editData.personalIban}\n                onChange={e =>\n                  setEditData(prev => ({\n                    ...prev,\n                    personalIban: e.target.value,\n                  }))\n                }\n                size=\"small\"\n                placeholder=\"SK89 0000 0000 0000 0000 0000\"\n              />\n            </Grid>\n            <Grid item xs={12} md={6}>\n              <TextField\n                fullWidth\n                label=\"Firemný IBAN\"\n                value={editData.businessIban}\n                onChange={e =>\n                  setEditData(prev => ({\n                    ...prev,\n                    businessIban: e.target.value,\n                  }))\n                }\n                size=\"small\"\n                placeholder=\"SK89 0000 0000 0000 0000 0000\"\n              />\n            </Grid>\n            <Grid item xs={12}>\n              <TextField\n                fullWidth\n                label=\"Fakturačná firma (pre protokoly)\"\n                value={editData.protocolDisplayName}\n                onChange={e =>\n                  setEditData(prev => ({\n                    ...prev,\n                    protocolDisplayName: e.target.value,\n                  }))\n                }\n                size=\"small\"\n                placeholder=\"Napr. P2 invest s.r.o.\"\n                helperText=\"Názov firmy ktorý sa zobrazí na protokoloch namiesto interného názvu\"\n                sx={{ bgcolor: 'warning.50' }}\n              />\n            </Grid>\n          </Grid>\n\n          <Box\n            sx={{ mt: 2, display: 'flex', gap: 1, justifyContent: 'flex-end' }}\n          >\n            <Button\n              variant=\"outlined\"\n              onClick={() => setEditMode(false)}\n              size=\"small\"\n            >\n              Zrušiť\n            </Button>\n            <Button\n              variant=\"contained\"\n              onClick={handleSaveOwnerData}\n              size=\"small\"\n            >\n              💾 Uložiť\n            </Button>\n          </Box>\n        </Box>\n      </Collapse>\n\n      {/* Vozidlá majiteľa - Rozbaliteľné */}\n      <Collapse in={expanded}>\n        <Box sx={{ p: 2, borderTop: '1px solid', borderColor: 'divider' }}>\n          <Typography\n            variant=\"subtitle1\"\n            sx={{ mb: 2, display: 'flex', alignItems: 'center', gap: 1 }}\n          >\n            🚗 Vozidlá majiteľa ({vehicles.length})\n          </Typography>\n\n          {vehicles.map(vehicle => (\n            <Box\n              key={vehicle.id}\n              sx={{\n                display: 'flex',\n                justifyContent: 'space-between',\n                alignItems: 'center',\n                p: 2,\n                mb: 1,\n                border: '1px solid',\n                borderColor: 'divider',\n                borderRadius: 1,\n                bgcolor: 'background.paper',\n                '&:hover': {\n                  bgcolor: 'action.hover',\n                },\n              }}\n            >\n              <Box sx={{ flex: 1 }}>\n                <Typography variant=\"subtitle2\">\n                  {vehicle.brand} {vehicle.model}\n                </Typography>\n                <Typography variant=\"body2\" color=\"text.secondary\">\n                  ŠPZ: {vehicle.licensePlate}\n                  {vehicle.year && ` • Rok: ${vehicle.year}`}\n                </Typography>\n\n                {/* Individuálna provízia vozidla */}\n                <Typography variant=\"caption\" color=\"text.secondary\">\n                  Provízia:{' '}\n                  {vehicle.commission?.value ||\n                    company.defaultCommissionRate ||\n                    20}\n                  %\n                  {vehicle.commission?.value !==\n                    company.defaultCommissionRate && (\n                    <Chip\n                      label=\"Vlastná\"\n                      size=\"small\"\n                      sx={{ ml: 1, height: 16 }}\n                    />\n                  )}\n                </Typography>\n              </Box>\n\n              <Box sx={{ display: 'flex', alignItems: 'center', gap: 1 }}>\n                <Chip\n                  label={getStatusText(vehicle.status)}\n                  color={getStatusColor(vehicle.status)}\n                  size=\"small\"\n                />\n\n                {/* Quick actions */}\n                <Can\n                  update=\"vehicles\"\n                  context={{\n                    resourceOwnerId: vehicle.assignedMechanicId,\n                    resourceCompanyId: vehicle.ownerCompanyId,\n                  }}\n                >\n                  <IconButton\n                    size=\"small\"\n                    onClick={e => {\n                      e.stopPropagation();\n                      onVehicleEdit(vehicle);\n                    }}\n                    sx={{\n                      bgcolor: '#2196f3',\n                      color: 'white',\n                      width: 28,\n                      height: 28,\n                      '&:hover': { bgcolor: '#1976d2' },\n                    }}\n                  >\n                    <EditIcon fontSize=\"small\" />\n                  </IconButton>\n                </Can>\n              </Box>\n            </Box>\n          ))}\n\n          {/* Spoluinvestori firmy */}\n          <Box\n            sx={{\n              mt: 3,\n              pt: 2,\n              borderTop: '1px solid',\n              borderColor: 'divider',\n            }}\n          >\n            <Typography\n              variant=\"subtitle1\"\n              sx={{ mb: 2, display: 'flex', alignItems: 'center', gap: 1 }}\n            >\n              🤝 Spoluinvestori firmy\n            </Typography>\n\n            {loadingInvestors ? (\n              <Box sx={{ display: 'flex', justifyContent: 'center', py: 2 }}>\n                <EnhancedLoading\n                  variant=\"page\"\n                  showMessage={true}\n                  message=\"Načítavam investorov...\"\n                />\n              </Box>\n            ) : companyInvestors.length > 0 ? (\n              companyInvestors.map(share => (\n                <Box\n                  key={share.id}\n                  sx={{\n                    display: 'flex',\n                    justifyContent: 'space-between',\n                    alignItems: 'center',\n                    p: 2,\n                    mb: 1,\n                    border: '1px solid',\n                    borderColor: 'divider',\n                    borderRadius: 1,\n                    bgcolor: 'primary.50',\n                    '&:hover': {\n                      bgcolor: 'primary.100',\n                    },\n                  }}\n                >\n                  <Box sx={{ flex: 1 }}>\n                    <Typography variant=\"subtitle2\">\n                      👤 {share.investor?.firstName} {share.investor?.lastName}\n                      {share.isPrimaryContact && (\n                        <Chip\n                          label=\"Primárny kontakt\"\n                          size=\"small\"\n                          color=\"primary\"\n                          sx={{ ml: 1 }}\n                        />\n                      )}\n                    </Typography>\n                    <Typography variant=\"body2\" color=\"text.secondary\">\n                      {share.investor?.email && `📧 ${share.investor.email}`}\n                      {share.investor?.phone && ` • 📞 ${share.investor.phone}`}\n                    </Typography>\n                    {share.investmentAmount && (\n                      <Typography variant=\"caption\" color=\"text.secondary\">\n                        💰 Investícia: {share.investmentAmount}€\n                      </Typography>\n                    )}\n                  </Box>\n\n                  <Box sx={{ display: 'flex', alignItems: 'center', gap: 1 }}>\n                    <Chip\n                      label={`${share.ownershipPercentage}%`}\n                      color=\"primary\"\n                      size=\"small\"\n                      variant={share.isPrimaryContact ? 'filled' : 'outlined'}\n                    />\n                  </Box>\n                </Box>\n              ))\n            ) : (\n              <Typography\n                variant=\"body2\"\n                color=\"text.secondary\"\n                sx={{ textAlign: 'center', py: 2 }}\n              >\n                Žiadni spoluinvestori pre túto firmu.\n              </Typography>\n            )}\n          </Box>\n\n          {/* 📄 NOVÉ: Dokumenty majiteľa */}\n          <CompanyDocumentManager\n            companyId={company.id}\n            companyName={company.name}\n          />\n        </Box>\n      </Collapse>\n    </Card>\n  );\n};\n\nexport default OwnerCard;\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/components/vehicles/components/VehicleActions.tsx",
    "messages": [
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 2,
        "message": "'Typography' is defined but never used.",
        "line": 2,
        "column": 23,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 2,
        "endColumn": 33
      }
    ],
    "suppressedMessages": [],
    "errorCount": 1,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "import { Add as AddIcon } from '@mui/icons-material';\nimport { Box, Button, Typography } from '@mui/material';\nimport React from 'react';\n\nimport { Can } from '../../common/PermissionGuard';\n\ninterface VehicleActionsProps {\n  loading: boolean;\n  isMobile: boolean;\n  onAddVehicle: () => void;\n  onCreateCompany: () => void;\n  onCreateInvestor: () => void;\n}\n\nconst VehicleActions: React.FC<VehicleActionsProps> = ({\n  loading,\n  isMobile,\n  onAddVehicle,\n  onCreateCompany,\n  onCreateInvestor,\n}) => {\n  return (\n    <Box\n      sx={{\n        display: 'flex',\n        flexDirection: isMobile ? 'column' : 'row',\n        gap: 2,\n        alignItems: isMobile ? 'stretch' : 'center',\n        mb: 3,\n      }}\n    >\n      {/* Add Vehicle Button */}\n      <Can create=\"vehicles\">\n        <Button\n          variant=\"contained\"\n          startIcon={<AddIcon />}\n          onClick={onAddVehicle}\n          disabled={loading}\n          sx={{\n            bgcolor: '#1976d2',\n            '&:hover': { bgcolor: '#1565c0' },\n            borderRadius: 2,\n            px: 3,\n            py: 1,\n          }}\n        >\n          Nové vozidlo\n        </Button>\n      </Can>\n\n      {/* Create Company Button */}\n      <Button\n        variant=\"outlined\"\n        startIcon={<AddIcon />}\n        onClick={onCreateCompany}\n        disabled={loading}\n        sx={{\n          borderColor: '#2196f3',\n          color: '#2196f3',\n          '&:hover': {\n            borderColor: '#1976d2',\n            color: '#1976d2',\n            bgcolor: 'rgba(33, 150, 243, 0.04)',\n          },\n          borderRadius: 2,\n          px: 3,\n        }}\n      >\n        🏢 Pridať firmu\n      </Button>\n\n      {/* Create Investor Button */}\n      <Button\n        variant=\"outlined\"\n        startIcon={<AddIcon />}\n        onClick={onCreateInvestor}\n        disabled={loading}\n        sx={{\n          borderColor: '#2196f3',\n          color: '#2196f3',\n          '&:hover': {\n            borderColor: '#1976d2',\n            color: '#1976d2',\n            bgcolor: 'rgba(33, 150, 243, 0.04)',\n          },\n          borderRadius: 2,\n          px: 3,\n        }}\n      >\n        👤 Pridať spoluinvestora\n      </Button>\n    </Box>\n  );\n};\n\nexport default VehicleActions;\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/components/vehicles/components/VehicleDialogs.tsx",
    "messages": [
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 35,
        "column": 21,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 35,
        "endColumn": 24,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [782, 785], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [782, 785], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 68,
        "column": 29,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 68,
        "endColumn": 32,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [1664, 1667], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [1664, 1667], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 75,
        "column": 14,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 75,
        "endColumn": 17,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [1822, 1825], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [1822, 1825], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 78,
        "column": 45,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 78,
        "endColumn": 48,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [1945, 1948], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [1945, 1948], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 4,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "import { Add as AddIcon } from '@mui/icons-material';\nimport {\n  Dialog,\n  DialogTitle,\n  DialogContent,\n  DialogActions,\n  Button,\n  TextField,\n  Typography,\n  Grid,\n  FormControl,\n  InputLabel,\n  Select,\n  MenuItem,\n  useMediaQuery,\n  useTheme,\n} from '@mui/material';\nimport { format } from 'date-fns';\nimport { sk } from 'date-fns/locale';\nimport React from 'react';\n\nimport type { Vehicle } from '../../../types';\nimport VehicleForm from '../VehicleForm';\n\ninterface VehicleDialogsProps {\n  // Vehicle Form Dialog\n  openDialog: boolean;\n  editingVehicle: Vehicle | null;\n  onCloseDialog: () => void;\n  onSubmit: (vehicle: Vehicle) => Promise<void>;\n\n  // Ownership History Dialog\n  ownershipHistoryDialog: boolean;\n  selectedVehicleHistory: Vehicle | null;\n  ownershipHistory: any[];\n  onCloseOwnershipHistory: () => void;\n\n  // Create Company Dialog\n  createCompanyDialogOpen: boolean;\n  newCompanyData: {\n    name: string;\n    ownerName: string;\n    personalIban: string;\n    businessIban: string;\n    contactEmail: string;\n    contactPhone: string;\n    defaultCommissionRate: number;\n    isActive: boolean;\n  };\n  onCloseCreateCompany: () => void;\n  onCreateCompany: () => Promise<void>;\n  onCompanyDataChange: (field: string, value: string) => void;\n\n  // Create Investor Dialog\n  createInvestorDialogOpen: boolean;\n  newInvestorData: {\n    firstName: string;\n    lastName: string;\n    email: string;\n    phone: string;\n  };\n  onCloseCreateInvestor: () => void;\n  onCreateInvestor: () => Promise<void>;\n  onInvestorDataChange: (field: string, value: string) => void;\n\n  // Assign Share Dialog\n  assignShareDialogOpen: boolean;\n  selectedInvestorForShare: any;\n  newShareData: {\n    companyId: string;\n    ownershipPercentage: number;\n    investmentAmount: number;\n    isPrimaryContact: boolean;\n  };\n  companies: any[];\n  onCloseAssignShare: () => void;\n  onAssignShare: () => Promise<void>;\n  onShareDataChange: (field: string, value: any) => void;\n}\n\nconst VehicleDialogs: React.FC<VehicleDialogsProps> = ({\n  // Vehicle Form Dialog\n  openDialog,\n  editingVehicle,\n  onCloseDialog,\n  onSubmit,\n\n  // Ownership History Dialog\n  ownershipHistoryDialog,\n  selectedVehicleHistory,\n  ownershipHistory,\n  onCloseOwnershipHistory,\n\n  // Create Company Dialog\n  createCompanyDialogOpen,\n  newCompanyData,\n  onCloseCreateCompany,\n  onCreateCompany,\n  onCompanyDataChange,\n\n  // Create Investor Dialog\n  createInvestorDialogOpen,\n  newInvestorData,\n  onCloseCreateInvestor,\n  onCreateInvestor,\n  onInvestorDataChange,\n\n  // Assign Share Dialog\n  assignShareDialogOpen,\n  selectedInvestorForShare,\n  newShareData,\n  companies,\n  onCloseAssignShare,\n  onAssignShare,\n  onShareDataChange,\n}) => {\n  const theme = useTheme();\n  const isMobile = useMediaQuery(theme.breakpoints.down('md'));\n\n  return (\n    <>\n      {/* Vehicle Form Dialog */}\n      <Dialog\n        open={openDialog}\n        onClose={onCloseDialog}\n        maxWidth=\"md\"\n        fullWidth\n        fullScreen={isMobile}\n      >\n        <DialogTitle>\n          {editingVehicle ? 'Upraviť vozidlo' : 'Nové vozidlo'}\n        </DialogTitle>\n        <DialogContent>\n          <VehicleForm\n            vehicle={editingVehicle}\n            onSave={onSubmit}\n            onCancel={onCloseDialog}\n          />\n        </DialogContent>\n      </Dialog>\n\n      {/* Ownership History Dialog */}\n      <Dialog\n        open={ownershipHistoryDialog}\n        onClose={onCloseOwnershipHistory}\n        maxWidth=\"md\"\n        fullWidth\n      >\n        <DialogTitle>\n          História transferov vlastníctva\n          {selectedVehicleHistory && (\n            <Typography variant=\"subtitle2\" color=\"text.secondary\">\n              {selectedVehicleHistory.brand} {selectedVehicleHistory.model} -{' '}\n              {selectedVehicleHistory.licensePlate}\n            </Typography>\n          )}\n        </DialogTitle>\n        <DialogContent>\n          {ownershipHistory.length === 0 ? (\n            <Typography>Žiadna história transferov</Typography>\n          ) : (\n            ownershipHistory.map((transfer, index) => (\n              <div\n                key={index}\n                style={{\n                  marginBottom: '16px',\n                  padding: '16px',\n                  border: '1px solid #e0e0e0',\n                  borderRadius: '8px',\n                }}\n              >\n                <Typography variant=\"subtitle2\">\n                  Transfer #{index + 1}\n                </Typography>\n                <Typography variant=\"body2\">\n                  <strong>Z:</strong> {transfer.fromCompany || 'N/A'}\n                </Typography>\n                <Typography variant=\"body2\">\n                  <strong>Na:</strong> {transfer.toCompany || 'N/A'}\n                </Typography>\n                <Typography variant=\"body2\">\n                  <strong>Dátum:</strong>{' '}\n                  {transfer.transferDate\n                    ? format(\n                        new Date(transfer.transferDate),\n                        'dd.MM.yyyy HH:mm',\n                        { locale: sk }\n                      )\n                    : 'N/A'}\n                </Typography>\n                <Typography variant=\"body2\">\n                  <strong>Poznámka:</strong>{' '}\n                  {transfer.notes || 'Žiadna poznámka'}\n                </Typography>\n              </div>\n            ))\n          )}\n        </DialogContent>\n      </Dialog>\n\n      {/* Create Company Dialog */}\n      <Dialog\n        open={createCompanyDialogOpen}\n        onClose={onCloseCreateCompany}\n        maxWidth=\"md\"\n        fullWidth\n      >\n        <DialogTitle>🏢 Pridať novú firmu</DialogTitle>\n        <DialogContent>\n          <Grid container spacing={2} sx={{ mt: 1 }}>\n            <Grid item xs={12}>\n              <TextField\n                fullWidth\n                label=\"Názov firmy\"\n                value={newCompanyData.name}\n                onChange={e => onCompanyDataChange('name', e.target.value)}\n                required\n              />\n            </Grid>\n            <Grid item xs={12} md={6}>\n              <TextField\n                fullWidth\n                label=\"Meno majiteľa\"\n                value={newCompanyData.ownerName}\n                onChange={e => onCompanyDataChange('ownerName', e.target.value)}\n              />\n            </Grid>\n            <Grid item xs={12} md={6}>\n              <TextField\n                fullWidth\n                label=\"Email\"\n                type=\"email\"\n                value={newCompanyData.contactEmail}\n                onChange={e =>\n                  onCompanyDataChange('contactEmail', e.target.value)\n                }\n              />\n            </Grid>\n            <Grid item xs={12} md={6}>\n              <TextField\n                fullWidth\n                label=\"Telefón\"\n                value={newCompanyData.contactPhone}\n                onChange={e =>\n                  onCompanyDataChange('contactPhone', e.target.value)\n                }\n              />\n            </Grid>\n            <Grid item xs={12} md={6}>\n              <TextField\n                fullWidth\n                label=\"Osobný IBAN\"\n                value={newCompanyData.personalIban}\n                onChange={e =>\n                  onCompanyDataChange('personalIban', e.target.value)\n                }\n              />\n            </Grid>\n            <Grid item xs={12} md={6}>\n              <TextField\n                fullWidth\n                label=\"Firemný IBAN\"\n                value={newCompanyData.businessIban}\n                onChange={e =>\n                  onCompanyDataChange('businessIban', e.target.value)\n                }\n              />\n            </Grid>\n            <Grid item xs={12}>\n              <TextField\n                fullWidth\n                label=\"Provízia (%)\"\n                type=\"number\"\n                value={newCompanyData.defaultCommissionRate}\n                onChange={e =>\n                  onCompanyDataChange('defaultCommissionRate', e.target.value)\n                }\n                inputProps={{ min: 0, max: 100, step: 0.1 }}\n              />\n            </Grid>\n          </Grid>\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={onCloseCreateCompany}>Zrušiť</Button>\n          <Button\n            variant=\"contained\"\n            onClick={onCreateCompany}\n            disabled={!newCompanyData.name.trim()}\n            startIcon={<AddIcon />}\n          >\n            Vytvoriť firmu\n          </Button>\n        </DialogActions>\n      </Dialog>\n\n      {/* Create Investor Dialog */}\n      <Dialog\n        open={createInvestorDialogOpen}\n        onClose={onCloseCreateInvestor}\n        maxWidth=\"md\"\n        fullWidth\n      >\n        <DialogTitle>👤 Pridať spoluinvestora</DialogTitle>\n        <DialogContent>\n          <Grid container spacing={2} sx={{ mt: 1 }}>\n            <Grid item xs={12} md={6}>\n              <TextField\n                fullWidth\n                label=\"Krstné meno\"\n                value={newInvestorData.firstName}\n                onChange={e =>\n                  onInvestorDataChange('firstName', e.target.value)\n                }\n                required\n              />\n            </Grid>\n            <Grid item xs={12} md={6}>\n              <TextField\n                fullWidth\n                label=\"Priezvisko\"\n                value={newInvestorData.lastName}\n                onChange={e => onInvestorDataChange('lastName', e.target.value)}\n                required\n              />\n            </Grid>\n            <Grid item xs={12} md={6}>\n              <TextField\n                fullWidth\n                label=\"Email\"\n                type=\"email\"\n                value={newInvestorData.email}\n                onChange={e => onInvestorDataChange('email', e.target.value)}\n              />\n            </Grid>\n            <Grid item xs={12} md={6}>\n              <TextField\n                fullWidth\n                label=\"Telefón\"\n                value={newInvestorData.phone}\n                onChange={e => onInvestorDataChange('phone', e.target.value)}\n              />\n            </Grid>\n          </Grid>\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={onCloseCreateInvestor}>Zrušiť</Button>\n          <Button\n            variant=\"contained\"\n            onClick={onCreateInvestor}\n            disabled={\n              !newInvestorData.firstName.trim() ||\n              !newInvestorData.lastName.trim()\n            }\n            startIcon={<AddIcon />}\n          >\n            Vytvoriť spoluinvestora\n          </Button>\n        </DialogActions>\n      </Dialog>\n\n      {/* Assign Share Dialog */}\n      <Dialog\n        open={assignShareDialogOpen}\n        onClose={onCloseAssignShare}\n        maxWidth=\"sm\"\n        fullWidth\n      >\n        <DialogTitle>\n          🏢 Priradiť podiel k firme\n          {selectedInvestorForShare && (\n            <Typography variant=\"subtitle2\" color=\"text.secondary\">\n              {selectedInvestorForShare.firstName}{' '}\n              {selectedInvestorForShare.lastName}\n            </Typography>\n          )}\n        </DialogTitle>\n        <DialogContent>\n          <Grid container spacing={2} sx={{ mt: 1 }}>\n            <Grid item xs={12}>\n              <FormControl fullWidth required>\n                <InputLabel>Firma</InputLabel>\n                <Select\n                  value={newShareData.companyId}\n                  label=\"Firma\"\n                  onChange={e => onShareDataChange('companyId', e.target.value)}\n                >\n                  {companies\n                    ?.filter(c => c.isActive !== false)\n                    .map(company => (\n                      <MenuItem key={company.id} value={company.id}>\n                        {company.name}\n                      </MenuItem>\n                    ))}\n                </Select>\n              </FormControl>\n            </Grid>\n            <Grid item xs={12} md={6}>\n              <TextField\n                fullWidth\n                label=\"Podiel vlastníctva (%)\"\n                type=\"number\"\n                value={newShareData.ownershipPercentage}\n                onChange={e =>\n                  onShareDataChange(\n                    'ownershipPercentage',\n                    parseFloat(e.target.value) || 0\n                  )\n                }\n                inputProps={{ min: 0, max: 100, step: 0.1 }}\n                required\n              />\n            </Grid>\n            <Grid item xs={12} md={6}>\n              <TextField\n                fullWidth\n                label=\"Investičná suma (€)\"\n                type=\"number\"\n                value={newShareData.investmentAmount}\n                onChange={e =>\n                  onShareDataChange(\n                    'investmentAmount',\n                    parseFloat(e.target.value) || 0\n                  )\n                }\n                inputProps={{ min: 0, step: 0.01 }}\n              />\n            </Grid>\n          </Grid>\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={onCloseAssignShare}>Zrušiť</Button>\n          <Button\n            variant=\"contained\"\n            onClick={onAssignShare}\n            disabled={\n              !newShareData.companyId || newShareData.ownershipPercentage <= 0\n            }\n            startIcon={<AddIcon />}\n          >\n            Priradiť podiel\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </>\n  );\n};\n\nexport default VehicleDialogs;\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/components/vehicles/components/VehicleFilters.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/components/vehicles/components/VehicleImportExport.tsx",
    "messages": [
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 42,
        "column": 33,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 42,
        "endColumn": 36,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [1109, 1112], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [1109, 1112], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 167,
        "column": 58,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 167,
        "endColumn": 61,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [5670, 5673], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [5670, 5673], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 226,
        "column": 22,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 226,
        "endColumn": 25,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [7978, 7981], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [7978, 7981], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 3,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "import { saveAs } from 'file-saver';\nimport Papa from 'papaparse';\nimport React from 'react';\n\nimport { apiService } from '../../../services/api';\nimport { SecondaryButton } from '../../ui';\n\ninterface VehicleImportExportProps {\n  loading: boolean;\n  setLoading: (loading: boolean) => void;\n  isMobile: boolean;\n}\n\nconst VehicleImportExport: React.FC<VehicleImportExportProps> = ({\n  loading,\n  setLoading,\n  isMobile,\n}) => {\n  // CSV Export funkcionalita\n  const handleExportCSV = async () => {\n    try {\n      const blob = await apiService.exportVehiclesCSV();\n      const filename = `vozidla-${new Date().toISOString().split('T')[0]}.csv`;\n      saveAs(blob, filename);\n\n      alert('CSV export úspešný');\n    } catch (error) {\n      console.error('CSV export error:', error);\n      alert('Chyba pri CSV exporte');\n    }\n  };\n\n  // CSV Import funkcionalita\n  const handleImportCSV = (event: React.ChangeEvent<HTMLInputElement>) => {\n    const file = event.target.files?.[0];\n    if (!file) return;\n\n    // Zobraz loading state\n    setLoading(true);\n\n    Papa.parse(file, {\n      complete: async (results: any) => {\n        try {\n          // Zobraz počet riadkov na spracovanie\n          const totalRows = results.data.length - 1; // -1 pre header\n          console.log(`📊 Spracovávam ${totalRows} vozidiel z CSV...`);\n\n          // Zobraz progress dialog\n          const progressDialog = window.confirm(\n            `📥 Začínam import ${totalRows} vozidiel z CSV súboru...\\n\\n` +\n              'Tento proces môže trvať niekoľko sekúnd.\\n' +\n              'Chcete pokračovať?'\n          );\n\n          if (!progressDialog) {\n            setLoading(false);\n            return;\n          }\n\n          // 📦 BATCH PROCESSING: Priprav vozidlá pre batch import\n          const batchVehicles = [];\n\n          // Spracuj CSV dáta a vytvor vozidlá pre batch import\n          const header = results.data[0];\n          const dataRows = results.data.slice(1);\n\n          for (const row of dataRows) {\n            const fieldMap: { [key: string]: string } = {};\n            header.forEach((headerName: string, index: number) => {\n              fieldMap[headerName] = row[index] || '';\n            });\n\n            // Mapovanie základných polí\n            const brand = fieldMap['brand'] || fieldMap['Značka'];\n            const model = fieldMap['model'] || fieldMap['Model'];\n            const licensePlate = fieldMap['licensePlate'] || fieldMap['ŠPZ'];\n            const company = fieldMap['company'] || fieldMap['Firma'];\n            const year = fieldMap['year'] || fieldMap['Rok'];\n            const status = fieldMap['status'] || fieldMap['Status'];\n            const stk = fieldMap['stk'] || fieldMap['STK'];\n\n            if (!brand || !model || !company) {\n              console.warn('⚠️ Preskakujem riadok - chýbajú povinné polia:', {\n                brand,\n                model,\n                company,\n              });\n              continue;\n            }\n\n            // Parsovanie cenotvorby\n            const pricing: Array<{\n              id: string;\n              minDays: number;\n              maxDays: number;\n              pricePerDay: number;\n            }> = [];\n\n            const priceColumns = [\n              { columns: ['cena_0_1', 'Cena_0-1_dni'], minDays: 0, maxDays: 1 },\n              { columns: ['cena_2_3', 'Cena_2-3_dni'], minDays: 2, maxDays: 3 },\n              { columns: ['cena_4_7', 'Cena_4-7_dni'], minDays: 4, maxDays: 7 },\n              {\n                columns: ['cena_8_14', 'Cena_8-14_dni'],\n                minDays: 8,\n                maxDays: 14,\n              },\n              {\n                columns: ['cena_15_22', 'Cena_15-22_dni'],\n                minDays: 15,\n                maxDays: 22,\n              },\n              {\n                columns: ['cena_23_30', 'Cena_23-30_dni'],\n                minDays: 23,\n                maxDays: 30,\n              },\n              {\n                columns: ['cena_31_9999', 'Cena_31+_dni'],\n                minDays: 31,\n                maxDays: 365,\n              },\n            ];\n\n            priceColumns.forEach((priceCol, index) => {\n              let priceValue = '';\n              for (const columnName of priceCol.columns) {\n                if (fieldMap[columnName]) {\n                  priceValue = fieldMap[columnName];\n                  break;\n                }\n              }\n\n              if (priceValue && !isNaN(parseFloat(priceValue))) {\n                pricing.push({\n                  id: (index + 1).toString(),\n                  minDays: priceCol.minDays,\n                  maxDays: priceCol.maxDays,\n                  pricePerDay: parseFloat(priceValue),\n                });\n              }\n            });\n\n            // Parsovanie provízie\n            const commissionType = (fieldMap['commissionType'] ||\n              fieldMap['Provizia_typ'] ||\n              'percentage') as 'percentage' | 'fixed';\n\n            const commissionValue =\n              fieldMap['commissionValue'] || fieldMap['Provizia_hodnota']\n                ? parseFloat(\n                    fieldMap['commissionValue'] || fieldMap['Provizia_hodnota']\n                  )\n                : 20;\n\n            // Vytvor vehicle data\n            const vehicleData = {\n              id: '', // Bude vygenerované na backend\n              brand: brand.trim(),\n              model: model.trim(),\n              licensePlate: licensePlate?.trim() || '',\n              company: company.trim(),\n              year:\n                year && year.trim() && !isNaN(parseInt(year))\n                  ? parseInt(year)\n                  : 2024,\n              status: (status?.trim() || 'available') as any,\n              stk: stk && stk.trim() ? new Date(stk.trim()) : undefined,\n              pricing: pricing,\n              commission: {\n                type: commissionType,\n                value: commissionValue,\n              },\n            };\n\n            batchVehicles.push(vehicleData);\n          }\n\n          console.log(\n            `📦 Pripravených ${batchVehicles.length} vozidiel pre batch import`\n          );\n\n          // Použij batch import namiesto CSV importu\n          const result = await apiService.batchImportVehicles(batchVehicles);\n\n          console.log('📥 CSV Import result:', result);\n\n          // Result už obsahuje priamo dáta, nie je wrapped v success/data\n          const {\n            created,\n            updated,\n            errorsCount,\n            successRate,\n            processed,\n            total,\n          } = result;\n\n          if (created > 0 || updated > 0) {\n            alert(\n              `🚀 BATCH IMPORT ÚSPEŠNÝ!\\n\\n📊 Výsledky:\\n• Vytvorených: ${created}\\n• Aktualizovaných: ${updated}\\n• Spracovaných: ${processed}/${total}\\n• Chýb: ${errorsCount}\\n• Úspešnosť: ${successRate}\\n\\nStránka sa obnoví za 3 sekundy...`\n            );\n            setTimeout(() => window.location.reload(), 3000);\n          } else if (errorsCount > 0) {\n            alert(\n              `⚠️ Import dokončený, ale žiadne vozidlá neboli pridané.\\n\\n📊 Výsledky:\\n• Vytvorených: ${created}\\n• Aktualizovaných: ${updated}\\n• Chýb: ${errorsCount}\\n• Úspešnosť: ${successRate}\\n\\nSkontrolujte formát CSV súboru.`\n            );\n          } else {\n            alert(\n              `⚠️ Import dokončený, ale žiadne vozidlá neboli pridané.\\nSkontrolujte formát CSV súboru.`\n            );\n          }\n        } catch (error) {\n          console.error('❌ CSV import error:', error);\n          // ✅ ZLEPŠENÉ ERROR HANDLING - menej dramatické\n          alert(\n            `⚠️ Import dokončený s upozornením: ${error instanceof Error ? error.message : 'Sieťová chyba'}\\n\\nSkontrolujte výsledok po obnovení stránky.`\n          );\n          // Aj tak skús refresh - možno sa import dokončil\n          setTimeout(() => window.location.reload(), 2000);\n        } finally {\n          setLoading(false);\n        }\n      },\n      header: false,\n      skipEmptyLines: true,\n      error: (error: any) => {\n        console.error('❌ Papa Parse error:', error);\n        alert(`❌ Chyba pri čítaní CSV súboru: ${error.message}`);\n        setLoading(false);\n      },\n    });\n\n    // Reset input\n    event.target.value = '';\n  };\n\n  // Render len na desktope\n  if (isMobile) {\n    return null;\n  }\n\n  return (\n    <>\n      <SecondaryButton onClick={handleExportCSV}>📊 Export CSV</SecondaryButton>\n\n      <SecondaryButton\n        component=\"label\"\n        disabled={loading}\n        sx={{\n          color: '#388e3c',\n          borderColor: '#388e3c',\n          '&:hover': {\n            borderColor: '#2e7d32',\n            backgroundColor: 'rgba(56, 142, 60, 0.04)',\n          },\n        }}\n      >\n        📥 Import CSV\n        <input\n          type=\"file\"\n          accept=\".csv\"\n          onChange={handleImportCSV}\n          style={{ display: 'none' }}\n        />\n      </SecondaryButton>\n    </>\n  );\n};\n\nexport default VehicleImportExport;\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/components/vehicles/components/VehicleKmHistory.tsx",
    "messages": [
      {
        "ruleId": "react-hooks/exhaustive-deps",
        "severity": 2,
        "message": "React Hook useEffect has a missing dependency: 'loadKmHistory'. Either include it or remove the dependency array.",
        "line": 132,
        "column": 6,
        "nodeType": "ArrayExpression",
        "endLine": 132,
        "endColumn": 21,
        "suggestions": [
          {
            "desc": "Update the dependencies array to be: [loadKmHistory, open, vehicle]",
            "fix": {
              "range": [2849, 2864],
              "text": "[loadKmHistory, open, vehicle]"
            }
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 2,
        "message": "'history' is assigned a value but never used.",
        "line": 139,
        "column": 13,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 139,
        "endColumn": 38
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 147,
        "column": 27,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 147,
        "endColumn": 30,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [3285, 3288], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [3285, 3288], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 152,
        "column": 34,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 152,
        "endColumn": 37,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [3456, 3459], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [3456, 3459], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 166,
        "column": 21,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 166,
        "endColumn": 24,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [3957, 3960], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [3957, 3960], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 171,
        "column": 28,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 171,
        "endColumn": 31,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [4081, 4084], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [4081, 4084], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 184,
        "column": 21,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 184,
        "endColumn": 24,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [4507, 4510], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [4507, 4510], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 189,
        "column": 28,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 189,
        "endColumn": 31,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [4631, 4634], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [4631, 4634], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 8,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "import {\n  DirectionsCar as CarIcon,\n  Security as InsuranceIcon,\n  Build as STKIcon,\n  Assignment as EKIcon,\n  TrendingUp as IncreaseIcon,\n  TrendingDown as DecreaseIcon,\n  Remove as SameIcon,\n} from '@mui/icons-material';\nimport {\n  Timeline,\n  TimelineItem,\n  TimelineSeparator,\n  TimelineConnector,\n  TimelineContent,\n  TimelineDot,\n  TimelineOppositeContent,\n} from '@mui/lab';\nimport {\n  Dialog,\n  DialogTitle,\n  DialogContent,\n  DialogActions,\n  Button,\n  Typography,\n  Box,\n  Card,\n  CardContent,\n  Chip,\n  Divider,\n  useTheme,\n  useMediaQuery,\n  Alert,\n  CircularProgress,\n} from '@mui/material';\nimport { format, parseISO } from 'date-fns';\nimport { sk } from 'date-fns/locale';\nimport React, { useState, useEffect } from 'react';\n\nimport { useApp } from '../../../context/AppContext';\nimport type { Vehicle } from '../../../types';\n\ninterface KmHistoryEntry {\n  id: string;\n  date: Date | string;\n  kmState: number;\n  documentType: 'insurance_kasko' | 'stk' | 'ek';\n  documentId: string;\n  documentNumber?: string;\n  policyNumber?: string;\n  company?: string;\n  notes?: string;\n}\n\ninterface VehicleKmHistoryProps {\n  open: boolean;\n  onClose: () => void;\n  vehicle: Vehicle | null;\n}\n\nconst getDocumentTypeInfo = (type: string) => {\n  switch (type) {\n    case 'insurance_kasko':\n      return {\n        label: 'Kasko poistka',\n        icon: <InsuranceIcon sx={{ fontSize: 20 }} />,\n        color: '#2196f3',\n      };\n    case 'stk':\n      return {\n        label: 'STK',\n        icon: <STKIcon sx={{ fontSize: 20 }} />,\n        color: '#388e3c',\n      };\n    case 'ek':\n      return {\n        label: 'EK',\n        icon: <EKIcon sx={{ fontSize: 20 }} />,\n        color: '#f57c00',\n      };\n    default:\n      return {\n        label: 'Dokument',\n        icon: <CarIcon sx={{ fontSize: 20 }} />,\n        color: '#666',\n      };\n  }\n};\n\nconst getKmTrend = (currentKm: number, previousKm?: number) => {\n  if (!previousKm)\n    return { icon: <SameIcon />, color: '#666', text: 'Prvý záznam' };\n\n  const diff = currentKm - previousKm;\n  if (diff > 0) {\n    return {\n      icon: <IncreaseIcon />,\n      color: '#4caf50',\n      text: `+${diff.toLocaleString()} km`,\n    };\n  } else if (diff < 0) {\n    return {\n      icon: <DecreaseIcon />,\n      color: '#f44336',\n      text: `${diff.toLocaleString()} km`,\n    };\n  } else {\n    return {\n      icon: <SameIcon />,\n      color: '#666',\n      text: 'Bez zmeny',\n    };\n  }\n};\n\nexport default function VehicleKmHistory({\n  open,\n  onClose,\n  vehicle,\n}: VehicleKmHistoryProps) {\n  const theme = useTheme();\n  const isMobile = useMediaQuery(theme.breakpoints.down('md'));\n  const { state } = useApp();\n\n  const [kmHistory, setKmHistory] = useState<KmHistoryEntry[]>([]);\n  const [loading, setLoading] = useState(false);\n\n  useEffect(() => {\n    if (open && vehicle) {\n      loadKmHistory();\n    }\n  }, [open, vehicle]);\n\n  const loadKmHistory = async () => {\n    if (!vehicle) return;\n\n    setLoading(true);\n    try {\n      const history: KmHistoryEntry[] = [];\n\n      // Načítaj Kasko poistky s kmState\n      const kaskoInsurances = (state.insurances || [])\n        .filter(\n          insurance =>\n            insurance.vehicleId === vehicle.id &&\n            insurance.type?.toLowerCase().includes('kasko') &&\n            (insurance as any).kmState\n        )\n        .map(insurance => ({\n          id: insurance.id,\n          date: insurance.validFrom || insurance.validTo,\n          kmState: (insurance as any).kmState,\n          documentType: 'insurance_kasko' as const,\n          documentId: insurance.id,\n          policyNumber: insurance.policyNumber,\n          company: insurance.company,\n          notes: `Kasko poistka ${insurance.policyNumber}`,\n        }));\n\n      // Načítaj STK dokumenty s kmState\n      const stkDocuments = (state.vehicleDocuments || [])\n        .filter(\n          doc =>\n            doc.vehicleId === vehicle.id &&\n            doc.documentType === 'stk' &&\n            (doc as any).kmState\n        )\n        .map(doc => ({\n          id: doc.id,\n          date: doc.validTo,\n          kmState: (doc as any).kmState,\n          documentType: 'stk' as const,\n          documentId: doc.id,\n          documentNumber: doc.documentNumber,\n          notes: doc.notes || `STK kontrola`,\n        }));\n\n      // Načítaj EK dokumenty s kmState\n      const ekDocuments = (state.vehicleDocuments || [])\n        .filter(\n          doc =>\n            doc.vehicleId === vehicle.id &&\n            doc.documentType === 'ek' &&\n            (doc as any).kmState\n        )\n        .map(doc => ({\n          id: doc.id,\n          date: doc.validTo,\n          kmState: (doc as any).kmState,\n          documentType: 'ek' as const,\n          documentId: doc.id,\n          documentNumber: doc.documentNumber,\n          notes: doc.notes || `EK kontrola`,\n        }));\n\n      // Spoj všetky záznamy a zoraď podľa dátumu\n      const allEntries = [...kaskoInsurances, ...stkDocuments, ...ekDocuments];\n      const sortedHistory = allEntries.sort((a, b) => {\n        const dateA = typeof a.date === 'string' ? parseISO(a.date) : a.date;\n        const dateB = typeof b.date === 'string' ? parseISO(b.date) : b.date;\n        return dateB.getTime() - dateA.getTime(); // Najnovšie prvé\n      });\n\n      setKmHistory(sortedHistory);\n    } catch (error) {\n      console.error('Chyba pri načítavaní histórie km:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  if (!vehicle) return null;\n\n  return (\n    <Dialog\n      open={open}\n      onClose={onClose}\n      maxWidth=\"md\"\n      fullWidth\n      fullScreen={isMobile}\n    >\n      <DialogTitle>\n        <Box sx={{ display: 'flex', alignItems: 'center', gap: 1 }}>\n          <CarIcon />\n          <Box>\n            <Typography variant=\"h6\">História stavu kilometrov</Typography>\n            <Typography variant=\"subtitle2\" color=\"text.secondary\">\n              {vehicle.brand} {vehicle.model} - {vehicle.licensePlate}\n            </Typography>\n          </Box>\n        </Box>\n      </DialogTitle>\n\n      <DialogContent>\n        {loading ? (\n          <Box sx={{ display: 'flex', justifyContent: 'center', py: 4 }}>\n            <CircularProgress />\n          </Box>\n        ) : kmHistory.length === 0 ? (\n          <Alert severity=\"info\" sx={{ mt: 2 }}>\n            <Typography variant=\"body2\">\n              Žiadna história kilometrov nie je k dispozícii pre toto vozidlo.\n            </Typography>\n            <Typography\n              variant=\"caption\"\n              color=\"text.secondary\"\n              sx={{ mt: 1, display: 'block' }}\n            >\n              História sa vytvára automaticky pri pridávaní STK, EK alebo Kasko\n              poistky s uvedeným stavom kilometrov.\n            </Typography>\n          </Alert>\n        ) : (\n          <>\n            <Alert severity=\"success\" sx={{ mb: 3 }}>\n              <Typography variant=\"body2\">\n                📊 Nájdených {kmHistory.length} záznamov o stave kilometrov\n              </Typography>\n            </Alert>\n\n            <Timeline position={isMobile ? 'right' : 'alternate'}>\n              {kmHistory.map((entry, index) => {\n                const typeInfo = getDocumentTypeInfo(entry.documentType);\n                const previousEntry = kmHistory[index + 1];\n                const trend = getKmTrend(entry.kmState, previousEntry?.kmState);\n                const entryDate =\n                  typeof entry.date === 'string'\n                    ? parseISO(entry.date)\n                    : entry.date;\n\n                return (\n                  <TimelineItem key={entry.id}>\n                    {!isMobile && (\n                      <TimelineOppositeContent\n                        sx={{ m: 'auto 0' }}\n                        align=\"right\"\n                        variant=\"body2\"\n                        color=\"text.secondary\"\n                      >\n                        {format(entryDate, 'dd.MM.yyyy', { locale: sk })}\n                      </TimelineOppositeContent>\n                    )}\n\n                    <TimelineSeparator>\n                      <TimelineDot\n                        sx={{ bgcolor: typeInfo.color, color: 'white' }}\n                      >\n                        {typeInfo.icon}\n                      </TimelineDot>\n                      {index < kmHistory.length - 1 && <TimelineConnector />}\n                    </TimelineSeparator>\n\n                    <TimelineContent sx={{ py: '12px', px: 2 }}>\n                      <Card variant=\"outlined\">\n                        <CardContent sx={{ p: 2, '&:last-child': { pb: 2 } }}>\n                          <Box\n                            sx={{\n                              display: 'flex',\n                              justifyContent: 'space-between',\n                              alignItems: 'flex-start',\n                              mb: 1,\n                            }}\n                          >\n                            <Box>\n                              <Typography\n                                variant=\"h6\"\n                                component=\"div\"\n                                sx={{\n                                  display: 'flex',\n                                  alignItems: 'center',\n                                  gap: 1,\n                                }}\n                              >\n                                {typeInfo.label}\n                                <Chip\n                                  label={`${entry.kmState.toLocaleString()} km`}\n                                  color=\"primary\"\n                                  size=\"small\"\n                                />\n                              </Typography>\n                              {isMobile && (\n                                <Typography\n                                  variant=\"caption\"\n                                  color=\"text.secondary\"\n                                >\n                                  {format(entryDate, 'dd.MM.yyyy', {\n                                    locale: sk,\n                                  })}\n                                </Typography>\n                              )}\n                            </Box>\n\n                            <Box\n                              sx={{\n                                display: 'flex',\n                                alignItems: 'center',\n                                gap: 0.5,\n                              }}\n                            >\n                              <Box\n                                sx={{\n                                  color: trend.color,\n                                  display: 'flex',\n                                  alignItems: 'center',\n                                }}\n                              >\n                                {trend.icon}\n                              </Box>\n                              <Typography\n                                variant=\"caption\"\n                                sx={{ color: trend.color }}\n                              >\n                                {trend.text}\n                              </Typography>\n                            </Box>\n                          </Box>\n\n                          <Divider sx={{ my: 1 }} />\n\n                          <Box\n                            sx={{\n                              display: 'flex',\n                              flexDirection: 'column',\n                              gap: 0.5,\n                            }}\n                          >\n                            {entry.policyNumber && (\n                              <Typography\n                                variant=\"body2\"\n                                color=\"text.secondary\"\n                              >\n                                <strong>Číslo poistky:</strong>{' '}\n                                {entry.policyNumber}\n                              </Typography>\n                            )}\n                            {entry.documentNumber && (\n                              <Typography\n                                variant=\"body2\"\n                                color=\"text.secondary\"\n                              >\n                                <strong>Číslo dokumentu:</strong>{' '}\n                                {entry.documentNumber}\n                              </Typography>\n                            )}\n                            {entry.company && (\n                              <Typography\n                                variant=\"body2\"\n                                color=\"text.secondary\"\n                              >\n                                <strong>Spoločnosť:</strong> {entry.company}\n                              </Typography>\n                            )}\n                            {entry.notes && (\n                              <Typography\n                                variant=\"body2\"\n                                color=\"text.secondary\"\n                              >\n                                <strong>Poznámka:</strong> {entry.notes}\n                              </Typography>\n                            )}\n                          </Box>\n                        </CardContent>\n                      </Card>\n                    </TimelineContent>\n                  </TimelineItem>\n                );\n              })}\n            </Timeline>\n\n            {/* Štatistiky */}\n            {kmHistory.length > 1 && (\n              <Card sx={{ mt: 3, bgcolor: 'background.paper' }}>\n                <CardContent>\n                  <Typography variant=\"h6\" gutterBottom>\n                    📈 Štatistiky\n                  </Typography>\n                  <Box\n                    sx={{\n                      display: 'grid',\n                      gridTemplateColumns: { xs: '1fr', sm: '1fr 1fr 1fr' },\n                      gap: 2,\n                    }}\n                  >\n                    <Box sx={{ textAlign: 'center' }}>\n                      <Typography variant=\"h4\" color=\"primary\">\n                        {kmHistory[0].kmState.toLocaleString()}\n                      </Typography>\n                      <Typography variant=\"caption\" color=\"text.secondary\">\n                        Aktuálny stav km\n                      </Typography>\n                    </Box>\n                    <Box sx={{ textAlign: 'center' }}>\n                      <Typography variant=\"h4\" color=\"success.main\">\n                        +\n                        {(\n                          kmHistory[0].kmState -\n                          kmHistory[kmHistory.length - 1].kmState\n                        ).toLocaleString()}\n                      </Typography>\n                      <Typography variant=\"caption\" color=\"text.secondary\">\n                        Celkový nárast km\n                      </Typography>\n                    </Box>\n                    <Box sx={{ textAlign: 'center' }}>\n                      <Typography variant=\"h4\" color=\"info.main\">\n                        {kmHistory.length}\n                      </Typography>\n                      <Typography variant=\"caption\" color=\"text.secondary\">\n                        Počet záznamov\n                      </Typography>\n                    </Box>\n                  </Box>\n                </CardContent>\n              </Card>\n            )}\n          </>\n        )}\n      </DialogContent>\n\n      <DialogActions>\n        <Button onClick={onClose}>Zavrieť</Button>\n      </DialogActions>\n    </Dialog>\n  );\n}\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/components/vehicles/components/VehicleTable.tsx",
    "messages": [
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 2,
        "message": "'getStatusColor' is defined but never used.",
        "line": 23,
        "column": 3,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 23,
        "endColumn": 17
      }
    ],
    "suppressedMessages": [],
    "errorCount": 1,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "import {\n  Edit as EditIcon,\n  Delete as DeleteIcon,\n  History as HistoryIcon,\n  Speed as KmIcon,\n} from '@mui/icons-material';\nimport {\n  Box,\n  Button,\n  Typography,\n  IconButton,\n  Chip,\n  Card,\n  CardContent,\n  Checkbox,\n  useMediaQuery,\n  useTheme,\n} from '@mui/material';\nimport React from 'react';\n\nimport type { Vehicle } from '../../../types';\nimport {\n  getStatusColor,\n  getStatusBgColor,\n  getStatusText,\n  getStatusIcon,\n} from '../../../utils/vehicles/vehicleHelpers';\nimport { Can } from '../../common/PermissionGuard';\n\ninterface VehicleTableProps {\n  vehiclesToDisplay: Vehicle[];\n  filteredVehicles: Vehicle[];\n  displayedVehicles: number;\n  hasMore: boolean;\n  isLoadingMore: boolean;\n  selectedVehicles: Set<string>;\n  mobileScrollRef: React.RefObject<HTMLDivElement>;\n  desktopScrollRef: React.RefObject<HTMLDivElement>;\n  onScroll: (event: React.UIEvent<HTMLDivElement>) => void;\n  onEdit: (vehicle: Vehicle) => void;\n  onDelete: (vehicleId: string) => void;\n  onVehicleSelect: (vehicleId: string, checked: boolean) => void;\n  onLoadMore: () => void;\n  onKmHistory?: (vehicle: Vehicle) => void; // 🚗 História kilometrov\n}\n\nconst VehicleTable: React.FC<VehicleTableProps> = ({\n  vehiclesToDisplay,\n  filteredVehicles,\n  displayedVehicles,\n  hasMore,\n  isLoadingMore,\n  selectedVehicles,\n  mobileScrollRef,\n  desktopScrollRef,\n  onScroll,\n  onEdit,\n  onDelete,\n  onVehicleSelect,\n  onLoadMore,\n  onKmHistory,\n}) => {\n  const theme = useTheme();\n  const isMobile = useMediaQuery(theme.breakpoints.down('md'));\n\n  return (\n    <>\n      {isMobile ? (\n        /* MOBILE CARDS VIEW */\n        <Card\n          sx={{\n            overflow: 'hidden',\n            boxShadow: '0 6px 20px rgba(0,0,0,0.1)',\n            borderRadius: 3,\n          }}\n        >\n          <CardContent sx={{ p: 0 }}>\n            <Box\n              ref={mobileScrollRef}\n              sx={{ maxHeight: '70vh', overflowY: 'auto' }}\n              onScroll={onScroll}\n            >\n              {vehiclesToDisplay.map((vehicle, index) => (\n                <Box\n                  key={vehicle.id}\n                  sx={{\n                    display: 'flex',\n                    alignItems: 'center',\n                    p: 0,\n                    borderBottom:\n                      index < vehiclesToDisplay.length - 1\n                        ? '1px solid #e0e0e0'\n                        : 'none',\n                    '&:hover': { backgroundColor: '#f8f9fa' },\n                    minHeight: 80,\n                    cursor: 'pointer',\n                  }}\n                  onClick={() => onEdit(vehicle)}\n                >\n                  {/* ✅ NOVÉ: Checkbox pre výber vozidla */}\n                  <Box\n                    sx={{\n                      width: 50,\n                      display: 'flex',\n                      alignItems: 'center',\n                      justifyContent: 'center',\n                      borderRight: '1px solid #e0e0e0',\n                      backgroundColor: '#fafafa',\n                    }}\n                  >\n                    <Checkbox\n                      size=\"small\"\n                      checked={selectedVehicles.has(vehicle.id)}\n                      onChange={e => {\n                        e.stopPropagation(); // Zabráni kliknutiu na celý riadok\n                        onVehicleSelect(vehicle.id, e.target.checked);\n                      }}\n                      sx={{\n                        p: 0.5,\n                        '& .MuiSvgIcon-root': { fontSize: 18 },\n                      }}\n                    />\n                  </Box>\n\n                  {/* Vehicle Info - sticky left */}\n                  <Box\n                    sx={{\n                      width: { xs: 140, sm: 160 },\n                      maxWidth: { xs: 140, sm: 160 },\n                      p: { xs: 1, sm: 1.5 },\n                      borderRight: '2px solid #e0e0e0',\n                      display: 'flex',\n                      flexDirection: 'column',\n                      justifyContent: 'center',\n                      backgroundColor: '#ffffff',\n                      position: 'sticky',\n                      left: 0,\n                      zIndex: 10,\n                      overflow: 'hidden',\n                    }}\n                  >\n                    <Typography\n                      variant=\"subtitle2\"\n                      sx={{\n                        fontWeight: 600,\n                        fontSize: { xs: '0.75rem', sm: '0.8rem' },\n                        color: '#1976d2',\n                        lineHeight: 1.2,\n                        wordWrap: 'break-word',\n                        mb: { xs: 0.25, sm: 0.5 },\n                      }}\n                    >\n                      {vehicle.brand} {vehicle.model}\n                    </Typography>\n                    <Typography\n                      variant=\"caption\"\n                      sx={{\n                        color: '#666',\n                        fontSize: { xs: '0.6rem', sm: '0.65rem' },\n                        mb: { xs: 0.25, sm: 0.5 },\n                        fontWeight: 600,\n                      }}\n                    >\n                      {vehicle.licensePlate}\n                    </Typography>\n                    {vehicle.vin && (\n                      <Typography\n                        variant=\"caption\"\n                        sx={{\n                          color: '#888',\n                          fontSize: { xs: '0.55rem', sm: '0.6rem' },\n                          fontFamily: 'monospace',\n                        }}\n                      >\n                        VIN: {vehicle.vin.slice(-6)}\n                      </Typography>\n                    )}\n                    <Chip\n                      size=\"small\"\n                      label={getStatusText(vehicle.status)}\n                      icon={getStatusIcon(vehicle.status)}\n                      sx={{\n                        height: { xs: 18, sm: 20 },\n                        fontSize: { xs: '0.55rem', sm: '0.6rem' },\n                        bgcolor: getStatusBgColor(vehicle.status),\n                        color: 'white',\n                        fontWeight: 700,\n                        minWidth: 'auto',\n                        maxWidth: '100%',\n                        overflow: 'hidden',\n                        '& .MuiChip-icon': {\n                          color: 'white',\n                          fontSize: '0.8rem',\n                        },\n                      }}\n                    />\n                  </Box>\n\n                  {/* Vehicle Details - scrollable right */}\n                  <Box\n                    sx={{\n                      flex: 1,\n                      p: { xs: 1, sm: 1.5 },\n                      display: 'flex',\n                      flexDirection: 'column',\n                      justifyContent: 'space-between',\n                      overflow: 'hidden',\n                      minWidth: 0,\n                    }}\n                  >\n                    <Box sx={{ overflow: 'hidden' }}>\n                      <Typography\n                        variant=\"subtitle2\"\n                        sx={{\n                          fontWeight: 600,\n                          fontSize: { xs: '0.75rem', sm: '0.8rem' },\n                          color: '#333',\n                          mb: { xs: 0.25, sm: 0.5 },\n                          overflow: 'hidden',\n                          textOverflow: 'ellipsis',\n                          whiteSpace: 'nowrap',\n                        }}\n                      >\n                        🏢 {vehicle.company}\n                      </Typography>\n                      <Typography\n                        variant=\"caption\"\n                        sx={{\n                          color: '#666',\n                          fontSize: { xs: '0.6rem', sm: '0.65rem' },\n                          display: 'block',\n                          mb: { xs: 0.25, sm: 0.5 },\n                          overflow: 'hidden',\n                          textOverflow: 'ellipsis',\n                          whiteSpace: 'nowrap',\n                        }}\n                      >\n                        📊 Status: {getStatusText(vehicle.status)}\n                      </Typography>\n                    </Box>\n\n                    {/* Mobile Action Buttons */}\n                    <Box\n                      sx={{\n                        display: 'flex',\n                        gap: { xs: 0.5, sm: 0.75 },\n                        mt: { xs: 1, sm: 1.5 },\n                        justifyContent: 'flex-start',\n                        flexWrap: 'wrap',\n                      }}\n                    >\n                      {/* Edit Button */}\n                      <Can\n                        update=\"vehicles\"\n                        context={{\n                          resourceOwnerId: vehicle.assignedMechanicId,\n                          resourceCompanyId: vehicle.ownerCompanyId,\n                        }}\n                      >\n                        <IconButton\n                          size=\"small\"\n                          title=\"Upraviť vozidlo\"\n                          onClick={e => {\n                            e.stopPropagation();\n                            onEdit(vehicle);\n                          }}\n                          sx={{\n                            bgcolor: '#2196f3',\n                            color: 'white',\n                            width: { xs: 36, sm: 32 },\n                            height: { xs: 36, sm: 32 },\n                            '&:hover': {\n                              bgcolor: '#1976d2',\n                              transform: 'scale(1.1)',\n                              boxShadow: '0 4px 12px rgba(33,150,243,0.4)',\n                            },\n                            transition: 'all 0.2s ease',\n                          }}\n                        >\n                          <EditIcon fontSize=\"small\" />\n                        </IconButton>\n                      </Can>\n\n                      {/* Delete Button */}\n                      <Can\n                        delete=\"vehicles\"\n                        context={{\n                          resourceOwnerId: vehicle.assignedMechanicId,\n                          resourceCompanyId: vehicle.ownerCompanyId,\n                        }}\n                      >\n                        <IconButton\n                          size=\"small\"\n                          title=\"Zmazať vozidlo\"\n                          onClick={e => {\n                            e.stopPropagation();\n                            onDelete(vehicle.id);\n                          }}\n                          sx={{\n                            bgcolor: '#f44336',\n                            color: 'white',\n                            width: { xs: 36, sm: 32 },\n                            height: { xs: 36, sm: 32 },\n                            '&:hover': {\n                              bgcolor: '#d32f2f',\n                              transform: 'scale(1.1)',\n                              boxShadow: '0 4px 12px rgba(244,67,54,0.4)',\n                            },\n                            transition: 'all 0.2s ease',\n                          }}\n                        >\n                          <DeleteIcon fontSize=\"small\" />\n                        </IconButton>\n                      </Can>\n                    </Box>\n                  </Box>\n                </Box>\n              ))}\n\n              {/* 🚀 INFINITE SCROLL: Load More Button */}\n              {hasMore && (\n                <Box\n                  sx={{\n                    display: 'flex',\n                    justifyContent: 'center',\n                    p: 3,\n                    borderTop: '1px solid #e0e0e0',\n                  }}\n                >\n                  <Button\n                    variant=\"outlined\"\n                    onClick={onLoadMore}\n                    disabled={isLoadingMore}\n                    sx={{\n                      minWidth: 200,\n                      py: 1.5,\n                      borderRadius: 3,\n                      textTransform: 'none',\n                      fontSize: '1rem',\n                      fontWeight: 600,\n                    }}\n                  >\n                    {isLoadingMore\n                      ? 'Načítavam...'\n                      : `Načítať ďalších (${filteredVehicles.length - displayedVehicles} zostáva)`}\n                  </Button>\n                </Box>\n              )}\n            </Box>\n          </CardContent>\n        </Card>\n      ) : (\n        /* DESKTOP TABLE VIEW */\n        <Card\n          sx={{\n            overflow: 'hidden',\n            boxShadow: '0 6px 20px rgba(0,0,0,0.1)',\n            borderRadius: 3,\n          }}\n        >\n          <CardContent sx={{ p: 0 }}>\n            {/* Desktop Header */}\n            <Box\n              sx={{\n                display: 'flex',\n                bgcolor: '#f8f9fa',\n                borderBottom: '2px solid #e0e0e0',\n                position: 'sticky',\n                top: 0,\n                zIndex: 100,\n                minHeight: 56,\n              }}\n            >\n              {/* Vozidlo column */}\n              <Box\n                sx={{\n                  width: 200,\n                  minWidth: 200,\n                  p: 2,\n                  borderRight: '1px solid #e0e0e0',\n                  display: 'flex',\n                  alignItems: 'center',\n                }}\n              >\n                <Typography\n                  variant=\"subtitle2\"\n                  sx={{ fontWeight: 700, color: '#333' }}\n                >\n                  🚗 Vozidlo\n                </Typography>\n              </Box>\n\n              {/* ŠPZ a VIN column */}\n              <Box\n                sx={{\n                  width: 140,\n                  minWidth: 140,\n                  p: 2,\n                  borderRight: '1px solid #e0e0e0',\n                  display: 'flex',\n                  alignItems: 'center',\n                }}\n              >\n                <Typography\n                  variant=\"subtitle2\"\n                  sx={{ fontWeight: 700, color: '#333' }}\n                >\n                  📋 ŠPZ / VIN\n                </Typography>\n              </Box>\n\n              {/* Firma column */}\n              <Box\n                sx={{\n                  width: 150,\n                  minWidth: 150,\n                  p: 2,\n                  borderRight: '1px solid #e0e0e0',\n                  display: 'flex',\n                  alignItems: 'center',\n                }}\n              >\n                <Typography\n                  variant=\"subtitle2\"\n                  sx={{ fontWeight: 700, color: '#333' }}\n                >\n                  🏢 Firma\n                </Typography>\n              </Box>\n\n              {/* Status column */}\n              <Box\n                sx={{\n                  width: 140,\n                  minWidth: 140,\n                  p: 2,\n                  borderRight: '1px solid #e0e0e0',\n                  display: 'flex',\n                  alignItems: 'center',\n                }}\n              >\n                <Typography\n                  variant=\"subtitle2\"\n                  sx={{ fontWeight: 700, color: '#333' }}\n                >\n                  📊 Status\n                </Typography>\n              </Box>\n\n              {/* Ceny column */}\n              <Box\n                sx={{\n                  width: 200,\n                  minWidth: 200,\n                  p: 2,\n                  borderRight: '1px solid #e0e0e0',\n                  display: 'flex',\n                  alignItems: 'center',\n                }}\n              >\n                <Typography\n                  variant=\"subtitle2\"\n                  sx={{ fontWeight: 700, color: '#333' }}\n                >\n                  💰 Ceny\n                </Typography>\n              </Box>\n\n              {/* Akcie column */}\n              <Box\n                sx={{\n                  width: 120,\n                  minWidth: 120,\n                  p: 2,\n                  display: 'flex',\n                  alignItems: 'center',\n                  justifyContent: 'center',\n                }}\n              >\n                <Typography\n                  variant=\"subtitle2\"\n                  sx={{ fontWeight: 700, color: '#333' }}\n                >\n                  ⚡ Akcie\n                </Typography>\n              </Box>\n            </Box>\n\n            {/* Desktop Vehicle Rows */}\n            <Box\n              ref={desktopScrollRef}\n              sx={{ maxHeight: '70vh', overflowY: 'auto' }}\n              onScroll={onScroll}\n            >\n              {vehiclesToDisplay.map((vehicle, index) => (\n                <Box\n                  key={vehicle.id}\n                  sx={{\n                    display: 'flex',\n                    alignItems: 'center',\n                    p: 0,\n                    borderBottom:\n                      index < vehiclesToDisplay.length - 1\n                        ? '1px solid #e0e0e0'\n                        : 'none',\n                    '&:hover': { backgroundColor: '#f8f9fa' },\n                    minHeight: 72,\n                    cursor: 'pointer',\n                  }}\n                  onClick={() => onEdit(vehicle)}\n                >\n                  {/* Vozidlo column */}\n                  <Box\n                    sx={{\n                      width: 200,\n                      minWidth: 200,\n                      p: 2,\n                      borderRight: '1px solid #e0e0e0',\n                      display: 'flex',\n                      flexDirection: 'column',\n                      justifyContent: 'center',\n                    }}\n                  >\n                    <Typography\n                      variant=\"subtitle2\"\n                      sx={{\n                        fontWeight: 600,\n                        color: '#1976d2',\n                        mb: 0.5,\n                      }}\n                    >\n                      {vehicle.brand} {vehicle.model}\n                    </Typography>\n                    <Typography\n                      variant=\"caption\"\n                      sx={{\n                        color: '#666',\n                        fontSize: '0.7rem',\n                      }}\n                    >\n                      ID: {vehicle.id.slice(0, 8)}...\n                    </Typography>\n                  </Box>\n\n                  {/* ŠPZ a VIN column */}\n                  <Box\n                    sx={{\n                      width: 140,\n                      minWidth: 140,\n                      p: 2,\n                      borderRight: '1px solid #e0e0e0',\n                      display: 'flex',\n                      flexDirection: 'column',\n                      justifyContent: 'center',\n                    }}\n                  >\n                    <Typography\n                      variant=\"body2\"\n                      sx={{\n                        fontWeight: 600,\n                        color: '#333',\n                        fontFamily: 'monospace',\n                      }}\n                    >\n                      {vehicle.licensePlate}\n                    </Typography>\n                    {vehicle.vin && (\n                      <Typography\n                        variant=\"caption\"\n                        sx={{\n                          color: '#666',\n                          fontFamily: 'monospace',\n                          fontSize: '0.7rem',\n                          mt: 0.5,\n                        }}\n                      >\n                        VIN: {vehicle.vin.slice(-8)}\n                      </Typography>\n                    )}\n                  </Box>\n\n                  {/* Firma column */}\n                  <Box\n                    sx={{\n                      width: 150,\n                      minWidth: 150,\n                      p: 2,\n                      borderRight: '1px solid #e0e0e0',\n                      display: 'flex',\n                      alignItems: 'center',\n                    }}\n                  >\n                    <Typography\n                      variant=\"body2\"\n                      sx={{\n                        color: '#333',\n                        overflow: 'hidden',\n                        textOverflow: 'ellipsis',\n                        whiteSpace: 'nowrap',\n                      }}\n                    >\n                      {vehicle.company}\n                    </Typography>\n                  </Box>\n\n                  {/* Status column */}\n                  <Box\n                    sx={{\n                      width: 140,\n                      minWidth: 140,\n                      p: 2,\n                      borderRight: '1px solid #e0e0e0',\n                      display: 'flex',\n                      alignItems: 'center',\n                    }}\n                  >\n                    <Chip\n                      size=\"small\"\n                      label={getStatusText(vehicle.status)}\n                      icon={getStatusIcon(vehicle.status)}\n                      sx={{\n                        height: 24,\n                        fontSize: '0.7rem',\n                        bgcolor: getStatusBgColor(vehicle.status),\n                        color: 'white',\n                        fontWeight: 700,\n                        '& .MuiChip-icon': {\n                          color: 'white',\n                          fontSize: '0.9rem',\n                        },\n                      }}\n                    />\n                  </Box>\n\n                  {/* Ceny column */}\n                  <Box\n                    sx={{\n                      width: 200,\n                      minWidth: 200,\n                      p: 2,\n                      borderRight: '1px solid #e0e0e0',\n                      display: 'flex',\n                      flexDirection: 'column',\n                      justifyContent: 'center',\n                    }}\n                  >\n                    {vehicle.pricing && vehicle.pricing.length > 0 ? (\n                      <>\n                        <Typography\n                          variant=\"caption\"\n                          sx={{\n                            color: '#666',\n                            fontSize: '0.65rem',\n                            mb: 0.25,\n                          }}\n                        >\n                          1 deň:{' '}\n                          {vehicle.pricing.find(\n                            p => p.minDays === 0 && p.maxDays === 1\n                          )?.pricePerDay || 0}\n                          €\n                        </Typography>\n                        <Typography\n                          variant=\"caption\"\n                          sx={{\n                            color: '#666',\n                            fontSize: '0.65rem',\n                          }}\n                        >\n                          7+ dní:{' '}\n                          {vehicle.pricing.find(\n                            p => p.minDays === 4 && p.maxDays === 7\n                          )?.pricePerDay || 0}\n                          €\n                        </Typography>\n                      </>\n                    ) : (\n                      <Typography variant=\"caption\" sx={{ color: '#999' }}>\n                        Nezadané\n                      </Typography>\n                    )}\n                  </Box>\n\n                  {/* Akcie column */}\n                  <Box\n                    sx={{\n                      width: 120,\n                      minWidth: 120,\n                      p: 2,\n                      display: 'flex',\n                      alignItems: 'center',\n                      justifyContent: 'center',\n                      gap: 0.5,\n                    }}\n                  >\n                    {/* Edit Button */}\n                    <Can\n                      update=\"vehicles\"\n                      context={{\n                        resourceOwnerId: vehicle.assignedMechanicId,\n                        resourceCompanyId: vehicle.ownerCompanyId,\n                      }}\n                    >\n                      <IconButton\n                        size=\"small\"\n                        title=\"Upraviť vozidlo\"\n                        onClick={e => {\n                          e.stopPropagation();\n                          onEdit(vehicle);\n                        }}\n                        sx={{\n                          bgcolor: '#2196f3',\n                          color: 'white',\n                          width: 28,\n                          height: 28,\n                          '&:hover': {\n                            bgcolor: '#1976d2',\n                            transform: 'scale(1.1)',\n                            boxShadow: '0 4px 12px rgba(33,150,243,0.4)',\n                          },\n                          transition: 'all 0.2s ease',\n                        }}\n                      >\n                        <EditIcon fontSize=\"small\" />\n                      </IconButton>\n                    </Can>\n\n                    {/* Km History Button */}\n                    {onKmHistory && (\n                      <IconButton\n                        size=\"small\"\n                        title=\"História kilometrov\"\n                        onClick={e => {\n                          e.stopPropagation();\n                          onKmHistory(vehicle);\n                        }}\n                        sx={{\n                          bgcolor: '#2196f3',\n                          color: 'white',\n                          width: 28,\n                          height: 28,\n                          '&:hover': {\n                            bgcolor: '#1976d2',\n                            transform: 'scale(1.1)',\n                            boxShadow: '0 4px 12px rgba(33,150,243,0.4)',\n                          },\n                          transition: 'all 0.2s ease',\n                        }}\n                      >\n                        <KmIcon fontSize=\"small\" />\n                      </IconButton>\n                    )}\n\n                    {/* History Button */}\n                    <IconButton\n                      size=\"small\"\n                      title=\"História vozidla\"\n                      onClick={e => {\n                        e.stopPropagation();\n                        // TODO: Implement history view\n                      }}\n                      sx={{\n                        bgcolor: '#9c27b0',\n                        color: 'white',\n                        width: 28,\n                        height: 28,\n                        '&:hover': {\n                          bgcolor: '#7b1fa2',\n                          transform: 'scale(1.1)',\n                          boxShadow: '0 4px 12px rgba(156,39,176,0.4)',\n                        },\n                        transition: 'all 0.2s ease',\n                      }}\n                    >\n                      <HistoryIcon fontSize=\"small\" />\n                    </IconButton>\n\n                    {/* Delete Button */}\n                    <Can\n                      delete=\"vehicles\"\n                      context={{\n                        resourceOwnerId: vehicle.assignedMechanicId,\n                        resourceCompanyId: vehicle.ownerCompanyId,\n                      }}\n                    >\n                      <IconButton\n                        size=\"small\"\n                        title=\"Zmazať vozidlo\"\n                        onClick={e => {\n                          e.stopPropagation();\n                          onDelete(vehicle.id);\n                        }}\n                        sx={{\n                          bgcolor: '#f44336',\n                          color: 'white',\n                          width: 28,\n                          height: 28,\n                          '&:hover': {\n                            bgcolor: '#d32f2f',\n                            transform: 'scale(1.1)',\n                            boxShadow: '0 4px 12px rgba(244,67,54,0.4)',\n                          },\n                          transition: 'all 0.2s ease',\n                        }}\n                      >\n                        <DeleteIcon fontSize=\"small\" />\n                      </IconButton>\n                    </Can>\n                  </Box>\n                </Box>\n              ))}\n\n              {/* 🚀 INFINITE SCROLL: Load More Button */}\n              {hasMore && (\n                <Box\n                  sx={{\n                    display: 'flex',\n                    justifyContent: 'center',\n                    p: 3,\n                    borderTop: '1px solid #e0e0e0',\n                  }}\n                >\n                  <Button\n                    variant=\"outlined\"\n                    onClick={onLoadMore}\n                    disabled={isLoadingMore}\n                    sx={{\n                      minWidth: 200,\n                      py: 1.5,\n                      borderRadius: 3,\n                      textTransform: 'none',\n                      fontSize: '1rem',\n                      fontWeight: 600,\n                    }}\n                  >\n                    {isLoadingMore\n                      ? 'Načítavam...'\n                      : `Načítať ďalších (${filteredVehicles.length - displayedVehicles} zostáva)`}\n                  </Button>\n                </Box>\n              )}\n            </Box>\n          </CardContent>\n        </Card>\n      )}\n    </>\n  );\n};\n\nexport default VehicleTable;\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/config/featureFlags.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/context/AppContext.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/context/AuthContext.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/context/ErrorContext.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/context/PermissionsContext.tsx",
    "messages": [
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 2,
        "message": "'CompanyPermissions' is defined but never used.",
        "line": 6,
        "column": 10,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 6,
        "endColumn": 28
      },
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 2,
        "message": "'ResourcePermission' is defined but never used.",
        "line": 6,
        "column": 30,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 6,
        "endColumn": 48
      },
      {
        "ruleId": "react-hooks/exhaustive-deps",
        "severity": 2,
        "message": "React Hook useEffect has a missing dependency: 'fetchUserPermissions'. Either include it or remove the dependency array.",
        "line": 73,
        "column": 6,
        "nodeType": "ArrayExpression",
        "endLine": 73,
        "endColumn": 28,
        "suggestions": [
          {
            "desc": "Update the dependencies array to be: [fetchUserPermissions, user.id, user.role]",
            "fix": {
              "range": [2077, 2099],
              "text": "[fetchUserPermissions, user.id, user.role]"
            }
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 3,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "import type { ReactNode } from 'react';\nimport React, { createContext, useContext, useState, useEffect } from 'react';\n\nimport { apiService } from '../services/api';\nimport type { UserCompanyAccess } from '../types';\nimport { CompanyPermissions, ResourcePermission } from '../types';\n\nimport { useAuth } from './AuthContext';\n\ninterface PermissionsContextType {\n  userCompanyAccess: UserCompanyAccess[];\n  permissionsLoading: boolean;\n  permissionsError: string | null;\n  refreshPermissions: () => Promise<void>;\n}\n\nconst PermissionsContext = createContext<PermissionsContextType | undefined>(\n  undefined\n);\n\nexport const usePermissionsContext = () => {\n  const context = useContext(PermissionsContext);\n  if (!context) {\n    throw new Error(\n      'usePermissionsContext must be used within a PermissionsProvider'\n    );\n  }\n  return context;\n};\n\ninterface PermissionsProviderProps {\n  children: ReactNode;\n}\n\nexport const PermissionsProvider: React.FC<PermissionsProviderProps> = ({\n  children,\n}) => {\n  const { state } = useAuth();\n  const user = state.user;\n  const [userCompanyAccess, setUserCompanyAccess] = useState<\n    UserCompanyAccess[]\n  >([]);\n  const [permissionsLoading, setPermissionsLoading] = useState(false);\n  const [permissionsError, setPermissionsError] = useState<string | null>(null);\n\n  const fetchUserPermissions = async () => {\n    if (!user || user.role === 'admin') {\n      setUserCompanyAccess([]);\n      return;\n    }\n\n    try {\n      setPermissionsLoading(true);\n      setPermissionsError(null);\n      const accessData = await apiService.getUserCompanyAccess(user.id);\n      setUserCompanyAccess(accessData);\n    } catch (error) {\n      console.error('Error fetching user permissions:', error);\n      setPermissionsError('Chyba pri načítavaní oprávnení');\n      setUserCompanyAccess([]);\n    } finally {\n      setPermissionsLoading(false);\n    }\n  };\n\n  const refreshPermissions = async () => {\n    await fetchUserPermissions();\n  };\n\n  // Načítaj permissions len raz pri zmene používateľa\n  useEffect(() => {\n    fetchUserPermissions();\n  }, [user?.id, user?.role]);\n\n  const value: PermissionsContextType = {\n    userCompanyAccess,\n    permissionsLoading,\n    permissionsError,\n    refreshPermissions,\n  };\n\n  return (\n    <PermissionsContext.Provider value={value}>\n      {children}\n    </PermissionsContext.Provider>\n  );\n};\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/context/ThemeContext.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/features/pricing/applyExtraKm.test.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/features/pricing/applyExtraKm.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/hooks/useApiService.ts",
    "messages": [
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 38,
        "column": 28,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 38,
        "endColumn": 31,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [1031, 1034], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [1031, 1034], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 1,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "// 🔧 API Service Hook with Error Handling Integration\n// Provides API service instance with automatic error handling setup\n\nimport { useEffect, useMemo } from 'react';\n\nimport { useError } from '../context/ErrorContext';\nimport { apiService } from '../services/api';\n\n/**\n * Hook that provides API service instance with error context integration\n * Automatically sets up error handling for API calls\n */\nexport const useApiService = () => {\n  const { showError } = useError();\n\n  // Setup error handler when error context is available\n  useEffect(() => {\n    apiService.setErrorHandler(showError);\n  }, [showError]);\n\n  return useMemo(() => apiService, []);\n};\n\n/**\n * Hook for API calls with built-in error handling\n * Use this for one-off API calls in components\n */\nexport const useApiCall = () => {\n  const api = useApiService();\n  const { showError } = useError();\n\n  return useMemo(\n    () => ({\n      api,\n      showError,\n\n      // Convenience method for handling API errors in try-catch blocks\n      handleError: (error: any) => {\n        const errorMessage = error?.message || 'Neznáma chyba API';\n        return showError({\n          message: errorMessage,\n          category: 'server',\n          severity: 'error',\n          context: {\n            originalError: error,\n            timestamp: new Date().toISOString(),\n          },\n        });\n      },\n    }),\n    [api, showError]\n  );\n};\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/hooks/useEnhancedError.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/hooks/useEnhancedSearch.ts",
    "messages": [
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 49,
        "column": 16,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 49,
        "endColumn": 19,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [1143, 1146], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [1143, 1146], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 49,
        "column": 25,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 49,
        "endColumn": 28,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [1152, 1155], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [1152, 1155], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 53,
        "column": 39,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 53,
        "endColumn": 42,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [1297, 1300], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [1297, 1300], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 65,
        "column": 12,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 65,
        "endColumn": 15,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [1540, 1543], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [1540, 1543], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 2,
        "message": "'placeholder' is assigned a value but never used.",
        "line": 102,
        "column": 3,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 102,
        "endColumn": 14
      },
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 2,
        "message": "'quickFilters' is assigned a value but never used.",
        "line": 103,
        "column": 3,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 103,
        "endColumn": 15
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 108,
        "column": 42,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 108,
        "endColumn": 45,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [2590, 2593], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [2590, 2593], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 7,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "/**\n * 🔍 ENHANCED SEARCH HOOK\n *\n * Unified search system pre celú aplikáciu:\n * - Debounced search s performance optimalizáciou\n * - Search suggestions s autocomplete\n * - Search history tracking\n * - Quick filters\n * - Mobile-optimized UX\n */\n\nimport { useState, useMemo, useCallback, useRef, useEffect } from 'react';\n\nimport { debounce } from '../utils/debounce';\n\nexport interface SearchSuggestion {\n  id: string;\n  text: string;\n  type: 'recent' | 'suggestion' | 'quick_filter';\n  category?: string;\n  count?: number;\n}\n\nexport interface QuickFilter {\n  id: string;\n  label: string;\n  value: string;\n  color: 'primary' | 'secondary' | 'success' | 'warning' | 'error' | 'info';\n  icon?: string;\n  count?: number;\n}\n\nexport interface SearchOptions {\n  debounceDelay?: number;\n  minQueryLength?: number;\n  maxSuggestions?: number;\n  maxHistory?: number;\n  storageKey?: string;\n  enableHistory?: boolean;\n  enableSuggestions?: boolean;\n  placeholder?: string;\n  quickFilters?: QuickFilter[];\n}\n\nexport interface UseEnhancedSearchOptions extends SearchOptions {\n  searchFunction: (\n    query: string,\n    quickFilter?: string\n  ) => Promise<any[]> | any[];\n  suggestionFunction?: (\n    query: string\n  ) => Promise<SearchSuggestion[]> | SearchSuggestion[];\n  onSearch?: (query: string, results: any[]) => void;\n  onClear?: () => void;\n}\n\nexport interface UseEnhancedSearchReturn {\n  // Search state\n  query: string;\n  setQuery: (query: string) => void;\n  isSearching: boolean;\n  activeQuickFilter: string | null;\n\n  // Results\n  results: any[];\n  suggestions: SearchSuggestion[];\n\n  // History\n  searchHistory: string[];\n  clearHistory: () => void;\n\n  // Actions\n  search: (query: string) => void;\n  clearSearch: () => void;\n  selectSuggestion: (suggestion: SearchSuggestion) => void;\n  setQuickFilter: (filterId: string | null) => void;\n\n  // UI state\n  showSuggestions: boolean;\n  setShowSuggestions: (show: boolean) => void;\n\n  // Performance\n  searchStats: {\n    duration: number;\n    resultCount: number;\n    lastSearchTime: number;\n  };\n}\n\nexport const useEnhancedSearch = ({\n  searchFunction,\n  suggestionFunction,\n  onSearch,\n  onClear,\n  debounceDelay = 300,\n  minQueryLength = 2,\n  maxSuggestions = 8,\n  maxHistory = 10,\n  storageKey = 'search_history',\n  enableHistory = true,\n  enableSuggestions = true,\n  placeholder = 'Hľadať...',\n  quickFilters = [],\n}: UseEnhancedSearchOptions): UseEnhancedSearchReturn => {\n  // Search state\n  const [query, setQueryState] = useState('');\n  const [isSearching, setIsSearching] = useState(false);\n  const [results, setResults] = useState<any[]>([]);\n  const [suggestions, setSuggestions] = useState<SearchSuggestion[]>([]);\n  const [searchHistory, setSearchHistory] = useState<string[]>([]);\n  const [showSuggestions, setShowSuggestions] = useState(false);\n  const [activeQuickFilter, setActiveQuickFilter] = useState<string | null>(\n    null\n  );\n\n  // Performance tracking\n  const [searchStats, setSearchStats] = useState({\n    duration: 0,\n    resultCount: 0,\n    lastSearchTime: 0,\n  });\n\n  // Refs pre cleanup\n  const searchAbortController = useRef<AbortController | null>(null);\n  const suggestionAbortController = useRef<AbortController | null>(null);\n\n  // Load search history from localStorage\n  useEffect(() => {\n    if (enableHistory && storageKey) {\n      try {\n        const stored = localStorage.getItem(storageKey);\n        if (stored) {\n          const history = JSON.parse(stored);\n          setSearchHistory(\n            Array.isArray(history) ? history.slice(0, maxHistory) : []\n          );\n        }\n      } catch (error) {\n        console.warn('Failed to load search history:', error);\n      }\n    }\n  }, [enableHistory, storageKey, maxHistory]);\n\n  // Save search history to localStorage\n  const saveToHistory = useCallback(\n    (searchQuery: string) => {\n      if (!enableHistory || !storageKey || !searchQuery.trim()) return;\n\n      try {\n        const newHistory = [\n          searchQuery,\n          ...searchHistory.filter(h => h !== searchQuery),\n        ].slice(0, maxHistory);\n\n        setSearchHistory(newHistory);\n        localStorage.setItem(storageKey, JSON.stringify(newHistory));\n      } catch (error) {\n        console.warn('Failed to save search history:', error);\n      }\n    },\n    [enableHistory, storageKey, searchHistory, maxHistory]\n  );\n\n  // Debounced search function\n  const debouncedSearch = useMemo(\n    () =>\n      debounce(async (searchQuery: string, quickFilter?: string) => {\n        if (searchQuery.length < minQueryLength && !quickFilter) {\n          setResults([]);\n          setIsSearching(false);\n          return;\n        }\n\n        // Cancel previous search\n        if (searchAbortController.current) {\n          searchAbortController.current.abort();\n        }\n\n        searchAbortController.current = new AbortController();\n        setIsSearching(true);\n\n        try {\n          const startTime = performance.now();\n          const searchResults = await searchFunction(searchQuery, quickFilter);\n          const duration = performance.now() - startTime;\n\n          setResults(searchResults);\n          setSearchStats({\n            duration,\n            resultCount: searchResults.length,\n            lastSearchTime: Date.now(),\n          });\n\n          // Save to history\n          if (searchQuery.trim()) {\n            saveToHistory(searchQuery);\n          }\n\n          onSearch?.(searchQuery, searchResults);\n\n          console.log(\n            `🔍 Search completed: \"${searchQuery}\" → ${searchResults.length} results (${duration.toFixed(2)}ms)`\n          );\n        } catch (error: unknown) {\n          if (error.name !== 'AbortError') {\n            console.error('Search error:', error);\n            setResults([]);\n          }\n        } finally {\n          setIsSearching(false);\n        }\n      }, debounceDelay),\n    [searchFunction, debounceDelay, minQueryLength, saveToHistory, onSearch]\n  );\n\n  // Debounced suggestions\n  const debouncedSuggestions = useMemo(\n    () =>\n      debounce(async (searchQuery: string) => {\n        if (\n          !enableSuggestions ||\n          !suggestionFunction ||\n          searchQuery.length < 1\n        ) {\n          setSuggestions([]);\n          return;\n        }\n\n        // Cancel previous suggestions request\n        if (suggestionAbortController.current) {\n          suggestionAbortController.current.abort();\n        }\n\n        suggestionAbortController.current = new AbortController();\n\n        try {\n          const suggestionResults = await suggestionFunction(searchQuery);\n\n          // Combine with search history\n          const historySuggestions: SearchSuggestion[] = enableHistory\n            ? searchHistory\n                .filter(\n                  h =>\n                    h.toLowerCase().includes(searchQuery.toLowerCase()) &&\n                    h !== searchQuery\n                )\n                .slice(0, 3)\n                .map(h => ({\n                  id: `history_${h}`,\n                  text: h,\n                  type: 'recent' as const,\n                  category: 'História',\n                }))\n            : [];\n\n          const allSuggestions = [\n            ...historySuggestions,\n            ...suggestionResults,\n          ].slice(0, maxSuggestions);\n\n          setSuggestions(allSuggestions);\n        } catch (error: unknown) {\n          if (error.name !== 'AbortError') {\n            console.error('Suggestions error:', error);\n            setSuggestions([]);\n          }\n        }\n      }, 150),\n    [\n      suggestionFunction,\n      enableSuggestions,\n      enableHistory,\n      searchHistory,\n      maxSuggestions,\n    ]\n  );\n\n  // Search function\n  const search = useCallback(\n    (searchQuery: string) => {\n      setQueryState(searchQuery);\n      debouncedSearch(searchQuery, activeQuickFilter || undefined);\n\n      if (enableSuggestions && searchQuery.length > 0) {\n        debouncedSuggestions(searchQuery);\n      } else {\n        setSuggestions([]);\n      }\n    },\n    [\n      debouncedSearch,\n      debouncedSuggestions,\n      activeQuickFilter,\n      enableSuggestions,\n    ]\n  );\n\n  // Set query wrapper\n  const setQuery = useCallback(\n    (newQuery: string) => {\n      search(newQuery);\n    },\n    [search]\n  );\n\n  // Clear search\n  const clearSearch = useCallback(() => {\n    setQueryState('');\n    setResults([]);\n    setSuggestions([]);\n    setShowSuggestions(false);\n    setActiveQuickFilter(null);\n\n    // Cancel ongoing requests\n    if (searchAbortController.current) {\n      searchAbortController.current.abort();\n    }\n    if (suggestionAbortController.current) {\n      suggestionAbortController.current.abort();\n    }\n\n    onClear?.();\n  }, [onClear]);\n\n  // Clear history\n  const clearHistory = useCallback(() => {\n    setSearchHistory([]);\n    if (enableHistory && storageKey) {\n      try {\n        localStorage.removeItem(storageKey);\n      } catch (error) {\n        console.warn('Failed to clear search history:', error);\n      }\n    }\n  }, [enableHistory, storageKey]);\n\n  // Select suggestion\n  const selectSuggestion = useCallback(\n    (suggestion: SearchSuggestion) => {\n      setQuery(suggestion.text);\n      setShowSuggestions(false);\n    },\n    [setQuery]\n  );\n\n  // Set quick filter\n  const setQuickFilter = useCallback(\n    (filterId: string | null) => {\n      setActiveQuickFilter(filterId);\n      // Re-search with current query and new filter\n      if (query || filterId) {\n        debouncedSearch(query, filterId || undefined);\n      }\n    },\n    [query, debouncedSearch]\n  );\n\n  // Cleanup on unmount\n  useEffect(() => {\n    return () => {\n      // Cancel ongoing requests\n      if (searchAbortController.current) {\n        searchAbortController.current.abort();\n      }\n      if (suggestionAbortController.current) {\n        suggestionAbortController.current.abort();\n      }\n    };\n  }, []);\n\n  return {\n    // Search state\n    query,\n    setQuery,\n    isSearching,\n    activeQuickFilter,\n\n    // Results\n    results,\n    suggestions,\n\n    // History\n    searchHistory,\n    clearHistory,\n\n    // Actions\n    search,\n    clearSearch,\n    selectSuggestion,\n    setQuickFilter,\n\n    // UI state\n    showSuggestions,\n    setShowSuggestions,\n\n    // Performance\n    searchStats,\n  };\n};\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/hooks/useInfiniteCompanies.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/hooks/useInfiniteCustomers.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/hooks/useInfiniteData.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/hooks/useInfiniteInsurances.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/hooks/useInfiniteRentals.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/hooks/useInfiniteScroll.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/hooks/useInfiniteVehicles.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/hooks/useLazyImage.ts",
    "messages": [
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 112,
        "column": 34,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 112,
        "endColumn": 37,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [3023, 3026], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [3023, 3026], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 113,
        "column": 27,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 113,
        "endColumn": 30,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [3054, 3057], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [3054, 3057], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 2,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "/**\n * 🖼️ LAZY IMAGE LOADING HOOK\n *\n * Hook pre progressive image loading s Intersection Observer API\n */\n\nimport { useState, useEffect, useRef, useCallback } from 'react';\n\ninterface UseLazyImageOptions {\n  threshold?: number;\n  rootMargin?: string;\n  fallbackDelay?: number;\n  retryAttempts?: number;\n  onLoad?: () => void;\n  onError?: (error: React.SyntheticEvent<HTMLImageElement>) => void;\n}\n\ninterface UseLazyImageReturn {\n  src: string | null;\n  isLoading: boolean;\n  hasError: boolean;\n  isInView: boolean;\n  retry: () => void;\n  imageRef: React.RefObject<HTMLImageElement>;\n}\n\nexport const useLazyImage = (\n  imageSrc: string,\n  options: UseLazyImageOptions = {}\n): UseLazyImageReturn => {\n  const {\n    threshold = 0.1,\n    rootMargin = '50px',\n    fallbackDelay = 3000,\n    retryAttempts = 3,\n    onLoad,\n    onError,\n  } = options;\n\n  const [src, setSrc] = useState<string | null>(null);\n  const [isLoading, setIsLoading] = useState(false);\n  const [hasError, setHasError] = useState(false);\n  const [isInView, setIsInView] = useState(false);\n  const [retryCount, setRetryCount] = useState(0);\n\n  const imageRef = useRef<HTMLImageElement>(null);\n  const observerRef = useRef<IntersectionObserver | null>(null);\n  const loadTimeoutRef = useRef<NodeJS.Timeout | null>(null);\n\n  // Preload image\n  const loadImage = useCallback(async () => {\n    if (!imageSrc || hasError || src) return;\n\n    setIsLoading(true);\n    setHasError(false);\n\n    try {\n      // Create new image element for preloading\n      const img = new Image();\n\n      // Promise-based image loading\n      await new Promise<void>((resolve, reject) => {\n        img.onload = () => {\n          console.log(`🖼️ Image loaded: ${imageSrc}`);\n          resolve();\n        };\n\n        img.onerror = error => {\n          console.error(`❌ Image failed to load: ${imageSrc}`, error);\n          reject(error);\n        };\n\n        // Set timeout as fallback\n        loadTimeoutRef.current = setTimeout(() => {\n          reject(new Error('Image load timeout'));\n        }, fallbackDelay);\n\n        img.src = imageSrc;\n      });\n\n      // Clear timeout if image loaded successfully\n      if (loadTimeoutRef.current) {\n        clearTimeout(loadTimeoutRef.current);\n        loadTimeoutRef.current = null;\n      }\n\n      setSrc(imageSrc);\n      setIsLoading(false);\n      onLoad?.();\n    } catch (error) {\n      console.error('Image loading failed:', error);\n\n      if (loadTimeoutRef.current) {\n        clearTimeout(loadTimeoutRef.current);\n        loadTimeoutRef.current = null;\n      }\n\n      setIsLoading(false);\n\n      if (retryCount < retryAttempts) {\n        // Exponential backoff for retry\n        const delay = Math.pow(2, retryCount) * 1000;\n        setTimeout(() => {\n          setRetryCount(prev => prev + 1);\n          loadImage();\n        }, delay);\n      } else {\n        setHasError(true);\n        // Create synthetic event for consistency\n        const syntheticError = {\n          nativeEvent: error as Event,\n          currentTarget: null as any,\n          target: null as any,\n          bubbles: false,\n          cancelable: false,\n          defaultPrevented: false,\n          eventPhase: 0,\n          isTrusted: false,\n          preventDefault: () => {},\n          isDefaultPrevented: () => false,\n          stopPropagation: () => {},\n          isPropagationStopped: () => false,\n          persist: () => {},\n          timeStamp: Date.now(),\n          type: 'error',\n        } as React.SyntheticEvent<HTMLImageElement>;\n        onError?.(syntheticError);\n      }\n    }\n  }, [\n    imageSrc,\n    hasError,\n    src,\n    retryCount,\n    retryAttempts,\n    fallbackDelay,\n    onLoad,\n    onError,\n  ]);\n\n  // Manual retry function\n  const retry = useCallback(() => {\n    setHasError(false);\n    setSrc(null);\n    setRetryCount(0);\n    loadImage();\n  }, [loadImage]);\n\n  // Setup Intersection Observer\n  useEffect(() => {\n    const imageElement = imageRef.current;\n    if (!imageElement) return;\n\n    // Create observer\n    observerRef.current = new IntersectionObserver(\n      ([entry]) => {\n        if (entry.isIntersecting) {\n          console.log('🎯 Image in view, starting lazy load:', imageSrc);\n          setIsInView(true);\n\n          // Start loading image\n          loadImage();\n\n          // Stop observing after first intersection\n          if (observerRef.current) {\n            observerRef.current.disconnect();\n          }\n        }\n      },\n      {\n        threshold,\n        rootMargin,\n      }\n    );\n\n    // Start observing\n    observerRef.current.observe(imageElement);\n\n    return () => {\n      if (observerRef.current) {\n        observerRef.current.disconnect();\n      }\n      if (loadTimeoutRef.current) {\n        clearTimeout(loadTimeoutRef.current);\n      }\n    };\n  }, [imageSrc, threshold, rootMargin, loadImage]);\n\n  // Cleanup on unmount\n  useEffect(() => {\n    return () => {\n      if (loadTimeoutRef.current) {\n        clearTimeout(loadTimeoutRef.current);\n      }\n    };\n  }, []);\n\n  return {\n    src,\n    isLoading,\n    hasError,\n    isInView,\n    retry,\n    imageRef,\n  };\n};\n\n/**\n * 🎭 Preload images utility\n */\nexport const preloadImages = (imageUrls: string[]): Promise<string[]> => {\n  return Promise.allSettled(\n    imageUrls.map(url => {\n      return new Promise<string>((resolve, reject) => {\n        const img = new Image();\n        img.onload = () => resolve(url);\n        img.onerror = () => reject(new Error(`Failed to preload: ${url}`));\n        img.src = url;\n      });\n    })\n  ).then(results => {\n    const successful = results\n      .filter(\n        (result): result is PromiseFulfilledResult<string> =>\n          result.status === 'fulfilled'\n      )\n      .map(result => result.value);\n\n    console.log(`🎭 Preloaded ${successful.length}/${imageUrls.length} images`);\n    return successful;\n  });\n};\n\n/**\n * 📱 Progressive image quality hook\n */\nexport const useProgressiveImage = (\n  lowQualitySrc: string,\n  highQualitySrc: string,\n  options: UseLazyImageOptions = {}\n) => {\n  const [currentSrc, setCurrentSrc] = useState<string>(lowQualitySrc);\n  const [isHighQuality, setIsHighQuality] = useState(false);\n\n  const {\n    src: highQualityLoaded,\n    isLoading: isLoadingHQ,\n    hasError: hasHQError,\n    isInView,\n    retry,\n    imageRef,\n  } = useLazyImage(highQualitySrc, options);\n\n  useEffect(() => {\n    if (highQualityLoaded && !hasHQError) {\n      setCurrentSrc(highQualityLoaded);\n      setIsHighQuality(true);\n    }\n  }, [highQualityLoaded, hasHQError]);\n\n  return {\n    src: currentSrc,\n    isLoading: isLoadingHQ,\n    hasError: hasHQError,\n    isHighQuality,\n    isInView,\n    retry,\n    imageRef,\n  };\n};\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/hooks/useNetworkStatus.ts",
    "messages": [
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 24,
        "column": 15,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 24,
        "endColumn": 18,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [590, 593], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [590, 593], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 63,
        "column": 23,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 63,
        "endColumn": 26,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [1747, 1750], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [1747, 1750], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 64,
        "column": 23,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 64,
        "endColumn": 26,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [1788, 1791], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [1788, 1791], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 65,
        "column": 23,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 65,
        "endColumn": 26,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [1832, 1835], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [1832, 1835], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 123,
        "column": 21,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 123,
        "endColumn": 24,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [3342, 3345], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [3342, 3345], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 124,
        "column": 21,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 124,
        "endColumn": 24,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [3381, 3384], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [3381, 3384], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 125,
        "column": 21,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 125,
        "endColumn": 24,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [3423, 3426], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [3423, 3426], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 145,
        "column": 61,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 145,
        "endColumn": 64,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [3963, 3966], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [3963, 3966], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 8,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "// 📶 Network Status Hook\n// Monitors network connectivity and provides connection status\n\nimport { useState, useEffect } from 'react';\n\nimport { useError } from '../context/ErrorContext';\n\ninterface NetworkStatus {\n  isOnline: boolean;\n  effectiveType?: string;\n  downlink?: number;\n  rtt?: number;\n  saveData?: boolean;\n}\n\ninterface UseNetworkStatusReturn extends NetworkStatus {\n  wasOffline: boolean;\n  reconnectedAt?: Date;\n  networkQuality: 'slow' | 'medium' | 'fast' | 'unknown';\n}\n\n// Network quality assessment based on connection info\nconst assessNetworkQuality = (\n  connection: any\n): 'slow' | 'medium' | 'fast' | 'unknown' => {\n  if (!connection) return 'unknown';\n\n  const { effectiveType, downlink, rtt } = connection;\n\n  // Based on effective connection type\n  if (effectiveType === 'slow-2g' || effectiveType === '2g') return 'slow';\n  if (effectiveType === '3g') return 'medium';\n  if (effectiveType === '4g') return 'fast';\n\n  // Based on downlink speed (Mbps) and RTT (ms)\n  if (downlink && rtt) {\n    if (downlink < 1 || rtt > 500) return 'slow';\n    if (downlink < 5 || rtt > 200) return 'medium';\n    return 'fast';\n  }\n\n  return 'unknown';\n};\n\nexport const useNetworkStatus = (): UseNetworkStatusReturn => {\n  const { showError } = useError();\n\n  const [networkStatus, setNetworkStatus] = useState<NetworkStatus>({\n    isOnline: navigator.onLine,\n    effectiveType: undefined,\n    downlink: undefined,\n    rtt: undefined,\n    saveData: undefined,\n  });\n\n  const [wasOffline, setWasOffline] = useState(false);\n  const [reconnectedAt, setReconnectedAt] = useState<Date>();\n\n  useEffect(() => {\n    // Get initial network connection info\n    const updateConnectionInfo = () => {\n      const connection =\n        (navigator as any).connection ||\n        (navigator as any).mozConnection ||\n        (navigator as any).webkitConnection;\n\n      if (connection) {\n        setNetworkStatus(prev => ({\n          ...prev,\n          effectiveType: connection.effectiveType,\n          downlink: connection.downlink,\n          rtt: connection.rtt,\n          saveData: connection.saveData,\n        }));\n      }\n    };\n\n    const handleOnline = () => {\n      const now = new Date();\n      setNetworkStatus(prev => ({ ...prev, isOnline: true }));\n\n      if (wasOffline) {\n        setReconnectedAt(now);\n        setWasOffline(false);\n\n        // Show reconnection success message\n        showError({\n          message: '✅ Pripojenie k internetu obnovené',\n          category: 'network',\n          severity: 'info',\n          details: `Obnovené o ${now.toLocaleTimeString()}`,\n          retry: false,\n        });\n      }\n\n      updateConnectionInfo();\n    };\n\n    const handleOffline = () => {\n      setNetworkStatus(prev => ({ ...prev, isOnline: false }));\n      setWasOffline(true);\n\n      // Show offline warning\n      showError({\n        message: '⚠️ Stratené internetové pripojenie',\n        category: 'network',\n        severity: 'warning',\n        details:\n          'Niektoré funkcie môžu byť obmedzené až do obnovenia pripojenia.',\n        retry: false,\n      });\n    };\n\n    const handleConnectionChange = () => {\n      updateConnectionInfo();\n    };\n\n    // Event listeners\n    window.addEventListener('online', handleOnline);\n    window.addEventListener('offline', handleOffline);\n\n    const connection =\n      (navigator as any).connection ||\n      (navigator as any).mozConnection ||\n      (navigator as any).webkitConnection;\n\n    if (connection) {\n      connection.addEventListener('change', handleConnectionChange);\n    }\n\n    // Initial connection info\n    updateConnectionInfo();\n\n    // Cleanup\n    return () => {\n      window.removeEventListener('online', handleOnline);\n      window.removeEventListener('offline', handleOffline);\n\n      if (connection) {\n        connection.removeEventListener('change', handleConnectionChange);\n      }\n    };\n  }, [wasOffline, showError]);\n\n  const networkQuality = assessNetworkQuality((navigator as any).connection);\n\n  return {\n    ...networkStatus,\n    wasOffline,\n    reconnectedAt,\n    networkQuality,\n  };\n};\n\n// Hook for detecting poor network conditions\nexport const useNetworkQuality = () => {\n  const { networkQuality, rtt, downlink } = useNetworkStatus();\n\n  const isSlowConnection =\n    networkQuality === 'slow' ||\n    (rtt && rtt > 500) ||\n    (downlink && downlink < 1);\n  const isFastConnection =\n    networkQuality === 'fast' && rtt && rtt < 100 && downlink && downlink > 5;\n\n  return {\n    networkQuality,\n    isSlowConnection,\n    isFastConnection,\n    shouldReduceRequests: isSlowConnection,\n    shouldEnableOptimizations: isSlowConnection,\n  };\n};\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/hooks/useOptimizedFilters.ts",
    "messages": [
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 24,
        "column": 13,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 24,
        "endColumn": 16,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [520, 523], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [520, 523], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "react-hooks/exhaustive-deps",
        "severity": 2,
        "message": "React Hook useCallback received a function whose dependencies are unknown. Pass an inline function instead.",
        "line": 62,
        "column": 27,
        "nodeType": "Identifier",
        "endLine": 62,
        "endColumn": 38
      }
    ],
    "suppressedMessages": [],
    "errorCount": 2,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "/**\n * 🪝 OPTIMIZED FILTERS HOOK\n *\n * Hook pre optimalizované filtrovanie s memoization a debouncing\n */\n\nimport { useMemo, useCallback } from 'react';\n\nimport type { Rental } from '../types';\nimport { debounce } from '../utils/debounce';\nimport type {\n  FilterCriteria,\n  VehicleLookup,\n  ProtocolLookup,\n} from '../utils/rentalFilters';\nimport {\n  applyAllFilters,\n  createVehicleLookup,\n  getUniqueFilterValues,\n} from '../utils/rentalFilters';\n\ninterface UseOptimizedFiltersProps {\n  rentals: Rental[];\n  vehicles: any[];\n  protocols: ProtocolLookup;\n  filterCriteria: FilterCriteria;\n}\n\nexport const useOptimizedFilters = ({\n  rentals,\n  vehicles,\n  protocols,\n  filterCriteria,\n}: UseOptimizedFiltersProps) => {\n  // Memoized vehicle lookup pre rýchly prístup\n  const vehicleLookup: VehicleLookup = useMemo(() => {\n    return createVehicleLookup(vehicles);\n  }, [vehicles]);\n\n  // Memoized unique values pre filter options\n  const filterOptions = useMemo(() => {\n    return getUniqueFilterValues(rentals, vehicleLookup);\n  }, [rentals, vehicleLookup]);\n\n  // Memoized filtered rentals\n  const filteredRentals = useMemo(() => {\n    if (!rentals || rentals.length === 0) return [];\n\n    console.time('🔍 Filter rentals');\n    const result = applyAllFilters(\n      rentals,\n      filterCriteria,\n      vehicleLookup,\n      protocols\n    );\n    console.timeEnd('🔍 Filter rentals');\n\n    return result;\n  }, [rentals, filterCriteria, vehicleLookup, protocols]);\n\n  // Debounced search function\n  const debouncedSearch = useCallback(\n    debounce((searchQuery: string, callback: (query: string) => void) => {\n      callback(searchQuery);\n    }, 300),\n    []\n  );\n\n  // Helper function pre count stats\n  const getFilterStats = useCallback(() => {\n    return {\n      total: rentals.length,\n      filtered: filteredRentals.length,\n      hasFilters: Object.values(filterCriteria).some(\n        value => value !== 'all' && value !== '' && value !== null\n      ),\n    };\n  }, [rentals.length, filteredRentals.length, filterCriteria]);\n\n  // Optimalizované sorting\n  const sortedAndFilteredRentals = useMemo(() => {\n    // Môžme pridať default sorting ak potrebujeme\n    return filteredRentals.sort((a, b) => {\n      // Sort by creation date (newest first)\n      return (\n        new Date(b.createdAt || 0).getTime() -\n        new Date(a.createdAt || 0).getTime()\n      );\n    });\n  }, [filteredRentals]);\n\n  // Performance measurement\n  const measureFilterPerformance = useCallback(() => {\n    const start = performance.now();\n    const result = applyAllFilters(\n      rentals,\n      filterCriteria,\n      vehicleLookup,\n      protocols\n    );\n    const end = performance.now();\n\n    console.log(\n      `🏃‍♂️ Filter performance: ${end - start}ms for ${rentals.length} rentals → ${result.length} results`\n    );\n\n    return {\n      duration: end - start,\n      inputCount: rentals.length,\n      outputCount: result.length,\n      efficiency:\n        (((rentals.length - result.length) / rentals.length) * 100).toFixed(1) +\n        '%',\n    };\n  }, [rentals, filterCriteria, vehicleLookup, protocols]);\n\n  return {\n    // Filtered data\n    filteredRentals: sortedAndFilteredRentals,\n    vehicleLookup,\n\n    // Filter options\n    filterOptions,\n\n    // Stats\n    stats: getFilterStats(),\n\n    // Utilities\n    debouncedSearch,\n    measureFilterPerformance,\n  };\n};\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/hooks/usePWA.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/hooks/usePerformanceOptimization.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/hooks/usePermissions.ts",
    "messages": [
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 2,
        "message": "'_resource' is defined but never used.",
        "line": 114,
        "column": 3,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 114,
        "endColumn": 36
      },
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 2,
        "message": "'_action' is defined but never used.",
        "line": 115,
        "column": 3,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 115,
        "endColumn": 36
      },
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 2,
        "message": "'_context' is defined but never used.",
        "line": 116,
        "column": 3,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 122,
        "endColumn": 4
      }
    ],
    "suppressedMessages": [],
    "errorCount": 3,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "import { useMemo } from 'react';\n\nimport { useAuth } from '../context/AuthContext';\nimport { usePermissionsContext } from '../context/PermissionsContext';\nimport type {\n  CompanyPermissions,\n  Permission,\n  PermissionResult,\n  UserCompanyAccess,\n  UserRole,\n} from '../types';\n\n// 🔐 FRONTEND ROLE PERMISSIONS MATRIX (fallback pre admin)\nexport const ROLE_PERMISSIONS: Record<UserRole, Permission[]> = {\n  // 👑 ADMIN - Úplné práva na všetko\n  admin: [\n    {\n      resource: '*',\n      actions: ['read', 'create', 'update', 'delete'],\n      conditions: {},\n    },\n  ],\n\n  // Ostatné roly sa teraz riadia company-based permissions\n  employee: [],\n  temp_worker: [],\n  mechanic: [],\n  sales_rep: [],\n  company_owner: [],\n};\n\n// 🛡️ COMPANY-BASED PERMISSION CHECK FUNCTION\nexport function hasCompanyPermission(\n  userCompanyAccess: UserCompanyAccess[],\n  userRole: UserRole,\n  resource: string,\n  action: 'read' | 'write' | 'delete',\n  context?: {\n    companyId?: string;\n    userId?: string;\n  }\n): PermissionResult {\n  // Admin má vždy práva\n  if (userRole === 'admin') {\n    return { hasAccess: true, requiresApproval: false };\n  }\n\n  // Ak nie je zadané companyId, skontroluj všetky firmy používateľa\n  if (!context?.companyId) {\n    // Má používateľ prístup k tomuto resource aspoň v jednej firme?\n    const hasAnyAccess = userCompanyAccess.some(access => {\n      const resourcePermission =\n        access.permissions[resource as keyof CompanyPermissions];\n      if (!resourcePermission) return false;\n\n      if (action === 'read') return resourcePermission.read;\n      if (action === 'write') return resourcePermission.write;\n      if (action === 'delete') return resourcePermission.delete;\n      return false;\n    });\n\n    if (hasAnyAccess) {\n      return { hasAccess: true, requiresApproval: false };\n    } else {\n      return {\n        hasAccess: false,\n        requiresApproval: false,\n        reason: 'Nemáte oprávnenie k tomuto zdroju v žiadnej firme',\n      };\n    }\n  }\n\n  // Kontrola pre konkrétnu firmu\n  const companyAccess = userCompanyAccess.find(\n    access => access.companyId === context.companyId\n  );\n  if (!companyAccess) {\n    return {\n      hasAccess: false,\n      requiresApproval: false,\n      reason: 'Nemáte prístup k tejto firme',\n    };\n  }\n\n  const resourcePermission =\n    companyAccess.permissions[resource as keyof CompanyPermissions];\n  if (!resourcePermission) {\n    return {\n      hasAccess: false,\n      requiresApproval: false,\n      reason: 'Neznámy zdroj',\n    };\n  }\n\n  let hasAccess = false;\n  if (action === 'read') hasAccess = resourcePermission.read;\n  if (action === 'write') hasAccess = resourcePermission.write;\n  if (action === 'delete') hasAccess = resourcePermission.delete;\n\n  if (hasAccess) {\n    return { hasAccess: true, requiresApproval: false };\n  } else {\n    return {\n      hasAccess: false,\n      requiresApproval: false,\n      reason: `Nemáte oprávnenie na '${action}' pre '${resource}' v tejto firme`,\n    };\n  }\n}\n\n// 🛡️ LEGACY PERMISSION CHECK FUNCTION (pre spätnú kompatibilitu)\nexport function hasLegacyPermission(\n  _userRole: UserRole,\n  _resource: Permission['resource'],\n  _action: Permission['actions'][0],\n  _context?: {\n    userId?: string;\n    companyId?: string;\n    resourceOwnerId?: string;\n    resourceCompanyId?: string;\n    amount?: number;\n  }\n): PermissionResult {\n  // Admin má vždy práva\n  if (_userRole === 'admin') {\n    return { hasAccess: true, requiresApproval: false };\n  }\n\n  // Pre ostatné roly vráti false - používajú sa company permissions\n  return {\n    hasAccess: false,\n    requiresApproval: false,\n    reason: 'Používajte company-based permissions',\n  };\n}\n\n// 🎯 REACT HOOK PRE PERMISSIONS\nexport function usePermissions() {\n  const { state } = useAuth();\n  const user = state.user;\n  const { userCompanyAccess, permissionsLoading, permissionsError } =\n    usePermissionsContext();\n\n  const permissions = useMemo(() => {\n    if (!user) {\n      return {\n        canRead: () => false,\n        canCreate: () => false,\n        canUpdate: () => false,\n        canDelete: () => false,\n        hasPermission: (): PermissionResult => ({\n          hasAccess: false,\n          requiresApproval: false,\n          reason: 'Používateľ nie je prihlásený',\n        }),\n        hasCompanyPermission: (): PermissionResult => ({\n          hasAccess: false,\n          requiresApproval: false,\n          reason: 'Používateľ nie je prihlásený',\n        }),\n        getUserPermissions: () => [],\n        getUserCompanyAccess: () => [],\n        getAccessibleCompanies: () => [],\n        currentUser: null,\n        isAdmin: false,\n        isEmployee: false,\n        isTempWorker: false,\n        isMechanic: false,\n        isSalesRep: false,\n        isCompanyOwner: false,\n        permissionsLoading: false,\n        permissionsError: null,\n      };\n    }\n\n    return {\n      // 🔍 COMPANY-BASED PERMISSION FUNCTIONS\n      canRead: (resource: string, context?: { companyId?: string }) => {\n        // Pre company_owner - automaticky povolí resources definované v backend ROLE_PERMISSIONS\n        if (user.role === 'company_owner') {\n          const backendPermissions = [\n            'vehicles',\n            'rentals',\n            'expenses',\n            'insurances',\n            'companies',\n            'finances',\n            'protocols',\n            'settlements',\n            'customers',\n          ];\n          if (backendPermissions.includes(resource)) {\n            return true;\n          }\n        }\n        return hasCompanyPermission(\n          userCompanyAccess,\n          user.role,\n          resource,\n          'read',\n          context\n        ).hasAccess;\n      },\n\n      canCreate: (resource: string, context?: { companyId?: string }) => {\n        // Pre company_owner - obmedzené create permissions\n        if (user.role === 'company_owner') {\n          const writePermissions = ['rentals', 'expenses', 'settlements']; // len niektoré resources môže vytvárať\n          if (writePermissions.includes(resource)) {\n            return true;\n          }\n          return false;\n        }\n        return hasCompanyPermission(\n          userCompanyAccess,\n          user.role,\n          resource,\n          'write',\n          context\n        ).hasAccess;\n      },\n\n      canUpdate: (resource: string, context?: { companyId?: string }) => {\n        // Pre company_owner - obmedzené update permissions\n        if (user.role === 'company_owner') {\n          const updatePermissions = ['companies', 'settlements']; // len svoju firmu a vyúčtovania môže upraviť\n          if (updatePermissions.includes(resource)) {\n            return true;\n          }\n          return false;\n        }\n        return hasCompanyPermission(\n          userCompanyAccess,\n          user.role,\n          resource,\n          'write',\n          context\n        ).hasAccess;\n      },\n\n      canDelete: (resource: string, context?: { companyId?: string }) => {\n        // Pre company_owner - obmedzené delete permissions\n        if (user.role === 'company_owner') {\n          const deletePermissions = ['settlements']; // len vyúčtovania môže mazať\n          if (deletePermissions.includes(resource)) {\n            return true;\n          }\n          return false;\n        }\n        return hasCompanyPermission(\n          userCompanyAccess,\n          user.role,\n          resource,\n          'delete',\n          context\n        ).hasAccess;\n      },\n\n      // 🛡️ FULL PERMISSION CHECK\n      hasPermission: (\n        resource: Permission['resource'],\n        action: Permission['actions'][0],\n        context?: Record<string, unknown>\n      ): PermissionResult => {\n        // Pre admin používame legacy funkciu\n        if (user.role === 'admin') {\n          return hasLegacyPermission(user.role, resource, action, {\n            userId: user.id,\n            companyId: user.companyId,\n            ...context,\n          });\n        }\n\n        // Pre company_owner používame vlastnú logiku\n        if (user.role === 'company_owner') {\n          const backendPermissions = [\n            'vehicles',\n            'rentals',\n            'expenses',\n            'insurances',\n            'companies',\n            'finances',\n            'protocols',\n            'settlements',\n            'customers',\n          ];\n\n          if (action === 'read' && backendPermissions.includes(resource)) {\n            return { hasAccess: true, requiresApproval: false };\n          }\n\n          if (\n            action === 'create' &&\n            ['rentals', 'expenses', 'settlements'].includes(resource)\n          ) {\n            return { hasAccess: true, requiresApproval: false };\n          }\n\n          if (\n            action === 'update' &&\n            ['companies', 'settlements'].includes(resource)\n          ) {\n            return { hasAccess: true, requiresApproval: false };\n          }\n\n          if (action === 'delete' && ['settlements'].includes(resource)) {\n            return { hasAccess: true, requiresApproval: false };\n          }\n\n          return {\n            hasAccess: false,\n            requiresApproval: false,\n            reason: 'Company owner nemá oprávnenie na túto akciu',\n          };\n        }\n\n        // Pre ostatných používame company-based permissions\n        const actionMap = {\n          read: 'read',\n          create: 'write',\n          update: 'write',\n          delete: 'delete',\n        } as const;\n\n        const mappedAction = actionMap[action as keyof typeof actionMap];\n        if (!mappedAction) {\n          return {\n            hasAccess: false,\n            requiresApproval: false,\n            reason: 'Neznáma akcia',\n          };\n        }\n\n        return hasCompanyPermission(\n          userCompanyAccess,\n          user.role,\n          resource,\n          mappedAction,\n          {\n            userId: user.id,\n            companyId: user.companyId,\n            ...context,\n          }\n        );\n      },\n\n      // 🏢 COMPANY-BASED PERMISSION CHECK\n      hasCompanyPermission: (\n        resource: string,\n        action: 'read' | 'write' | 'delete',\n        context?: { companyId?: string }\n      ): PermissionResult => {\n        // Pre company_owner používame vlastnú logiku\n        if (user.role === 'company_owner') {\n          const backendPermissions = [\n            'vehicles',\n            'rentals',\n            'expenses',\n            'insurances',\n            'companies',\n            'finances',\n            'protocols',\n            'settlements',\n            'customers',\n          ];\n\n          if (action === 'read' && backendPermissions.includes(resource)) {\n            return { hasAccess: true, requiresApproval: false };\n          }\n\n          if (\n            action === 'write' &&\n            ['rentals', 'expenses', 'companies', 'settlements'].includes(\n              resource\n            )\n          ) {\n            return { hasAccess: true, requiresApproval: false };\n          }\n\n          if (action === 'delete' && ['settlements'].includes(resource)) {\n            return { hasAccess: true, requiresApproval: false };\n          }\n\n          return {\n            hasAccess: false,\n            requiresApproval: false,\n            reason: 'Company owner nemá oprávnenie na túto akciu',\n          };\n        }\n\n        return hasCompanyPermission(\n          userCompanyAccess,\n          user.role,\n          resource,\n          action,\n          {\n            userId: user.id,\n            ...context,\n          }\n        );\n      },\n\n      // 📋 GET ALL USER PERMISSIONS\n      getUserPermissions: () => ROLE_PERMISSIONS[user.role] || [],\n\n      // 🏢 GET USER COMPANY ACCESS\n      getUserCompanyAccess: () => userCompanyAccess,\n\n      // 🏢 GET ACCESSIBLE COMPANIES\n      getAccessibleCompanies: () =>\n        userCompanyAccess.map(access => ({\n          id: access.companyId,\n          name: access.companyName,\n        })),\n\n      // 👤 CURRENT USER INFO\n      currentUser: user,\n\n      // 🏢 ROLE CHECKS\n      isAdmin: user.role === 'admin',\n      isEmployee: user.role === 'employee',\n      isTempWorker: user.role === 'temp_worker',\n      isMechanic: user.role === 'mechanic',\n      isSalesRep: user.role === 'sales_rep',\n      isCompanyOwner: user.role === 'company_owner',\n\n      // 📊 LOADING & ERROR STATES\n      permissionsLoading,\n      permissionsError,\n    };\n  }, [user, userCompanyAccess, permissionsLoading, permissionsError]);\n\n  return permissions;\n}\n\n// 🎯 UTILITY FUNCTIONS\nexport function canUserAccess(\n  userRole: UserRole,\n  resource: Permission['resource'],\n  action: Permission['actions'][0]\n): boolean {\n  return hasLegacyPermission(userRole, resource, action).hasAccess;\n}\n\nexport function getUserRoleDisplayName(role: UserRole): string {\n  const roleNames: Record<UserRole, string> = {\n    admin: '👑 Administrátor',\n    employee: '👥 Zamestnanec',\n    temp_worker: '🔧 Brigádnik',\n    mechanic: '🔨 Mechanik',\n    sales_rep: '💼 Obchodný zástupca',\n    company_owner: '🏢 Majiteľ vozidiel',\n  };\n\n  return roleNames[role] || role;\n}\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/hooks/useProtocolMedia.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/hooks/usePushNotifications.ts",
    "messages": [
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 2,
        "message": "'handlePermissionChange' is assigned a value but never used.",
        "line": 215,
        "column": 11,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 215,
        "endColumn": 33
      }
    ],
    "suppressedMessages": [],
    "errorCount": 1,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "// 🔔 Push Notifications React Hook\n// Easy-to-use React hook for push notification management\n\nimport { useCallback, useEffect, useState } from 'react';\n\nimport {\n  pushNotificationService,\n  type NotificationPayload,\n  type PushNotificationPreferences,\n} from '../services/pushNotifications';\n\ninterface UsePushNotificationsReturn {\n  // Status\n  isSupported: boolean;\n  isSubscribed: boolean;\n  permission: NotificationPermission;\n  loading: boolean;\n  error: string | null;\n\n  // Preferences\n  preferences: PushNotificationPreferences | null;\n\n  // Actions\n  subscribe: () => Promise<boolean>;\n  unsubscribe: () => Promise<boolean>;\n  updatePreferences: (\n    prefs: Partial<PushNotificationPreferences>\n  ) => Promise<boolean>;\n  sendTestNotification: (payload: NotificationPayload) => Promise<boolean>;\n  refreshStatus: () => Promise<void>;\n}\n\nexport const usePushNotifications = (): UsePushNotificationsReturn => {\n  const [isSupported, setIsSupported] = useState(false);\n  const [isSubscribed, setIsSubscribed] = useState(false);\n  const [permission, setPermission] =\n    useState<NotificationPermission>('default');\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n  const [preferences, setPreferences] =\n    useState<PushNotificationPreferences | null>(null);\n\n  // Initialize push notifications\n  const initialize = useCallback(async () => {\n    setLoading(true);\n    setError(null);\n\n    try {\n      // Initialize service\n      const initialized = await pushNotificationService.initialize();\n\n      if (!initialized) {\n        throw new Error('Failed to initialize push notification service');\n      }\n\n      // Get current status\n      const status = await pushNotificationService.getSubscriptionStatus();\n      setIsSupported(status.isSupported);\n      setIsSubscribed(status.isSubscribed);\n      setPermission(status.permission);\n\n      // Load preferences if subscribed\n      if (status.isSubscribed) {\n        const prefs =\n          await pushNotificationService.getNotificationPreferences();\n        setPreferences(prefs);\n      }\n    } catch (err: unknown) {\n      const errorMessage =\n        err instanceof Error\n          ? err.message\n          : 'Failed to initialize push notifications';\n      setError(errorMessage);\n      console.error('Push notifications initialization error:', err);\n    } finally {\n      setLoading(false);\n    }\n  }, []);\n\n  // Subscribe to push notifications\n  const subscribe = useCallback(async (): Promise<boolean> => {\n    setLoading(true);\n    setError(null);\n\n    try {\n      const success = await pushNotificationService.subscribe();\n\n      if (success) {\n        setIsSubscribed(true);\n        setPermission('granted');\n\n        // Load preferences\n        const prefs =\n          await pushNotificationService.getNotificationPreferences();\n        setPreferences(prefs);\n\n        return true;\n      } else {\n        throw new Error('Failed to subscribe to push notifications');\n      }\n    } catch (err: unknown) {\n      const errorMessage =\n        err instanceof Error ? err.message : 'Failed to subscribe';\n      setError(errorMessage);\n      console.error('Push notification subscription error:', err);\n      return false;\n    } finally {\n      setLoading(false);\n    }\n  }, []);\n\n  // Unsubscribe from push notifications\n  const unsubscribe = useCallback(async (): Promise<boolean> => {\n    setLoading(true);\n    setError(null);\n\n    try {\n      const success = await pushNotificationService.unsubscribe();\n\n      if (success) {\n        setIsSubscribed(false);\n        setPreferences(null);\n        return true;\n      } else {\n        throw new Error('Failed to unsubscribe from push notifications');\n      }\n    } catch (err: unknown) {\n      const errorMessage =\n        err instanceof Error ? err.message : 'Failed to unsubscribe';\n      setError(errorMessage);\n      console.error('Push notification unsubscription error:', err);\n      return false;\n    } finally {\n      setLoading(false);\n    }\n  }, []);\n\n  // Update notification preferences\n  const updatePreferences = useCallback(\n    async (\n      newPreferences: Partial<PushNotificationPreferences>\n    ): Promise<boolean> => {\n      if (!preferences) return false;\n\n      const oldPreferences = { ...preferences };\n\n      // Optimistic update\n      setPreferences(prev => (prev ? { ...prev, ...newPreferences } : null));\n\n      try {\n        const success =\n          await pushNotificationService.updateNotificationPreferences(\n            newPreferences\n          );\n\n        if (!success) {\n          // Revert on failure\n          setPreferences(oldPreferences);\n          throw new Error('Failed to update preferences');\n        }\n\n        return true;\n      } catch (err: unknown) {\n        // Revert on error\n        setPreferences(oldPreferences);\n        const errorMessage =\n          err instanceof Error ? err.message : 'Failed to update preferences';\n        setError(errorMessage);\n        console.error('Push notification preferences update error:', err);\n        return false;\n      }\n    },\n    [preferences]\n  );\n\n  // Send test notification\n  const sendTestNotification = useCallback(\n    async (payload: NotificationPayload): Promise<boolean> => {\n      setError(null);\n\n      try {\n        const success =\n          await pushNotificationService.sendTestNotification(payload);\n\n        if (!success) {\n          throw new Error('Failed to send test notification');\n        }\n\n        return true;\n      } catch (err: unknown) {\n        const errorMessage =\n          err instanceof Error\n            ? err.message\n            : 'Failed to send test notification';\n        setError(errorMessage);\n        console.error('Test notification error:', err);\n        return false;\n      }\n    },\n    []\n  );\n\n  // Refresh current status\n  const refreshStatus = useCallback(async (): Promise<void> => {\n    await initialize();\n  }, [initialize]);\n\n  // Initialize on mount\n  useEffect(() => {\n    initialize();\n  }, [initialize]);\n\n  // Listen for permission changes\n  useEffect(() => {\n    const handlePermissionChange = () => {\n      const newPermission = Notification.permission;\n      setPermission(newPermission);\n\n      // If permission was granted, try to refresh status\n      if (newPermission === 'granted' && !isSubscribed) {\n        refreshStatus();\n      }\n\n      // If permission was denied, update subscription status\n      if (newPermission === 'denied' && isSubscribed) {\n        setIsSubscribed(false);\n        setPreferences(null);\n      }\n    };\n\n    // Listen for visibility change to refresh status\n    const handleVisibilityChange = () => {\n      if (!document.hidden && isSupported) {\n        refreshStatus();\n      }\n    };\n\n    document.addEventListener('visibilitychange', handleVisibilityChange);\n\n    // Note: There's no direct way to listen for permission changes\n    // We could poll, but it's better to refresh on visibility change\n\n    return () => {\n      document.removeEventListener('visibilitychange', handleVisibilityChange);\n    };\n  }, [isSupported, isSubscribed, refreshStatus]);\n\n  return {\n    // Status\n    isSupported,\n    isSubscribed,\n    permission,\n    loading,\n    error,\n\n    // Preferences\n    preferences,\n\n    // Actions\n    subscribe,\n    unsubscribe,\n    updatePreferences,\n    sendTestNotification,\n    refreshStatus,\n  };\n};\n\n// Simplified hook for basic usage\nexport const useSimplePushNotifications = () => {\n  const {\n    isSupported,\n    isSubscribed,\n    permission,\n    loading,\n    subscribe,\n    unsubscribe,\n  } = usePushNotifications();\n\n  return {\n    isSupported,\n    isSubscribed,\n    permission,\n    loading,\n    subscribe,\n    unsubscribe,\n    canSubscribe: isSupported && !isSubscribed && permission !== 'denied',\n    needsPermission: isSupported && permission === 'default',\n    isBlocked: permission === 'denied',\n  };\n};\n\nexport default usePushNotifications;\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/hooks/useRentalActions.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/hooks/useRentalFilters.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/hooks/useRentalProtocols.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/hooks/useWebSocket.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/index.tsx",
    "messages": [
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 2,
        "message": "'debugPerformance' is defined but never used.",
        "line": 30,
        "column": 39,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 30,
        "endColumn": 55
      }
    ],
    "suppressedMessages": [],
    "errorCount": 1,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "import React from 'react';\nimport ReactDOM from 'react-dom/client';\n\nimport './index.css';\nimport App from './App';\n// Sentry removed - using MobileLogger instead\n\nconst root = ReactDOM.createRoot(\n  document.getElementById('root') as HTMLElement\n);\n\nroot.render(\n  // 🚀 DOČASNE VYPNUTÝ StrictMode pre auth debugging\n  // <React.StrictMode>\n  <App />\n  // </React.StrictMode>\n);\n\n// Error handling pre manifest.json\nwindow.addEventListener('error', event => {\n  if (event.filename && event.filename.includes('manifest.json')) {\n    logger.debug('⚠️ Ignoring manifest.json error - this is expected');\n    event.preventDefault();\n  }\n});\n\n// Initialize error handling for manifest.json and performance monitoring\nif (process.env.NODE_ENV === 'development') {\n  // ⚡ PERFORMANCE: Disabled verbose Web Vitals logging to reduce console spam\n  import('./utils/webVitals').then(({ debugPerformance, reportWebVitals }) => {\n    // debugPerformance(); // Disabled - too verbose\n\n    // Initialize Web Vitals monitoring (silent mode)\n    reportWebVitals(); // No callback = silent monitoring\n  });\n}\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/lib/env.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/lib/errors.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/lib/flags.test.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/lib/flags.ts",
    "messages": [
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 21,
        "column": 33,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 21,
        "endColumn": 36,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [664, 667], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [664, 667], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 1,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "/**\n * Vite-friendly feature flags (frontend)\n * Centralizovaný prístup k VITE_FLAG_* premenným\n */\n\n/// <reference types=\"vite/client\" />\n\n/**\n * Získa hodnotu feature flag z environment premenných\n * @param name - názov flagu (bez VITE_FLAG_ prefixu)\n * @param fallback - predvolená hodnota ak flag nie je nastavený\n * @returns boolean hodnota flagu\n *\n * @example\n * // V .env.local: VITE_FLAG_EXTRA_KM=true\n * const showExtraKm = flag('EXTRA_KM'); // true\n * const newFeature = flag('NEW_FEATURE', false); // false (default)\n */\nexport function flag(name: string, fallback = false): boolean {\n  const key = `VITE_FLAG_${name}`;\n  const v = (import.meta.env as any)[key];\n\n  if (v === '1' || v === 'true') return true;\n  if (v === '0' || v === 'false') return false;\n\n  return fallback;\n}\n\n/**\n * Získa všetky aktívne feature flags pre debugging\n */\nexport function getAllFlags(): Record<string, boolean> {\n  const flags: Record<string, boolean> = {};\n  const env = import.meta.env;\n\n  Object.keys(env).forEach(key => {\n    if (key.startsWith('VITE_FLAG_')) {\n      const flagName = key.replace('VITE_FLAG_', '');\n      flags[flagName] = flag(flagName);\n    }\n  });\n\n  return flags;\n}\n\n// Debug output v development mode\nif (import.meta.env.DEV) {\n  const activeFlags = getAllFlags();\n  if (Object.keys(activeFlags).length > 0) {\n    console.log('🚩 Active feature flags:', activeFlags);\n  }\n}\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/lib/format.test.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/lib/format.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/lib/number.test.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/lib/number.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/main.tsx",
    "messages": [
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 2,
        "message": "'debugPerformance' is defined but never used.",
        "line": 28,
        "column": 39,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 28,
        "endColumn": 55
      }
    ],
    "suppressedMessages": [],
    "errorCount": 1,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "import React from 'react';\nimport ReactDOM from 'react-dom/client';\n\nimport './index.css';\nimport App from './App';\n\nconst root = ReactDOM.createRoot(\n  document.getElementById('root') as HTMLElement\n);\n\nroot.render(\n  // Dočasne vypnutý StrictMode pre auth debugging\n  // <React.StrictMode>\n  <App />\n  // </React.StrictMode>\n);\n\n// Error handling pre manifest.json\nwindow.addEventListener('error', event => {\n  if (event.filename && event.filename.includes('manifest.json')) {\n    logger.debug('⚠️ Ignoring manifest.json error - this is expected');\n    event.preventDefault();\n  }\n});\n\n// Initialize performance monitoring\nif (import.meta.env.MODE === 'development') {\n  import('./utils/webVitals').then(({ debugPerformance, reportWebVitals }) => {\n    reportWebVitals(); // Silent monitoring\n  });\n}\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/pages/AvailabilityPage.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/pages/AvailabilityPageNew.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/pages/SmartAvailabilityPage.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/react-app-env.d.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/reportWebVitals.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/services/api.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/services/pushNotifications.ts",
    "messages": [
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 21,
        "column": 10,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 21,
        "endColumn": 13,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [392, 395], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [392, 395], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 389,
        "column": 14,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 389,
        "endColumn": 17,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [10415, 10418], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [10415, 10418], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 2,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "// 🔔 Push Notifications Frontend Service\n// Complete push notification management for BlackRent\n\nimport { getAPI_BASE_URL } from './api';\n\ninterface PushSubscriptionData {\n  endpoint: string;\n  keys: {\n    p256dh: string;\n    auth: string;\n  };\n}\n\ninterface NotificationPayload {\n  title: string;\n  body: string;\n  icon?: string;\n  badge?: string;\n  image?: string;\n  tag?: string;\n  data?: any;\n  actions?: NotificationAction[];\n  requireInteraction?: boolean;\n  silent?: boolean;\n  vibrate?: number[];\n  ttl?: number;\n}\n\ninterface NotificationAction {\n  action: string;\n  title: string;\n  icon?: string;\n}\n\ninterface PushNotificationPreferences {\n  rental_requests: boolean;\n  rental_approvals: boolean;\n  rental_reminders: boolean;\n  maintenance_alerts: boolean;\n  payment_reminders: boolean;\n  marketing_notifications: boolean;\n  email_notifications: boolean;\n  push_notifications: boolean;\n  quiet_hours_start: string;\n  quiet_hours_end: string;\n}\n\nclass PushNotificationService {\n  private vapidPublicKey: string | null = null;\n  private subscription: PushSubscription | null = null;\n  private registration: ServiceWorkerRegistration | null = null;\n\n  // Initialize push notifications\n  async initialize(): Promise<boolean> {\n    try {\n      // Check if service workers are supported\n      if (!('serviceWorker' in navigator)) {\n        console.warn('Service Workers not supported');\n        return false;\n      }\n\n      // Check if push messaging is supported\n      if (!('PushManager' in window)) {\n        console.warn('Push messaging not supported');\n        return false;\n      }\n\n      // Get service worker registration\n      this.registration = await navigator.serviceWorker.ready;\n\n      // Get VAPID public key from server\n      this.vapidPublicKey = await this.getVapidPublicKey();\n\n      if (!this.vapidPublicKey) {\n        console.warn('VAPID public key not available');\n        return false;\n      }\n\n      console.log('✅ Push notifications initialized');\n      return true;\n    } catch (error) {\n      console.error('❌ Failed to initialize push notifications:', error);\n      return false;\n    }\n  }\n\n  // Get VAPID public key from server\n  private async getVapidPublicKey(): Promise<string | null> {\n    try {\n      const response = await fetch(`${getAPI_BASE_URL()}/push/vapid-key`);\n      const data = await response.json();\n      return data.publicKey;\n    } catch (error) {\n      console.error('❌ Error getting VAPID key:', error);\n      return null;\n    }\n  }\n\n  // Request notification permission\n  async requestPermission(): Promise<NotificationPermission> {\n    if (!('Notification' in window)) {\n      console.warn('Notifications not supported');\n      return 'denied';\n    }\n\n    let permission = Notification.permission;\n\n    if (permission === 'default') {\n      permission = await Notification.requestPermission();\n    }\n\n    console.log('🔔 Notification permission:', permission);\n    return permission;\n  }\n\n  // Subscribe to push notifications\n  async subscribe(): Promise<boolean> {\n    try {\n      if (!this.registration || !this.vapidPublicKey) {\n        console.error('Push notifications not initialized');\n        return false;\n      }\n\n      // Check permission\n      const permission = await this.requestPermission();\n      if (permission !== 'granted') {\n        console.warn('Notification permission not granted');\n        return false;\n      }\n\n      // Get existing subscription\n      let subscription = await this.registration.pushManager.getSubscription();\n\n      // Subscribe if not already subscribed\n      if (!subscription) {\n        subscription = await this.registration.pushManager.subscribe({\n          userVisibleOnly: true,\n          applicationServerKey: this.urlBase64ToUint8Array(this.vapidPublicKey),\n        });\n      }\n\n      this.subscription = subscription;\n\n      // Send subscription to server\n      const success = await this.sendSubscriptionToServer(subscription);\n\n      if (success) {\n        console.log('✅ Successfully subscribed to push notifications');\n        return true;\n      } else {\n        console.error('❌ Failed to save subscription on server');\n        return false;\n      }\n    } catch (error) {\n      console.error('❌ Failed to subscribe to push notifications:', error);\n      return false;\n    }\n  }\n\n  // Unsubscribe from push notifications\n  async unsubscribe(): Promise<boolean> {\n    try {\n      if (!this.registration) {\n        return false;\n      }\n\n      const subscription =\n        await this.registration.pushManager.getSubscription();\n\n      if (subscription) {\n        // Unsubscribe from browser\n        const unsubscribed = await subscription.unsubscribe();\n\n        if (unsubscribed) {\n          // Remove from server\n          await this.removeSubscriptionFromServer(subscription);\n          this.subscription = null;\n          console.log('✅ Successfully unsubscribed from push notifications');\n          return true;\n        }\n      }\n\n      return false;\n    } catch (error) {\n      console.error('❌ Failed to unsubscribe from push notifications:', error);\n      return false;\n    }\n  }\n\n  // Send subscription to server\n  private async sendSubscriptionToServer(\n    subscription: PushSubscription\n  ): Promise<boolean> {\n    try {\n      const token = this.getAuthToken();\n\n      const response = await fetch(`${getAPI_BASE_URL()}/push/subscription`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          Authorization: `Bearer ${token}`,\n        },\n        body: JSON.stringify({\n          subscription: subscription.toJSON(),\n          timestamp: Date.now(),\n          userAgent: navigator.userAgent,\n        }),\n      });\n\n      return response.ok;\n    } catch (error) {\n      console.error('❌ Error sending subscription to server:', error);\n      return false;\n    }\n  }\n\n  // Remove subscription from server\n  private async removeSubscriptionFromServer(\n    subscription: PushSubscription\n  ): Promise<boolean> {\n    try {\n      const token = this.getAuthToken();\n\n      const response = await fetch(`${getAPI_BASE_URL()}/push/subscription`, {\n        method: 'DELETE',\n        headers: {\n          'Content-Type': 'application/json',\n          Authorization: `Bearer ${token}`,\n        },\n        body: JSON.stringify({\n          endpoint: subscription.endpoint,\n        }),\n      });\n\n      return response.ok;\n    } catch (error) {\n      console.error('❌ Error removing subscription from server:', error);\n      return false;\n    }\n  }\n\n  // Get subscription status\n  async getSubscriptionStatus(): Promise<{\n    isSupported: boolean;\n    isSubscribed: boolean;\n    permission: NotificationPermission;\n    subscription?: PushSubscription;\n  }> {\n    const isSupported = 'serviceWorker' in navigator && 'PushManager' in window;\n\n    if (!isSupported) {\n      return {\n        isSupported: false,\n        isSubscribed: false,\n        permission: 'denied',\n      };\n    }\n\n    const permission = Notification.permission;\n\n    if (!this.registration) {\n      this.registration = await navigator.serviceWorker.ready;\n    }\n\n    const subscription = await this.registration.pushManager.getSubscription();\n\n    return {\n      isSupported,\n      isSubscribed: !!subscription,\n      permission,\n      subscription: subscription || undefined,\n    };\n  }\n\n  // Get user notification preferences\n  async getNotificationPreferences(): Promise<PushNotificationPreferences | null> {\n    try {\n      const token = this.getAuthToken();\n\n      const response = await fetch(`${getAPI_BASE_URL()}/push/preferences`, {\n        method: 'GET',\n        headers: {\n          Authorization: `Bearer ${token}`,\n        },\n      });\n\n      if (response.ok) {\n        return await response.json();\n      }\n\n      return null;\n    } catch (error) {\n      console.error('❌ Error getting notification preferences:', error);\n      return null;\n    }\n  }\n\n  // Update user notification preferences\n  async updateNotificationPreferences(\n    preferences: Partial<PushNotificationPreferences>\n  ): Promise<boolean> {\n    try {\n      const token = this.getAuthToken();\n\n      const response = await fetch(`${getAPI_BASE_URL()}/push/preferences`, {\n        method: 'PUT',\n        headers: {\n          'Content-Type': 'application/json',\n          Authorization: `Bearer ${token}`,\n        },\n        body: JSON.stringify(preferences),\n      });\n\n      return response.ok;\n    } catch (error) {\n      console.error('❌ Error updating notification preferences:', error);\n      return false;\n    }\n  }\n\n  // Send test notification (admin only)\n  async sendTestNotification(payload: NotificationPayload): Promise<boolean> {\n    try {\n      const token = this.getAuthToken();\n\n      const response = await fetch(`${getAPI_BASE_URL()}/push/send`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          Authorization: `Bearer ${token}`,\n        },\n        body: JSON.stringify(payload),\n      });\n\n      return response.ok;\n    } catch (error) {\n      console.error('❌ Error sending test notification:', error);\n      return false;\n    }\n  }\n\n  // Show local notification (fallback)\n  async showLocalNotification(payload: NotificationPayload): Promise<boolean> {\n    try {\n      if (Notification.permission !== 'granted') {\n        return false;\n      }\n\n      const notification = new Notification(payload.title, {\n        body: payload.body,\n        icon: payload.icon || '/logo192.png',\n        badge: payload.badge || '/favicon.ico',\n        image: payload.image,\n        tag: payload.tag,\n        data: payload.data,\n        requireInteraction: payload.requireInteraction || false,\n        silent: payload.silent || false,\n        vibrate: payload.vibrate || [200, 100, 200],\n        timestamp: Date.now(),\n      });\n\n      // Handle click event\n      notification.onclick = event => {\n        event.preventDefault();\n\n        const data = payload.data || {};\n        const url = data.url || '/';\n\n        // Focus or open window\n        window.focus();\n        if (url !== '/') {\n          window.location.href = url;\n        }\n\n        notification.close();\n      };\n\n      return true;\n    } catch (error) {\n      console.error('❌ Error showing local notification:', error);\n      return false;\n    }\n  }\n\n  // Get notification analytics (admin only)\n  async getNotificationAnalytics(\n    startDate?: Date,\n    endDate?: Date\n  ): Promise<any> {\n    try {\n      const token = this.getAuthToken();\n      const params = new URLSearchParams();\n\n      if (startDate) params.append('startDate', startDate.toISOString());\n      if (endDate) params.append('endDate', endDate.toISOString());\n\n      const response = await fetch(\n        `${getAPI_BASE_URL()}/push/analytics?${params}`,\n        {\n          method: 'GET',\n          headers: {\n            Authorization: `Bearer ${token}`,\n          },\n        }\n      );\n\n      if (response.ok) {\n        return await response.json();\n      }\n\n      return null;\n    } catch (error) {\n      console.error('❌ Error getting notification analytics:', error);\n      return null;\n    }\n  }\n\n  // Utility function to convert VAPID key\n  private urlBase64ToUint8Array(base64String: string): Uint8Array {\n    const padding = '='.repeat((4 - (base64String.length % 4)) % 4);\n    const base64 = (base64String + padding)\n      .replace(/-/g, '+')\n      .replace(/_/g, '/');\n\n    const rawData = window.atob(base64);\n    const outputArray = new Uint8Array(rawData.length);\n\n    for (let i = 0; i < rawData.length; ++i) {\n      outputArray[i] = rawData.charCodeAt(i);\n    }\n    return outputArray;\n  }\n\n  // Get auth token from storage\n  private getAuthToken(): string | null {\n    return (\n      localStorage.getItem('blackrent_token') ||\n      sessionStorage.getItem('blackrent_token')\n    );\n  }\n\n  // Check if notifications are supported\n  static isSupported(): boolean {\n    return (\n      'serviceWorker' in navigator &&\n      'PushManager' in window &&\n      'Notification' in window\n    );\n  }\n\n  // Get current permission status\n  static getPermissionStatus(): NotificationPermission {\n    return 'Notification' in window ? Notification.permission : 'denied';\n  }\n}\n\n// Export singleton instance\nexport const pushNotificationService = new PushNotificationService();\n\n// Export types\nexport type {\n  PushSubscriptionData,\n  NotificationPayload,\n  NotificationAction,\n  PushNotificationPreferences,\n};\n\nexport default PushNotificationService;\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/services/websocket-client.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/setupTests.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/test/setup.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/theme/darkTheme.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/theme/theme.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/types/errors.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/types/index.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/types/rental-types.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/types/svg.d.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/types/vehicle-types.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/utils/__tests__/priceCalculator.test.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/utils/__tests__/rentalCloneUtils.test.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/utils/__tests__/rentalDaysCalculator.test.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/utils/apiErrorHandler.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/utils/apiPath.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/utils/apiUrl.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/utils/criticalResources.ts",
    "messages": [
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 66,
        "column": 18,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 66,
        "endColumn": 21,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [1817, 1820], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [1817, 1820], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 1,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "// 🎯 Critical Resources Management\n// Advanced preloading, prefetching, and resource optimization\n\ninterface ResourcePriority {\n  critical: string[];\n  important: string[];\n  normal: string[];\n  low: string[];\n}\n\ninterface PreloadOptions {\n  as: string;\n  type?: string;\n  crossOrigin?: string;\n  media?: string;\n  priority?: 'high' | 'low' | 'auto';\n}\n\nclass CriticalResourceManager {\n  private preloadedResources = new Set<string>();\n  private prefetchedResources = new Set<string>();\n  private loadingResources = new Map<string, Promise<void>>();\n\n  // Resource priorities configuration\n  private resourcePriorities: ResourcePriority = {\n    critical: [\n      // Critical images above the fold\n      '/logo192.png',\n      '/favicon.ico',\n    ],\n    important: [\n      // CSS doplníme dynamicky z asset-manifestu\n    ],\n    normal: [\n      // Main JS chunks (dynamicky z asset-manifestu; fallback prázdny)\n    ],\n    low: [\n      // Non-critical icons and images\n      '/logo512.png',\n      // Analytics and tracking scripts\n    ],\n  };\n\n  // Preload critical resources\n  preloadResource(href: string, options: PreloadOptions): Promise<void> {\n    if (this.preloadedResources.has(href)) {\n      return Promise.resolve();\n    }\n\n    if (this.loadingResources.has(href)) {\n      return this.loadingResources.get(href)!;\n    }\n\n    const promise = new Promise<void>((resolve, reject) => {\n      const link = document.createElement('link');\n      link.rel = 'preload';\n      link.href = href;\n      link.as = options.as;\n\n      if (options.type) link.type = options.type;\n      if (options.crossOrigin) link.crossOrigin = options.crossOrigin;\n      if (options.media) link.media = options.media;\n\n      // Modern browsers support fetchpriority\n      if (options.priority && 'fetchPriority' in link) {\n        (link as any).fetchPriority = options.priority;\n      }\n\n      link.onload = () => {\n        this.preloadedResources.add(href);\n        this.loadingResources.delete(href);\n        resolve();\n      };\n\n      link.onerror = () => {\n        this.loadingResources.delete(href);\n        reject(new Error(`Failed to preload resource: ${href}`));\n      };\n\n      document.head.appendChild(link);\n    });\n\n    this.loadingResources.set(href, promise);\n    return promise;\n  }\n\n  // Prefetch resources for future navigation\n  prefetchResource(href: string): Promise<void> {\n    if (this.prefetchedResources.has(href)) {\n      return Promise.resolve();\n    }\n\n    return new Promise((resolve, reject) => {\n      const link = document.createElement('link');\n      link.rel = 'prefetch';\n      link.href = href;\n\n      link.onload = () => {\n        this.prefetchedResources.add(href);\n        resolve();\n      };\n\n      link.onerror = () => {\n        reject(new Error(`Failed to prefetch resource: ${href}`));\n      };\n\n      document.head.appendChild(link);\n    });\n  }\n\n  // DNS prefetch for external domains\n  dnsPrefetch(domain: string): void {\n    const link = document.createElement('link');\n    link.rel = 'dns-prefetch';\n    link.href = `//${domain}`;\n    document.head.appendChild(link);\n  }\n\n  // Preconnect to critical origins\n  preconnect(origin: string, crossOrigin: boolean = false): void {\n    const link = document.createElement('link');\n    link.rel = 'preconnect';\n    link.href = origin;\n    if (crossOrigin) link.crossOrigin = 'anonymous';\n    document.head.appendChild(link);\n  }\n\n  // Initialize critical resource loading\n  async initializeCriticalResources(): Promise<void> {\n    console.log('🚀 Initializing critical resource loading...');\n\n    try {\n      // 1. DNS prefetch for external domains\n      const externalDomains = [\n        'fonts.googleapis.com',\n        'fonts.gstatic.com',\n        'api.blackrent.sk',\n      ];\n\n      externalDomains.forEach(domain => this.dnsPrefetch(domain));\n\n      // 2. Preconnect to critical origins\n      const criticalOrigins = [\n        'https://fonts.googleapis.com',\n        'https://fonts.gstatic.com',\n      ];\n\n      criticalOrigins.forEach(origin => this.preconnect(origin, true));\n\n      // 3. Najprv sa pokús o načítanie dynamických bundlov z asset-manifest.json\n      await this.hydrateFromAssetManifest();\n\n      // 4. Load critical resources in priority order\n      await this.loadResourcesByPriority();\n\n      console.log('✅ Critical resources initialized');\n    } catch (error) {\n      console.error('❌ Failed to initialize critical resources:', error);\n    }\n  }\n\n  // Načíta dynamické cesty bundlov z CRA asset-manifest.json (ak existuje)\n  private async hydrateFromAssetManifest(): Promise<void> {\n    try {\n      const res = await fetch('/asset-manifest.json', { cache: 'no-store' });\n      if (!res.ok) return;\n      const manifest = await res.json();\n\n      // CRA poskytuje buď files/main, alebo entrypoints pole\n      const normalResources: string[] = [];\n      const cssResources: string[] = [];\n\n      if (Array.isArray(manifest.entrypoints)) {\n        manifest.entrypoints.forEach((p: string) => {\n          if (p.endsWith('.js')) normalResources.push(p);\n          if (p.endsWith('.css')) cssResources.push(p);\n        });\n      } else if (manifest.files) {\n        for (const key of Object.keys(manifest.files)) {\n          if (key.endsWith('.js')) normalResources.push(manifest.files[key]);\n          if (key.endsWith('.css')) cssResources.push(manifest.files[key]);\n        }\n      }\n\n      // Odstráň duplikáty a priraď\n      this.resourcePriorities.normal = Array.from(new Set(normalResources));\n      // Zachovaj už existujúce fonty v important a pridaj CSS\n      const existingImportant = this.resourcePriorities.important.filter(\n        p => !p.endsWith('.css')\n      );\n      this.resourcePriorities.important = [\n        ...existingImportant,\n        ...Array.from(new Set(cssResources)),\n      ];\n    } catch (_) {\n      // Ticho zlyhaj – v najhoršom prípade len nepreloadneme nič\n      this.resourcePriorities.normal = [];\n      // CSS nepreloadujeme, nechaj iba fonty\n      this.resourcePriorities.important =\n        this.resourcePriorities.important.filter(p => !p.endsWith('.css'));\n    }\n  }\n\n  // Load resources by priority\n  private async loadResourcesByPriority(): Promise<void> {\n    // Critical resources (load immediately, block rendering if necessary)\n    const criticalPromises = this.resourcePriorities.critical.map(href => {\n      const options = this.getPreloadOptions(href);\n      return this.preloadResource(href, options);\n    });\n\n    await Promise.allSettled(criticalPromises);\n\n    // Important resources (load with high priority but don't block)\n    const importantPromises = this.resourcePriorities.important.map(href => {\n      const options = this.getPreloadOptions(href);\n      return this.preloadResource(href, { ...options, priority: 'high' });\n    });\n\n    // Normal resources (load after critical)\n    setTimeout(() => {\n      this.resourcePriorities.normal.forEach(href => {\n        const options = this.getPreloadOptions(href);\n        this.preloadResource(href, options);\n      });\n    }, 100);\n\n    // Low priority resources (load when idle)\n    if ('requestIdleCallback' in window) {\n      requestIdleCallback(() => {\n        this.resourcePriorities.low.forEach(href => {\n          this.prefetchResource(href);\n        });\n      });\n    } else {\n      setTimeout(() => {\n        this.resourcePriorities.low.forEach(href => {\n          this.prefetchResource(href);\n        });\n      }, 2000);\n    }\n\n    await Promise.allSettled(importantPromises);\n  }\n\n  // Get preload options for different resource types\n  private getPreloadOptions(href: string): PreloadOptions {\n    const extension = href.split('.').pop()?.toLowerCase();\n\n    switch (extension) {\n      case 'woff2':\n      case 'woff':\n      case 'ttf':\n        return {\n          as: 'font',\n          type: `font/${extension}`,\n          crossOrigin: 'anonymous',\n        };\n\n      case 'css':\n        return {\n          as: 'style',\n          type: 'text/css',\n        };\n\n      case 'js':\n        return {\n          as: 'script',\n          type: 'text/javascript',\n        };\n\n      case 'png':\n      case 'jpg':\n      case 'jpeg':\n      case 'webp':\n      case 'svg':\n        return {\n          as: 'image',\n          type: `image/${extension === 'jpg' ? 'jpeg' : extension}`,\n        };\n\n      default:\n        return { as: 'fetch' };\n    }\n  }\n\n  // Preload route chunks for SPA navigation\n  preloadRouteChunk(routePath: string): Promise<void> {\n    // Map route paths to chunk files\n    const routeChunks: { [key: string]: string } = {\n      '/vehicles': '/static/js/vehicles.chunk.js',\n      '/rentals': '/static/js/rentals.chunk.js',\n      '/customers': '/static/js/customers.chunk.js',\n      '/availability': '/static/js/availability.chunk.js',\n      '/statistics': '/static/js/statistics.chunk.js',\n    };\n\n    const chunkFile = routeChunks[routePath];\n    if (chunkFile) {\n      return this.preloadResource(chunkFile, { as: 'script' });\n    }\n\n    return Promise.resolve();\n  }\n\n  // Get loading statistics\n  getLoadingStats() {\n    return {\n      preloaded: this.preloadedResources.size,\n      prefetched: this.prefetchedResources.size,\n      loading: this.loadingResources.size,\n      preloadedList: Array.from(this.preloadedResources),\n      prefetchedList: Array.from(this.prefetchedResources),\n    };\n  }\n\n  // Clear all cached resources (for testing)\n  clearCache(): void {\n    this.preloadedResources.clear();\n    this.prefetchedResources.clear();\n    this.loadingResources.clear();\n  }\n}\n\n// Critical CSS utilities\nexport class CriticalCSSManager {\n  private inlinedCSS = new Set<string>();\n\n  // Inline critical CSS for above-the-fold content\n  inlineCriticalCSS(): void {\n    const criticalCSS = this.generateCriticalCSS();\n\n    if (criticalCSS && !this.inlinedCSS.has('critical')) {\n      const style = document.createElement('style');\n      style.id = 'critical-css';\n      style.textContent = criticalCSS;\n      document.head.insertBefore(style, document.head.firstChild);\n      this.inlinedCSS.add('critical');\n    }\n  }\n\n  // Generate critical CSS (above-the-fold styles)\n  private generateCriticalCSS(): string {\n    return `\n      /* Critical path CSS - Above the fold styles */\n      * {\n        box-sizing: border-box;\n      }\n      \n      body {\n        margin: 0;\n        font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;\n        line-height: 1.6;\n        color: #0f172a;\n        background: #fafbfc;\n        -webkit-font-smoothing: antialiased;\n        -moz-osx-font-smoothing: grayscale;\n      }\n      \n      /* Header styles */\n      .header, .MuiAppBar-root {\n        position: fixed;\n        top: 0;\n        left: 0;\n        right: 0;\n        height: 64px;\n        background: rgba(255, 255, 255, 0.9);\n        backdrop-filter: blur(20px);\n        border-bottom: 1px solid rgba(102, 126, 234, 0.1);\n        z-index: 1100;\n      }\n      \n      /* Main content area */\n      .main-content {\n        margin-top: 64px;\n        min-height: calc(100vh - 64px);\n      }\n      \n      /* Loading states */\n      .loading-spinner {\n        display: inline-block;\n        width: 40px;\n        height: 40px;\n        border: 3px solid #f1f5f9;\n        border-top: 3px solid #667eea;\n        border-radius: 50%;\n        animation: spin 1s linear infinite;\n      }\n      \n      @keyframes spin {\n        0% { transform: rotate(0deg); }\n        100% { transform: rotate(360deg); }\n      }\n      \n      /* Skeleton loading */\n      .skeleton {\n        background: linear-gradient(\n          90deg,\n          rgba(241, 245, 249, 0.8) 0px,\n          rgba(102, 126, 234, 0.1) 40px,\n          rgba(241, 245, 249, 0.8) 80px\n        );\n        background-size: 468px 104px;\n        animation: shimmer 1.6s ease-in-out infinite;\n      }\n      \n      @keyframes shimmer {\n        0% { background-position: -468px 0; }\n        100% { background-position: 468px 0; }\n      }\n      \n      /* Critical card styles */\n      .card, .MuiCard-root {\n        background: rgba(255, 255, 255, 0.9);\n        border-radius: 20px;\n        border: 1px solid rgba(255, 255, 255, 0.2);\n        box-shadow: 0 8px 32px rgba(0, 0, 0, 0.08);\n      }\n      \n      /* Critical button styles */\n      .button, .MuiButton-root {\n        border-radius: 12px;\n        font-weight: 600;\n        text-transform: none;\n        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n      }\n      \n      .button-contained, .MuiButton-contained {\n        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n        color: white;\n        box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3);\n      }\n      \n      /* Typography */\n      h1, h2, h3, h4, h5, h6 {\n        margin: 0;\n        font-weight: 600;\n        line-height: 1.2;\n        color: #0f172a;\n      }\n      \n      /* Prevent layout shift */\n      img:not([width]):not([height]) {\n        aspect-ratio: 16/9;\n        width: 100%;\n        height: auto;\n      }\n      \n      /* Font loading optimization: Inter je načítané cez Google Fonts v index.html */\n    `;\n  }\n\n  // Load non-critical CSS asynchronously\n  loadNonCriticalCSS(): void {\n    const nonCriticalCSS = [\n      '/static/css/components.css',\n      '/static/css/utilities.css',\n    ];\n\n    nonCriticalCSS.forEach(href => {\n      const link = document.createElement('link');\n      link.rel = 'preload';\n      link.as = 'style';\n      link.href = href;\n      link.onload = () => {\n        (link as HTMLLinkElement).onload = null;\n        (link as HTMLLinkElement).rel = 'stylesheet';\n      };\n      document.head.appendChild(link);\n    });\n  }\n}\n\n// Export singleton instances\nexport const criticalResourceManager = new CriticalResourceManager();\nexport const criticalCSSManager = new CriticalCSSManager();\n\n// Initialize critical resources when DOM is ready\nexport const initializeCriticalResources = () => {\n  if (document.readyState === 'loading') {\n    document.addEventListener('DOMContentLoaded', () => {\n      criticalCSSManager.inlineCriticalCSS();\n      criticalResourceManager.initializeCriticalResources();\n    });\n  } else {\n    criticalCSSManager.inlineCriticalCSS();\n    criticalResourceManager.initializeCriticalResources();\n  }\n\n  // Load non-critical resources after page load\n  window.addEventListener('load', () => {\n    criticalCSSManager.loadNonCriticalCSS();\n  });\n};\n\nexport default {\n  criticalResourceManager,\n  criticalCSSManager,\n  initializeCriticalResources,\n};\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/utils/dateUtils.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/utils/dayjs-setup.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/utils/debounce.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/utils/emailParsingUtils.ts",
    "messages": [
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 320,
        "column": 63,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 320,
        "endColumn": 66,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [10802, 10805], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [10802, 10805], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 1,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "// 📧 EMAIL PARSING UTILITY - Zdieľaná parsing logika pre frontend aj backend\n// Extrahované z src/components/rentals/EmailParser.tsx\n\nexport interface ParsedEmailData {\n  orderNumber?: string;\n  orderDate?: string;\n  paymentMethod?: string;\n  customerName?: string;\n  customerEmail?: string;\n  customerPhone?: string;\n  customerAddress?: string;\n  handoverLocation?: string;\n  handoverDate?: string;\n  returnDate?: string;\n  vehicleName?: string;\n  vehicleCode?: string;\n  vehiclePrice?: number;\n  dailyKilometers?: number;\n  extraKilometerRate?: number;\n  fuelLevel?: number;\n  returnConditions?: string;\n  startOdometer?: number;\n  notes?: string;\n  insuranceInfo?: string;\n}\n\n/**\n * 🎯 HLAVNÁ PARSING FUNKCIA - identická s EmailParser.tsx\n * Parsuje email text a vracia štruktúrované dáta\n */\nexport function parseEmailText(text: string): ParsedEmailData {\n  const data: ParsedEmailData = {};\n\n  // Parsovanie čísla objednávky\n  const orderNumberMatch = text.match(/Číslo objednávky\\s+([A-Z]+\\d+)/i);\n  if (orderNumberMatch) {\n    data.orderNumber = orderNumberMatch[1];\n  }\n\n  // Parsovanie dátumu objednávky\n  const orderDateMatch = text.match(\n    /Objednávka prijatá\\s+(\\d{2}\\.\\d{2}\\.\\d{4})/\n  );\n  if (orderDateMatch) {\n    data.orderDate = orderDateMatch[1];\n  }\n\n  // Parsovanie spôsobu úhrady\n  const paymentMethodMatch = text.match(/Spôsob úhrady\\s+(.+)/);\n  if (paymentMethodMatch) {\n    data.paymentMethod = paymentMethodMatch[1].trim();\n  }\n\n  // Parsovanie odoberateľa (zákazníka)\n  const customerMatch = text.match(/Odoberateľ\\s+(.+)/);\n  if (customerMatch) {\n    data.customerName = customerMatch[1].trim();\n  }\n\n  // Parsovanie emailu\n  const emailMatch = text.match(/E-mail\\s+(.+)/);\n  if (emailMatch) {\n    data.customerEmail = emailMatch[1].trim();\n  }\n\n  // Parsovanie telefónu\n  const phoneMatch = text.match(/Telefon\\s+(.+)/);\n  if (phoneMatch) {\n    data.customerPhone = phoneMatch[1].trim();\n  }\n\n  // Parsovanie kontaktnej adresy\n  const addressMatch = text.match(/Kontaktná adresa\\s+(.+)/);\n  if (addressMatch) {\n    data.customerAddress = addressMatch[1].trim();\n  }\n\n  // Parsovanie miesta vyzdvihnutia\n  const pickupMatch = text.match(/Miesto vyzdvihnutia\\s+(.+)/);\n  if (pickupMatch) {\n    data.handoverLocation = pickupMatch[1].trim();\n  }\n\n  // Parsovanie miesta odovzdania (ak je iné)\n  const dropoffMatch = text.match(/Miesto odovzdania\\s+(.+)/);\n  if (dropoffMatch && dropoffMatch[1].trim() !== data.handoverLocation) {\n    data.handoverLocation = dropoffMatch[1].trim(); // Použije miesto odovzdania ak je iné\n  }\n\n  // Parsovanie času rezervácie (komplex formát)\n  const reservationTimeMatch = text.match(/Čas rezervácie\\s+(.+)/);\n  if (reservationTimeMatch) {\n    const timeStr = reservationTimeMatch[1].trim();\n\n    // Pattern: \"DD.MM.YYYY HH:MM:SS - DD.MM.YYYY HH:MM:SS\"\n    const dateRangePattern =\n      /(\\d{1,2}\\.\\d{1,2}\\.\\d{4})\\s+(\\d{1,2}:\\d{2}:\\d{2})\\s*-\\s*(\\d{1,2}\\.\\d{1,2}\\.\\d{4})\\s+(\\d{1,2}:\\d{2}:\\d{2})/;\n    const dateRangeMatch = timeStr.match(dateRangePattern);\n\n    if (dateRangeMatch) {\n      // ZACHOVAJ PRESNÝ FORMÁT - konvertuj DD.MM.YYYY na YYYY-MM-DD pre PostgreSQL\n      const startDay = dateRangeMatch[1].split('.').reverse().join('-');\n      const endDay = dateRangeMatch[3].split('.').reverse().join('-');\n      data.handoverDate = `${startDay.replace(/(\\d{4})-(\\d{1,2})-(\\d{1,2})/, (_, y, m, d) => `${y}-${m.padStart(2, '0')}-${d.padStart(2, '0')}`)} ${dateRangeMatch[2]}`;\n      data.returnDate = `${endDay.replace(/(\\d{4})-(\\d{1,2})-(\\d{1,2})/, (_, y, m, d) => `${y}-${m.padStart(2, '0')}-${d.padStart(2, '0')}`)} ${dateRangeMatch[4]}`;\n    } else {\n      // Alternatívny pattern: \"YYYY-MM-DD HH:MM:SS - YYYY-MM-DD HH:MM:SS\"\n      const isoDateRangePattern =\n        /(\\d{4}-\\d{2}-\\d{2})\\s+(\\d{2}:\\d{2}:\\d{2})\\s*-\\s*(\\d{4}-\\d{2}-\\d{2})\\s+(\\d{2}:\\d{2}:\\d{2})/;\n      const isoDateRangeMatch = timeStr.match(isoDateRangePattern);\n\n      if (isoDateRangeMatch) {\n        // ZACHOVAJ PRESNÝ ČAS BEZ TIMEZONE KONVERZIE\n        data.handoverDate = `${isoDateRangeMatch[1]} ${isoDateRangeMatch[2]}`;\n        data.returnDate = `${isoDateRangeMatch[3]} ${isoDateRangeMatch[4]}`;\n      }\n    }\n  }\n\n  // Parsovanie vozidla (komplexné)\n  const vehicleMatch = text.match(/(?:Vozidlo|Vehicle|Auto)\\s+([^\\n]+)/i);\n  if (vehicleMatch) {\n    logger.debug('🚗 Parsing vehicle line:', vehicleMatch[1]);\n\n    // Ak obsahuje tabuľkový formát\n    if (vehicleMatch[1].includes('Cena') || vehicleMatch[1].includes('Spolu')) {\n      const parts = vehicleMatch[1].split(/\\s+/).filter(part => part.trim());\n      logger.debug('🔍 Vehicle parts (table format):', parts);\n\n      // Nájdi ŠPZ (6-7 znakov, len písmená a čísla)\n      const spzIndex = parts.findIndex(part =>\n        /^[A-Z0-9]{6,7}$/.test(part.trim())\n      );\n      logger.debug(\n        '🔍 SPZ index:',\n        spzIndex,\n        'SPZ:',\n        spzIndex >= 0 ? parts[spzIndex] : 'not found'\n      );\n\n      if (spzIndex > 0) {\n        // Názov auta je všetko pred ŠPZ\n        data.vehicleName = parts.slice(0, spzIndex).join(' ');\n        data.vehicleCode = parts[spzIndex];\n\n        // Cena a suma sú za ŠPZ\n        if (parts.length > spzIndex + 2) {\n          const priceStr = parts[spzIndex + 1]\n            .replace(',', '.')\n            .replace('€', '')\n            .trim();\n          data.vehiclePrice = parseFloat(priceStr);\n        }\n\n        logger.debug('✅ Parsed vehicle:', {\n          name: data.vehicleName,\n          code: data.vehicleCode,\n          price: data.vehiclePrice,\n        });\n      } else {\n        logger.debug('❌ Could not find SPZ in vehicle line');\n      }\n    } else {\n      const vehicleLine = vehicleMatch[1].trim();\n      logger.debug('🔍 Parsing vehicle line:', vehicleLine);\n\n      const parts = vehicleLine.split(/\\s+/).filter(part => part.trim());\n      logger.debug('🔍 Vehicle parts:', parts);\n\n      // Nájdi ŠPZ (6-7 znakov, len písmená a čísla)\n      const spzIndex = parts.findIndex(part =>\n        /^[A-Z0-9]{6,7}$/.test(part.trim())\n      );\n      logger.debug(\n        '🔍 SPZ index:',\n        spzIndex,\n        'SPZ:',\n        spzIndex >= 0 ? parts[spzIndex] : 'not found'\n      );\n\n      if (spzIndex > 0) {\n        // Názov auta je všetko pred ŠPZ\n        data.vehicleName = parts.slice(0, spzIndex).join(' ');\n        data.vehicleCode = parts[spzIndex];\n\n        // Cena a suma sú za ŠPZ\n        if (parts.length > spzIndex + 2) {\n          const priceStr = parts[spzIndex + 1]\n            .replace(',', '.')\n            .replace('€', '')\n            .trim();\n          data.vehiclePrice = parseFloat(priceStr);\n        }\n\n        logger.debug('✅ Parsed vehicle:', {\n          name: data.vehicleName,\n          code: data.vehicleCode,\n          price: data.vehiclePrice,\n        });\n      } else {\n        logger.debug('❌ Could not find SPZ in vehicle line');\n      }\n    }\n  }\n\n  // Parsovanie kilometrov - VŠETKY sa považujú za denné km\n  logger.debug('🔍 DEBUG: Searching for kilometers in text...');\n\n  // NAJVYŠŠIA PRIORITA: Špecifické patterny pre \"Počet povolených km\"\n  const specificKmMatch = text.match(/Počet povolených km\\s+(\\d+)\\s*km/i);\n  logger.debug('🔍 DEBUG: specificKmMatch result:', specificKmMatch);\n\n  if (specificKmMatch) {\n    data.dailyKilometers = parseInt(specificKmMatch[1]);\n    logger.debug(\n      `🚗 Parsed \"Počet povolených km\": ${data.dailyKilometers} km/day (interpreted as daily)`\n    );\n  } else {\n    logger.debug('🔍 DEBUG: specificKmMatch failed, trying other patterns...');\n    // Prioritne hľadáme explicitne denné km patterny\n    const explicitDailyKmMatch =\n      text.match(/(\\d+)\\s*km\\s*\\/\\s*de[ňn]/i) ||\n      text.match(/(\\d+)\\s*km\\s*na\\s*de[ňn]/i) ||\n      text.match(/denný\\s*limit[:\\s]*(\\d+)\\s*km/i) ||\n      text.match(/denne[:\\s]*(\\d+)\\s*km/i) ||\n      text.match(/(\\d+)\\s*km\\s*daily/i);\n    logger.debug(\n      '🔍 DEBUG: explicitDailyKmMatch result:',\n      explicitDailyKmMatch\n    );\n\n    if (explicitDailyKmMatch) {\n      data.dailyKilometers = parseInt(explicitDailyKmMatch[1]);\n      logger.debug(\n        `🚗 Parsed explicit daily km: ${data.dailyKilometers} km/day`\n      );\n    } else {\n      logger.debug(\n        '🔍 DEBUG: explicitDailyKmMatch failed, trying general patterns...'\n      );\n      // Ak nie sú explicitne denné, hľadáme ostatné všeobecné km patterny a považujeme ich za denné\n      const generalKmMatch =\n        text.match(/Povolené\\s+km[:\\s]+(\\d+)/i) ||\n        text.match(/Kilometrov[:\\s]+(\\d+)/i) ||\n        text.match(/Limit\\s+km[:\\s]+(\\d+)/i) ||\n        text.match(/(\\d+)\\s*km/i); // Všeobecný pattern pre číslo + km (najnižšia priorita)\n      logger.debug('🔍 DEBUG: generalKmMatch result:', generalKmMatch);\n\n      if (generalKmMatch) {\n        data.dailyKilometers = parseInt(generalKmMatch[1]);\n        logger.debug(\n          `🚗 Parsed general km as daily: ${data.dailyKilometers} km/day (interpreted as daily)`\n        );\n      } else {\n        logger.debug('🔍 DEBUG: No kilometer patterns matched!');\n      }\n    }\n  }\n\n  // Parsovanie ceny za extra km\n  const extraKmMatch =\n    text.match(/Cena\\s+za\\s+km[:\\s]+([\\d,]+)\\s*€/i) ||\n    text.match(/Extra\\s+km[:\\s]+([\\d,]+)\\s*€/i) ||\n    text.match(/Nadlimitn[ý]\\s+km[:\\s]+([\\d,]+)\\s*€/i);\n  if (extraKmMatch) {\n    const extraKmStr = extraKmMatch[1].replace(',', '.');\n    data.extraKilometerRate = parseFloat(extraKmStr);\n  }\n\n  // Parsovanie úrovne paliva\n  const fuelMatch =\n    text.match(/Palivo[:\\s]+(\\d+)%/i) ||\n    text.match(/Fuel[:\\s]+(\\d+)%/i) ||\n    text.match(/Nádrž[:\\s]+(\\d+)%/i);\n  if (fuelMatch) {\n    data.fuelLevel = parseInt(fuelMatch[1]);\n  }\n\n  // Parsovanie stavu tachometra\n  const odometerMatch =\n    text.match(/Tachometer[:\\s]+([\\d\\s]+)\\s*km/i) ||\n    text.match(/Kilometrov[:\\s]+([\\d\\s]+)\\s*km/i) ||\n    text.match(/Stav[:\\s]+([\\d\\s]+)\\s*km/i);\n  if (odometerMatch) {\n    const odometerStr = odometerMatch[1].replace(/\\s/g, '');\n    data.startOdometer = parseInt(odometerStr);\n  }\n\n  // Parsovanie podmienok vrátenia\n  const conditionsMatch =\n    text.match(/Podmienky\\s+vrátenia[:\\s]+([^.]+)/i) ||\n    text.match(/Return\\s+conditions[:\\s]+([^.]+)/i);\n  if (conditionsMatch) {\n    data.returnConditions = conditionsMatch[1].trim();\n  }\n\n  // Parsovanie poznámok\n  const notesMatch =\n    text.match(/Poznámky[:\\s]+([^.]+)/i) ||\n    text.match(/Notes[:\\s]+([^.]+)/i) ||\n    text.match(/Dodatočné\\s+informácie[:\\s]+([^.]+)/i);\n  if (notesMatch) {\n    data.notes = notesMatch[1].trim();\n  }\n\n  // Parsovanie informácií o poistení\n  const insuranceMatch =\n    text.match(/Poistenie[:\\s]+([^.]+)/i) ||\n    text.match(/Insurance[:\\s]+([^.]+)/i);\n  if (insuranceMatch) {\n    data.insuranceInfo = insuranceMatch[1].trim();\n  }\n\n  return data;\n}\n\n/**\n * 🔄 HELPER: Konvertuje ParsedEmailData na backend formát\n */\nexport function convertToRentalData(parsed: ParsedEmailData): any {\n  return {\n    orderNumber: parsed.orderNumber,\n    customerName: parsed.customerName,\n    customerEmail: parsed.customerEmail,\n    customerPhone: parsed.customerPhone,\n    vehicleName: parsed.vehicleName,\n    vehicleCode: parsed.vehicleCode,\n    totalPrice: parsed.vehiclePrice || 0,\n    dailyKilometers: parsed.dailyKilometers || 0,\n    paymentMethod: parsed.paymentMethod || 'Prevod',\n    handoverPlace: parsed.handoverLocation,\n    // Parsovanie dátumov\n    startDate: parsed.handoverDate ? new Date(parsed.handoverDate) : null,\n    endDate: parsed.returnDate ? new Date(parsed.returnDate) : null,\n    // Dodatočné údaje\n    deposit: 0, // TODO: Pridať parsing pre depozit\n    extraKilometerRate: parsed.extraKilometerRate || 0,\n    fuelLevel: parsed.fuelLevel || 100,\n    startOdometer: parsed.startOdometer || 0,\n    notes: parsed.notes,\n    insuranceInfo: parsed.insuranceInfo,\n  };\n}\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/utils/enhancedErrorMessages.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/utils/enhancedPdfGenerator.ts",
    "messages": [
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 8,
        "column": 11,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 8,
        "endColumn": 14,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [172, 175], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [172, 175], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 10,
        "column": 21,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 10,
        "endColumn": 24,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [217, 220], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [217, 220], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 2,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "import jsPDF from 'jspdf';\n\nimport type { ProcessedImage } from './imageProcessor';\n\nexport interface ProtocolData {\n  id: string;\n  type: 'handover' | 'return';\n  rental: any;\n  location: string;\n  vehicleCondition: any;\n  vehicleImages: ProcessedImage[];\n  documentImages: ProcessedImage[];\n  damageImages: ProcessedImage[];\n  damages: unknown[];\n  signatures: unknown[];\n  notes: string;\n  createdAt: Date;\n  completedAt: Date;\n}\n\nexport class EnhancedPDFGenerator {\n  private doc: jsPDF;\n  private currentY: number = 20;\n  private pageWidth: number;\n  private pageHeight: number;\n  private margin: number = 20;\n  private primaryColor: [number, number, number] = [25, 118, 210]; // Blue\n  private secondaryColor: [number, number, number] = [66, 66, 66]; // Dark gray\n\n  constructor() {\n    this.doc = new jsPDF();\n    this.pageWidth = this.doc.internal.pageSize.getWidth();\n    this.pageHeight = this.doc.internal.pageSize.getHeight();\n  }\n\n  /**\n   * Generovanie PDF s vloženými obrázkami (800px)\n   */\n  async generateCustomerProtocol(protocol: ProtocolData): Promise<Blob> {\n    // Reset pozície\n    this.currentY = 20;\n\n    // 1. Záhlavie\n    this.addHeader(protocol);\n\n    // 2. Základné informácie\n    this.addBasicInfo(protocol);\n\n    // 3. Stav vozidla\n    this.addVehicleCondition(protocol);\n\n    // 4. Obrázky vozidla vložené priamo do PDF\n    await this.embedImages(protocol.vehicleImages, 'FOTKY VOZIDLA', 120, 80);\n\n    // 5. Dokumenty vložené priamo do PDF\n    await this.embedImages(protocol.documentImages, 'DOKUMENTY', 100, 60);\n\n    // 6. Škody\n    this.addDamages(protocol.damages);\n\n    // 7. Podpisy vložené priamo do PDF\n    await this.embedSignatures(protocol.signatures);\n\n    // 8. Poznámky\n    this.addNotes(protocol.notes);\n\n    // 9. Päta\n    this.addFooter(protocol);\n\n    return this.doc.output('blob');\n  }\n\n  /**\n   * Pridanie záhlavia\n   */\n  private addHeader(protocol: ProtocolData) {\n    this.doc.setFillColor(...this.primaryColor);\n    this.doc.rect(0, 0, this.pageWidth, 30, 'F');\n\n    this.doc.setFontSize(18);\n    this.doc.setFont('helvetica', 'bold');\n    this.doc.setTextColor(255, 255, 255);\n    this.doc.text('BLACKRENT', this.margin, 20);\n\n    this.doc.setFontSize(12);\n    this.doc.text(\n      `${protocol.type === 'handover' ? 'PREBERACÍ' : 'VRATNÝ'} PROTOKOL`,\n      this.pageWidth - 80,\n      20\n    );\n\n    this.currentY = 40;\n  }\n\n  /**\n   * Pridanie základných informácií\n   */\n  private addBasicInfo(protocol: ProtocolData) {\n    this.addSectionTitle('ZÁKLADNÉ INFORMÁCIE');\n\n    this.doc.setFontSize(10);\n    this.doc.setFont('helvetica', 'normal');\n    this.doc.setTextColor(...this.secondaryColor);\n\n    const rental = protocol.rental;\n    const vehicle = rental?.vehicle;\n    const customer = rental?.customer;\n\n    this.doc.text(\n      `ID Prenájmu: ${rental?.id || 'N/A'}`,\n      this.margin,\n      this.currentY\n    );\n    this.currentY += 6;\n    this.doc.text(\n      `Vozidlo: ${vehicle?.brand} ${vehicle?.model} (${vehicle?.licensePlate})`,\n      this.margin,\n      this.currentY\n    );\n    this.currentY += 6;\n    this.doc.text(\n      `Zákazník: ${customer?.name || 'N/A'}`,\n      this.margin,\n      this.currentY\n    );\n    this.currentY += 6;\n    this.doc.text(\n      `Dátum: ${new Date(protocol.createdAt).toLocaleDateString('sk-SK')}`,\n      this.margin,\n      this.currentY\n    );\n    this.currentY += 6;\n    this.doc.text(\n      `Miesto: ${protocol.location || 'N/A'}`,\n      this.margin,\n      this.currentY\n    );\n    this.currentY += 10;\n  }\n\n  /**\n   * Pridanie stavu vozidla\n   */\n  private addVehicleCondition(protocol: ProtocolData) {\n    this.addSectionTitle('STAV VOZIDLA');\n\n    this.doc.setFontSize(10);\n    this.doc.setFont('helvetica', 'normal');\n    this.doc.setTextColor(...this.secondaryColor);\n\n    const condition = protocol.vehicleCondition;\n\n    this.doc.text(\n      `Počítadlo km: ${condition?.odometer || 0} km`,\n      this.margin,\n      this.currentY\n    );\n    this.currentY += 6;\n    this.doc.text(\n      `Úroveň paliva: ${condition?.fuelLevel || 100}%`,\n      this.margin,\n      this.currentY\n    );\n    this.currentY += 6;\n    this.doc.text(\n      `Typ paliva: ${condition?.fuelType || 'N/A'}`,\n      this.margin,\n      this.currentY\n    );\n    this.currentY += 6;\n    this.doc.text(\n      `Stav: ${condition?.condition || 'Výborný'}`,\n      this.margin,\n      this.currentY\n    );\n    this.currentY += 10;\n  }\n\n  /**\n   * Vloženie obrázkov priamo do PDF\n   */\n  private async embedImages(\n    images: ProcessedImage[],\n    title: string,\n    maxWidth: number,\n    maxHeight: number\n  ) {\n    this.addSectionTitle(title);\n\n    if (images.length === 0) {\n      this.doc.setFontSize(10);\n      this.doc.setTextColor(128, 128, 128);\n      this.doc.text(\n        'Žiadne obrázky nie sú k dispozícii',\n        this.margin,\n        this.currentY\n      );\n      this.currentY += 10;\n      return;\n    }\n\n    const imagesPerRow = 2;\n    let currentX = this.margin;\n    let rowHeight = 0;\n    let imagesInRow = 0;\n\n    for (let i = 0; i < images.length; i++) {\n      const image = images[i];\n\n      try {\n        // Načítanie thumbnailu (800px) priamo do PDF\n        const imageData = await this.loadImageData(image.thumbnail);\n\n        // Výpočet rozmerov\n        const { width, height } = await this.calculateImageDimensions(\n          imageData,\n          maxWidth,\n          maxHeight\n        );\n\n        // Kontrola či sa zmestí na stránku\n        if (this.currentY + height > this.pageHeight - 30) {\n          this.doc.addPage();\n          this.currentY = 20;\n          currentX = this.margin;\n          rowHeight = 0;\n          imagesInRow = 0;\n        }\n\n        // Vloženie obrázka priamo do PDF\n        this.doc.addImage(\n          imageData,\n          'JPEG',\n          currentX,\n          this.currentY,\n          width,\n          height\n        );\n\n        // Popis obrázka\n        this.doc.setFontSize(8);\n        this.doc.setTextColor(...this.secondaryColor);\n        this.doc.text(`Obrázok ${i + 1}`, currentX, this.currentY + height + 3);\n\n        currentX += width + 10;\n        rowHeight = Math.max(rowHeight, height + 15);\n        imagesInRow++;\n\n        if (imagesInRow >= imagesPerRow) {\n          this.currentY += rowHeight;\n          currentX = this.margin;\n          rowHeight = 0;\n          imagesInRow = 0;\n        }\n      } catch (error) {\n        console.error('❌ Error processing image:', image.filename, error);\n        // Pridaj placeholder pre chybný obrázok\n        const placeholder = this.createImagePlaceholder(\n          maxWidth,\n          maxHeight,\n          `Chyba ${i + 1}`\n        );\n        this.doc.addImage(\n          placeholder,\n          'JPEG',\n          currentX,\n          this.currentY,\n          maxWidth,\n          maxHeight\n        );\n        currentX += maxWidth + 10;\n      }\n    }\n\n    if (imagesInRow > 0) {\n      this.currentY += rowHeight;\n    }\n\n    this.currentY += 10;\n  }\n\n  /**\n   * Vloženie podpisov priamo do PDF\n   */\n  private async embedSignatures(signatures: unknown[]) {\n    this.addSectionTitle('PODPISY');\n\n    if (signatures.length === 0) {\n      this.doc.setFontSize(10);\n      this.doc.setTextColor(128, 128, 128);\n      this.doc.text(\n        'Žiadne podpisy nie sú k dispozícii',\n        this.margin,\n        this.currentY\n      );\n      this.currentY += 10;\n      return;\n    }\n\n    const signaturesPerRow = 2;\n    let currentX = this.margin;\n    let rowHeight = 0;\n\n    for (let i = 0; i < signatures.length; i++) {\n      const signature = signatures[i];\n\n      try {\n        // Načítanie podpisu (base64 alebo URL)\n        const signatureData = signature.signature || signature.url;\n        const imageData = await this.loadImageData(signatureData);\n\n        const { width, height } = await this.calculateImageDimensions(\n          imageData,\n          80,\n          40\n        );\n\n        if (this.currentY + height > this.pageHeight - 30) {\n          this.doc.addPage();\n          this.currentY = 20;\n          currentX = this.margin;\n          rowHeight = 0;\n        }\n\n        // Biele pozadie pre podpis\n        this.doc.setFillColor(255, 255, 255);\n        this.doc.roundedRect(\n          currentX - 2,\n          this.currentY - 2,\n          width + 4,\n          height + 15,\n          3,\n          3,\n          'FD'\n        );\n\n        // Vloženie podpisu priamo do PDF\n        this.doc.addImage(\n          imageData,\n          'JPEG',\n          currentX,\n          this.currentY,\n          width,\n          height\n        );\n\n        this.doc.setFontSize(8);\n        this.doc.setTextColor(...this.secondaryColor);\n        this.doc.text(\n          signature.signerName || `Podpis ${i + 1}`,\n          currentX,\n          this.currentY + height + 8\n        );\n\n        currentX += width + 20;\n        rowHeight = Math.max(rowHeight, height + 20);\n\n        if ((i + 1) % signaturesPerRow === 0) {\n          this.currentY += rowHeight;\n          currentX = this.margin;\n          rowHeight = 0;\n        }\n      } catch (error) {\n        console.error(\n          '❌ Error loading signature:',\n          signature.signerName,\n          error\n        );\n        this.doc.setFontSize(10);\n        this.doc.setTextColor(255, 0, 0);\n        this.doc.text(\n          `Chyba načítania podpisu: ${signature.signerName || 'Podpis'}`,\n          currentX,\n          this.currentY\n        );\n        currentX += 100;\n      }\n    }\n\n    if (signatures.length % signaturesPerRow !== 0) {\n      this.currentY += rowHeight;\n    }\n\n    this.currentY += 10;\n  }\n\n  /**\n   * Pridanie škôd\n   */\n  private addDamages(damages: unknown[]) {\n    this.addSectionTitle('ŠKODY A POŠKODENIA');\n\n    if (damages.length === 0) {\n      this.doc.setFontSize(10);\n      this.doc.setTextColor(0, 128, 0);\n      this.doc.text(\n        '✅ Žiadne škody neboli zaznamenané',\n        this.margin,\n        this.currentY\n      );\n      this.currentY += 10;\n      return;\n    }\n\n    damages.forEach((damage, index) => {\n      this.doc.setDrawColor(...this.primaryColor);\n      this.doc.setFillColor(255, 248, 220);\n      this.doc.roundedRect(\n        this.margin,\n        this.currentY,\n        this.pageWidth - 2 * this.margin,\n        25,\n        3,\n        3,\n        'FD'\n      );\n\n      this.doc.setFontSize(10);\n      this.doc.setFont('helvetica', 'bold');\n      this.doc.setTextColor(...this.primaryColor);\n      this.doc.text(`Škoda ${index + 1}:`, this.margin + 5, this.currentY + 8);\n\n      this.doc.setFont('helvetica', 'normal');\n      this.doc.setTextColor(...this.secondaryColor);\n      this.doc.text(\n        `Popis: ${damage.description || 'N/A'}`,\n        this.margin + 5,\n        this.currentY + 15\n      );\n\n      if (damage.location) {\n        this.doc.text(\n          `Lokalizácia: ${damage.location}`,\n          this.margin + 5,\n          this.currentY + 22\n        );\n      }\n\n      this.currentY += 30;\n    });\n  }\n\n  /**\n   * Pridanie poznámok\n   */\n  private addNotes(notes: string) {\n    this.addSectionTitle('POZNÁMKY');\n\n    this.doc.setFontSize(10);\n    this.doc.setFont('helvetica', 'normal');\n    this.doc.setTextColor(...this.secondaryColor);\n\n    this.doc.setDrawColor(...this.primaryColor);\n    this.doc.setFillColor(248, 249, 250);\n    this.doc.roundedRect(\n      this.margin,\n      this.currentY,\n      this.pageWidth - 2 * this.margin,\n      20,\n      3,\n      3,\n      'FD'\n    );\n\n    this.doc.text(notes, this.margin + 5, this.currentY + 8);\n    this.currentY += 25;\n  }\n\n  /**\n   * Pridanie päty\n   */\n  private addFooter(protocol: ProtocolData) {\n    this.currentY = this.pageHeight - 30;\n\n    this.doc.setDrawColor(...this.primaryColor);\n    this.doc.line(\n      this.margin,\n      this.currentY,\n      this.pageWidth - this.margin,\n      this.currentY\n    );\n    this.currentY += 5;\n\n    this.doc.setFontSize(8);\n    this.doc.setFont('helvetica', 'normal');\n    this.doc.setTextColor(...this.secondaryColor);\n    this.doc.text(\n      `Protokol vygenerovaný: ${new Date().toLocaleString('sk-SK')}`,\n      this.margin,\n      this.currentY\n    );\n    this.currentY += 4;\n    this.doc.text(`ID protokolu: ${protocol.id}`, this.margin, this.currentY);\n    this.currentY += 4;\n    this.doc.text(\n      'BlackRent - Profesionálne riešenia pre autopožičovne',\n      this.margin,\n      this.currentY\n    );\n  }\n\n  /**\n   * Pridanie názvu sekcie\n   */\n  private addSectionTitle(title: string) {\n    this.doc.setFontSize(14);\n    this.doc.setFont('helvetica', 'bold');\n    this.doc.setTextColor(...this.primaryColor);\n    this.doc.text(title, this.margin, this.currentY);\n    this.currentY += 8;\n\n    this.doc.setDrawColor(...this.primaryColor);\n    this.doc.line(\n      this.margin,\n      this.currentY,\n      this.pageWidth - this.margin,\n      this.currentY\n    );\n    this.currentY += 8;\n  }\n\n  /**\n   * Načítanie obrázka z URL alebo base64\n   */\n  private async loadImageData(url: string): Promise<string> {\n    return new Promise((resolve, reject) => {\n      // Ak je to base64, použij priamo\n      if (url.startsWith('data:image')) {\n        resolve(url);\n        return;\n      }\n\n      // Inak načítaj z URL\n      const img = new Image();\n      img.crossOrigin = 'anonymous';\n\n      img.onload = () => {\n        const canvas = document.createElement('canvas');\n        canvas.width = img.width;\n        canvas.height = img.height;\n\n        const ctx = canvas.getContext('2d');\n        if (ctx) {\n          ctx.drawImage(img, 0, 0);\n          const dataUrl = canvas.toDataURL('image/jpeg', 0.8);\n          resolve(dataUrl);\n        } else {\n          reject(new Error('Failed to get canvas context'));\n        }\n      };\n\n      img.onerror = () => {\n        reject(new Error('Failed to load image'));\n      };\n\n      img.src = url;\n    });\n  }\n\n  /**\n   * Vytvorenie placeholder obrázka\n   */\n  private createImagePlaceholder(\n    width: number,\n    height: number,\n    text: string\n  ): string {\n    const canvas = document.createElement('canvas');\n    const ctx = canvas.getContext('2d');\n\n    if (!ctx) {\n      return '';\n    }\n\n    canvas.width = width;\n    canvas.height = height;\n\n    ctx.fillStyle = '#f0f0f0';\n    ctx.fillRect(0, 0, width, height);\n\n    ctx.strokeStyle = '#cccccc';\n    ctx.lineWidth = 1;\n    ctx.strokeRect(0, 0, width, height);\n\n    ctx.fillStyle = '#666666';\n    ctx.font = '12px Arial';\n    ctx.textAlign = 'center';\n    ctx.textBaseline = 'middle';\n    ctx.fillText(text, width / 2, height / 2);\n\n    return canvas.toDataURL('image/jpeg', 0.8);\n  }\n\n  /**\n   * Výpočet rozmerov obrázka\n   */\n  private calculateImageDimensions(\n    imgData: string,\n    maxWidth: number,\n    maxHeight: number\n  ) {\n    return new Promise<{ width: number; height: number }>(resolve => {\n      const img = new Image();\n      img.onload = () => {\n        const aspectRatio = img.width / img.height;\n        let width = maxWidth;\n        let height = width / aspectRatio;\n\n        if (height > maxHeight) {\n          height = maxHeight;\n          width = height * aspectRatio;\n        }\n\n        resolve({ width, height });\n      };\n      img.src = imgData;\n    });\n  }\n}\n\nexport default EnhancedPDFGenerator;\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/utils/errorHandling.ts",
    "messages": [
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 16,
        "column": 28,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 16,
        "endColumn": 31,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [374, 377], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [374, 377], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 43,
        "column": 18,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 43,
        "endColumn": 21,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [1050, 1053], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [1050, 1053], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 84,
        "column": 37,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 84,
        "endColumn": 40,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [2040, 2043], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [2040, 2043], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 161,
        "column": 41,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 161,
        "endColumn": 44,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [4249, 4252], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [4249, 4252], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 197,
        "column": 34,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 197,
        "endColumn": 37,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [5247, 5250], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [5247, 5250], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 199,
        "column": 22,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 199,
        "endColumn": 25,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [5274, 5277], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [5274, 5277], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 6,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "/**\n * 🛡️ ERROR HANDLING UTILITIES\n *\n * Robustný error handling systém pre API calls:\n * - Retry mechanism s exponential backoff\n * - Network error detection\n * - User-friendly error messages\n * - Graceful degradation\n */\n\nexport interface RetryOptions {\n  maxRetries: number;\n  baseDelay: number;\n  maxDelay: number;\n  exponentialBase: number;\n  retryCondition?: (error: any) => boolean;\n}\n\nexport interface NetworkError {\n  isNetworkError: boolean;\n  isOffline: boolean;\n  errorType: 'connection' | 'timeout' | 'server' | 'unknown';\n  userMessage: string;\n  technicalMessage: string;\n}\n\nconst DEFAULT_RETRY_OPTIONS: RetryOptions = {\n  maxRetries: 3,\n  baseDelay: 1000, // 1s\n  maxDelay: 10000, // 10s\n  exponentialBase: 2, // 2^n backoff\n  retryCondition: error => isRetryableError(error),\n};\n\n/**\n * 🔄 Retry mechanism s exponential backoff\n */\nexport const withRetry = async <T>(\n  operation: () => Promise<T>,\n  options: Partial<RetryOptions> = {}\n): Promise<T> => {\n  const config = { ...DEFAULT_RETRY_OPTIONS, ...options };\n  let lastError: any;\n\n  for (let attempt = 0; attempt <= config.maxRetries; attempt++) {\n    try {\n      if (attempt > 0) {\n        console.log(`🔄 Retry attempt ${attempt}/${config.maxRetries}`);\n      }\n\n      return await operation();\n    } catch (error) {\n      lastError = error;\n\n      // Posledný pokus - nevykonávame delay\n      if (attempt === config.maxRetries) {\n        console.error(`❌ Final retry attempt failed:`, error);\n        break;\n      }\n\n      // Skontroluj či je error retryable\n      if (!config.retryCondition!(error)) {\n        console.log('⚠️ Error is not retryable, giving up');\n        break;\n      }\n\n      // Vypočítaj delay s exponential backoff\n      const delay = Math.min(\n        config.baseDelay * Math.pow(config.exponentialBase, attempt),\n        config.maxDelay\n      );\n\n      console.log(`⏳ Waiting ${delay}ms before retry...`);\n      await sleep(delay);\n    }\n  }\n\n  throw lastError;\n};\n\n/**\n * 🌐 Network error detection\n */\nexport const analyzeError = (error: any): NetworkError => {\n  const errorMessage = error?.message?.toLowerCase() || '';\n  const isOnline = navigator.onLine;\n\n  // Network connection errors\n  if (\n    errorMessage.includes('failed to fetch') ||\n    errorMessage.includes('network error') ||\n    errorMessage.includes('connection refused') ||\n    errorMessage.includes('net::err_')\n  ) {\n    return {\n      isNetworkError: true,\n      isOffline: !isOnline,\n      errorType: 'connection',\n      userMessage: isOnline\n        ? '🌐 Problém s pripojením na server. Skúšam znova...'\n        : '📡 Nie ste pripojený na internet. Skontrolujte pripojenie.',\n      technicalMessage: error.message,\n    };\n  }\n\n  // Timeout errors\n  if (errorMessage.includes('timeout') || errorMessage.includes('timed out')) {\n    return {\n      isNetworkError: true,\n      isOffline: false,\n      errorType: 'timeout',\n      userMessage: '⏰ Server neodpovedá. Skúšam znova...',\n      technicalMessage: error.message,\n    };\n  }\n\n  // Server errors (5xx)\n  if (error?.status >= 500 && error?.status < 600) {\n    return {\n      isNetworkError: false,\n      isOffline: false,\n      errorType: 'server',\n      userMessage: '🔧 Server má problémy. Skúšam znova...',\n      technicalMessage: `Server error: ${error.status}`,\n    };\n  }\n\n  // Client errors (4xx) - usually not retryable\n  if (error?.status >= 400 && error?.status < 500) {\n    const userMessages = {\n      401: '🔐 Relácia vypršala. Prihláste sa znova.',\n      403: '⛔ Nemáte oprávnenie na túto akciu.',\n      404: '❓ Požadované dáta sa nenašli.',\n      429: '⏸️ Príliš veľa requestov. Počkajte chvíľu.',\n    };\n\n    return {\n      isNetworkError: false,\n      isOffline: false,\n      errorType: 'server',\n      userMessage:\n        userMessages[error.status as keyof typeof userMessages] ||\n        `❌ Chyba: ${error.status}`,\n      technicalMessage: `Client error: ${error.status}`,\n    };\n  }\n\n  // Unknown error\n  return {\n    isNetworkError: false,\n    isOffline: !isOnline,\n    errorType: 'unknown',\n    userMessage: '❌ Neočakávaná chyba. Skúšam znova...',\n    technicalMessage: error.message || 'Unknown error',\n  };\n};\n\n/**\n * ❓ Rozhodne či je error retryable\n */\nexport const isRetryableError = (error: any): boolean => {\n  const analysis = analyzeError(error);\n\n  // Network errors sú retryable\n  if (analysis.isNetworkError) return true;\n\n  // Server errors (5xx) sú retryable\n  if (analysis.errorType === 'server' && error?.status >= 500) return true;\n\n  // Rate limiting (429) je retryable\n  if (error?.status === 429) return true;\n\n  // Client errors (4xx) nie sú retryable (okrem 429)\n  if (error?.status >= 400 && error?.status < 500) return false;\n\n  // Unknown errors sú retryable (pre istotu)\n  if (analysis.errorType === 'unknown') return true;\n\n  return false;\n};\n\n/**\n * 😴 Sleep utility\n */\nexport const sleep = (ms: number): Promise<void> => {\n  return new Promise(resolve => setTimeout(resolve, ms));\n};\n\n/**\n * 🎯 Enhanced error s user message\n */\nexport class EnhancedError extends Error {\n  public readonly userMessage: string;\n  public readonly technicalMessage: string;\n  public readonly errorType: string;\n  public readonly isRetryable: boolean;\n  public readonly originalError: any;\n\n  constructor(error: any) {\n    const analysis = analyzeError(error);\n    super(analysis.technicalMessage);\n\n    this.userMessage = analysis.userMessage;\n    this.technicalMessage = analysis.technicalMessage;\n    this.errorType = analysis.errorType;\n    this.isRetryable = isRetryableError(error);\n    this.originalError = error;\n\n    this.name = 'EnhancedError';\n  }\n}\n\n/**\n * 🔧 Network status monitoring\n */\nexport const createNetworkMonitor = (\n  onStatusChange?: (isOnline: boolean) => void\n) => {\n  const handleOnline = () => {\n    console.log('🌐 Network connection restored');\n    onStatusChange?.(true);\n  };\n\n  const handleOffline = () => {\n    console.log('📡 Network connection lost');\n    onStatusChange?.(false);\n  };\n\n  window.addEventListener('online', handleOnline);\n  window.addEventListener('offline', handleOffline);\n\n  return () => {\n    window.removeEventListener('online', handleOnline);\n    window.removeEventListener('offline', handleOffline);\n  };\n};\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/utils/formatters.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/utils/http.test.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/utils/http.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/utils/imageCompression.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/utils/imageLint.test.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/utils/imageLint.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/utils/imageOptimization.ts",
    "messages": [
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 2,
        "message": "'extension' is assigned a value but never used.",
        "line": 74,
        "column": 9,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 74,
        "endColumn": 18
      },
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 2,
        "message": "'concurrent' is assigned a value but never used.",
        "line": 144,
        "column": 51,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 144,
        "endColumn": 61
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 269,
        "column": 38,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 269,
        "endColumn": 41,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [6998, 7001], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [6998, 7001], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 3,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "/**\n * 🎨 IMAGE OPTIMIZATION UTILITIES\n *\n * Utilities pre optimalizáciu a transformáciu obrázkov\n */\n\n/**\n * Generuje rôzne kvalitné verzie URL obrázka\n */\nexport const generateImageSizes = (\n  baseUrl: string,\n  sizes: { width: number; height: number; quality?: number }[]\n) => {\n  const urlParts = baseUrl.split('.');\n  const extension = urlParts.pop();\n  const basePath = urlParts.join('.');\n\n  return sizes.map(({ width, height, quality = 80 }) => ({\n    url: `${basePath}_${width}x${height}_q${quality}.${extension}`,\n    width,\n    height,\n    quality,\n    descriptor: `${width}w`,\n  }));\n};\n\n/**\n * Vytvorí low-quality placeholder URL\n */\nexport const createLowQualityUrl = (url: string, quality = 10): string => {\n  const urlParts = url.split('.');\n  const extension = urlParts.pop();\n  const basePath = urlParts.join('.');\n\n  return `${basePath}_lq${quality}.${extension}`;\n};\n\n/**\n * Detekuje či je obrázok webp podporovaný\n */\nexport const supportsWebP = (): Promise<boolean> => {\n  return new Promise(resolve => {\n    const webP = new Image();\n    webP.onload = webP.onerror = () => {\n      resolve(webP.height === 2);\n    };\n    webP.src =\n      'data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA';\n  });\n};\n\n/**\n * Konvertuje URL na optimalizované formáty\n */\nexport const optimizeImageUrl = async (\n  url: string,\n  options: {\n    width?: number;\n    height?: number;\n    quality?: number;\n    format?: 'webp' | 'jpg' | 'png' | 'auto';\n  } = {}\n): Promise<string> => {\n  const { width, height, quality = 80, format = 'auto' } = options;\n\n  // Ak je format auto, detekuj najlepší podporovaný formát\n  let targetFormat = format;\n  if (format === 'auto') {\n    const webpSupported = await supportsWebP();\n    targetFormat = webpSupported ? 'webp' : 'jpg';\n  }\n\n  const urlParts = url.split('.');\n  const extension = urlParts.pop();\n  const basePath = urlParts.join('.');\n\n  let optimizedUrl = basePath;\n\n  if (width && height) {\n    optimizedUrl += `_${width}x${height}`;\n  }\n\n  if (quality !== 80) {\n    optimizedUrl += `_q${quality}`;\n  }\n\n  optimizedUrl += `.${targetFormat}`;\n\n  return optimizedUrl;\n};\n\n/**\n * Responsive image srcset generator\n */\nexport const createResponsiveSrcSet = (\n  baseUrl: string,\n  breakpoints: { width: number; quality?: number }[] = [\n    { width: 320, quality: 70 },\n    { width: 768, quality: 80 },\n    { width: 1024, quality: 85 },\n    { width: 1440, quality: 90 },\n  ]\n): string => {\n  return breakpoints\n    .map(({ width, quality = 80 }) => {\n      const urlParts = baseUrl.split('.');\n      const extension = urlParts.pop();\n      const basePath = urlParts.join('.');\n\n      const optimizedUrl = `${basePath}_${width}_q${quality}.${extension}`;\n      return `${optimizedUrl} ${width}w`;\n    })\n    .join(', ');\n};\n\n/**\n * Preload critical images\n */\nexport const preloadCriticalImages = (imageUrls: string[]): void => {\n  imageUrls.forEach(url => {\n    const link = document.createElement('link');\n    link.rel = 'preload';\n    link.as = 'image';\n    link.href = url;\n    document.head.appendChild(link);\n  });\n};\n\n/**\n * Image intersection observer pre bulk lazy loading\n */\nexport class ImageLazyLoader {\n  private observer: IntersectionObserver | null = null;\n  private imageQueue: Set<HTMLImageElement> = new Set();\n  private loadedImages: Set<string> = new Set();\n\n  constructor(\n    options: {\n      threshold?: number;\n      rootMargin?: string;\n      concurrent?: number;\n    } = {}\n  ) {\n    const { threshold = 0.1, rootMargin = '50px', concurrent = 4 } = options;\n\n    if (typeof IntersectionObserver !== 'undefined') {\n      this.observer = new IntersectionObserver(\n        this.handleIntersection.bind(this),\n        { threshold, rootMargin }\n      );\n    }\n  }\n\n  private async handleIntersection(entries: IntersectionObserverEntry[]) {\n    for (const entry of entries) {\n      if (entry.isIntersecting) {\n        const img = entry.target as HTMLImageElement;\n        const src = img.dataset.src;\n\n        if (src && !this.loadedImages.has(src)) {\n          this.loadedImages.add(src);\n          await this.loadImage(img, src);\n          this.observer?.unobserve(img);\n        }\n      }\n    }\n  }\n\n  private loadImage(img: HTMLImageElement, src: string): Promise<void> {\n    return new Promise((resolve, reject) => {\n      const tempImg = new Image();\n\n      tempImg.onload = () => {\n        img.src = src;\n        img.classList.remove('lazy-loading');\n        img.classList.add('lazy-loaded');\n        resolve();\n      };\n\n      tempImg.onerror = () => {\n        img.classList.add('lazy-error');\n        reject(new Error(`Failed to load: ${src}`));\n      };\n\n      tempImg.src = src;\n    });\n  }\n\n  observe(img: HTMLImageElement): void {\n    if (this.observer && img.dataset.src) {\n      img.classList.add('lazy-loading');\n      this.observer.observe(img);\n    }\n  }\n\n  disconnect(): void {\n    if (this.observer) {\n      this.observer.disconnect();\n    }\n  }\n}\n\n/**\n * Vehicle image utility functions\n */\nexport const VehicleImageUtils = {\n  /**\n   * Generuje URL pre vehicle obrázok v rôznych veľkostiach\n   */\n  getVehicleImageUrl: (\n    vehicleId: string,\n    size: 'thumbnail' | 'card' | 'detail' | 'fullsize' = 'card'\n  ): string => {\n    const sizeConfigs = {\n      thumbnail: { width: 100, height: 75, quality: 70 },\n      card: { width: 300, height: 200, quality: 80 },\n      detail: { width: 600, height: 400, quality: 85 },\n      fullsize: { width: 1200, height: 800, quality: 90 },\n    };\n\n    const config = sizeConfigs[size];\n    return `/api/vehicles/${vehicleId}/image?w=${config.width}&h=${config.height}&q=${config.quality}`;\n  },\n\n  /**\n   * Generuje placeholder pre vehicle obrázok\n   */\n  getVehiclePlaceholder: (vehicleType?: string, color?: string): string => {\n    const defaultColor = color || '#E0E0E0';\n    const vehicleIcon = vehicleType === 'truck' ? '🚛' : '🚗';\n\n    // SVG placeholder\n    const svg = `\n      <svg width=\"300\" height=\"200\" xmlns=\"http://www.w3.org/2000/svg\">\n        <rect width=\"100%\" height=\"100%\" fill=\"${defaultColor}\"/>\n        <text x=\"50%\" y=\"50%\" text-anchor=\"middle\" dy=\".3em\" \n              font-size=\"48\" fill=\"#999\">${vehicleIcon}</text>\n      </svg>\n    `;\n\n    return `data:image/svg+xml;base64,${btoa(svg)}`;\n  },\n\n  /**\n   * Vytvorí responsive srcset pre vehicle obrázok\n   */\n  createVehicleSrcSet: (vehicleId: string): string => {\n    return createResponsiveSrcSet(`/api/vehicles/${vehicleId}/image`, [\n      { width: 300, quality: 75 },\n      { width: 600, quality: 80 },\n      { width: 900, quality: 85 },\n    ]);\n  },\n};\n\n/**\n * Performance monitoring pre image loading\n */\nexport const ImagePerformanceMonitor = {\n  startTime: performance.now(),\n  loadedImages: 0,\n  failedImages: 0,\n\n  onImageLoad: (url: string, loadTime: number) => {\n    ImagePerformanceMonitor.loadedImages++;\n    console.log(`🖼️ Image loaded: ${url} (${loadTime.toFixed(2)}ms)`);\n  },\n\n  onImageError: (url: string, error: any) => {\n    ImagePerformanceMonitor.failedImages++;\n    console.error(`❌ Image failed: ${url}`, error);\n  },\n\n  getStats: () => {\n    const totalTime = performance.now() - ImagePerformanceMonitor.startTime;\n    return {\n      totalImages:\n        ImagePerformanceMonitor.loadedImages +\n        ImagePerformanceMonitor.failedImages,\n      loadedImages: ImagePerformanceMonitor.loadedImages,\n      failedImages: ImagePerformanceMonitor.failedImages,\n      successRate:\n        (\n          (ImagePerformanceMonitor.loadedImages /\n            (ImagePerformanceMonitor.loadedImages +\n              ImagePerformanceMonitor.failedImages)) *\n          100\n        ).toFixed(2) + '%',\n      totalTime: totalTime.toFixed(2) + 'ms',\n    };\n  },\n};\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/utils/imageProcessor.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/utils/lazyComponents.tsx",
    "messages": [],
    "suppressedMessages": [
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 173,
        "column": 36,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 173,
        "endColumn": 39,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [4762, 4765], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [4762, 4765], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 266,
        "column": 38,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 266,
        "endColumn": 41,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [7330, 7333], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [7330, 7333], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 302,
        "column": 41,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 302,
        "endColumn": 44,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [8336, 8339], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [8336, 8339], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      }
    ],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/utils/logger.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/utils/memoizeCallback.ts",
    "messages": [
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 2,
        "message": "'_dependencies' is defined but never used.",
        "line": 15,
        "column": 3,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 15,
        "endColumn": 27
      },
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 2,
        "message": "'_dependencies' is assigned a value but never used.",
        "line": 42,
        "column": 3,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 42,
        "endColumn": 27
      }
    ],
    "suppressedMessages": [],
    "errorCount": 2,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "/**\n * 🔄 CALLBACK MEMOIZATION UTILITY\n *\n * Utility pre efektívne memoizovanie callback funkcií\n */\n\nimport { useCallback, useRef } from 'react';\n\n/**\n * 📝 Memoize callback s dependency tracking\n * POZNÁMKA: Táto funkcia je deprecated - použite useCallback priamo v komponente\n */\nexport const memoizeCallback = <T extends (...args: unknown[]) => unknown>(\n  callback: T,\n  _dependencies: unknown[]\n): T => {\n  // Táto funkcia je len wrapper - v skutočnosti vráti originálny callback\n  // useCallback sa musí volať priamo v React komponente\n  return callback;\n};\n\n/**\n * 🏎️ Stable callback hook - callback sa zmení len keď sa zmení referencia funkcie\n */\nexport const useStableCallback = <T extends (...args: unknown[]) => unknown>(\n  callback: T\n): T => {\n  const callbackRef = useRef(callback);\n  callbackRef.current = callback;\n\n  return useCallback(\n    ((...args: Parameters<T>) => callbackRef.current(...args)) as T,\n    []\n  );\n};\n\n/**\n * 🔐 Memoized event handlers factory\n */\nexport const createMemoizedHandlers = <T>(\n  handlers: Record<string, (item: T) => void>,\n  _dependencies: unknown[] = []\n) => {\n  // POZNÁMKA: Táto funkcia je deprecated - useCallback sa musí volať priamo v React komponente\n  return Object.keys(handlers).reduce(\n    (memo, key) => {\n      memo[key] = handlers[key]; // Vráti originálne handlery bez memoization\n      return memo;\n    },\n    {} as Record<string, (item: T) => void>\n  );\n};\n\n/**\n * 📊 Performance measurement decorator pre callbacks\n */\nexport const withPerformanceTracking = <\n  T extends (...args: unknown[]) => unknown,\n>(\n  callback: T,\n  label: string\n): T => {\n  return ((...args: Parameters<T>) => {\n    console.time(label);\n    const result = callback(...args);\n    console.timeEnd(label);\n    return result;\n  }) as T;\n};\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/utils/memoryOptimizer.ts",
    "messages": [
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 24,
        "column": 38,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 24,
        "endColumn": 41,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [670, 673], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [670, 673], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 65,
        "column": 36,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 65,
        "endColumn": 39,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [1778, 1781], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [1778, 1781], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 105,
        "column": 47,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 105,
        "endColumn": 50,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [3234, 3237], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [3234, 3237], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 107,
        "column": 20,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 107,
        "endColumn": 23,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [3337, 3340], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [3337, 3340], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 155,
        "column": 45,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 155,
        "endColumn": 48,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [4671, 4674], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [4671, 4674], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 156,
        "column": 18,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 156,
        "endColumn": 21,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [4714, 4717], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [4714, 4717], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 276,
        "column": 75,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 276,
        "endColumn": 78,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [8125, 8128], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [8125, 8128], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 292,
        "column": 27,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 292,
        "endColumn": 30,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [8505, 8508], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [8505, 8508], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 350,
        "column": 51,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 350,
        "endColumn": 54,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [10127, 10130], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [10127, 10130], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 353,
        "column": 52,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 353,
        "endColumn": 55,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [10223, 10226], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [10223, 10226], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 10,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "// 🧠 Memory Optimization & Leak Prevention\n// Advanced memory management and performance monitoring tools\n\ninterface MemoryStats {\n  usedJSHeapSize: number;\n  totalJSHeapSize: number;\n  jsHeapSizeLimit: number;\n  usagePercentage: number;\n  timestamp: number;\n}\n\ninterface PerformanceMetrics {\n  memoryStats: MemoryStats | null;\n  renderTime: number;\n  interactionLatency: number;\n  resourceCount: number;\n  activeListeners: number;\n}\n\nclass MemoryOptimizer {\n  private memoryCheckInterval: NodeJS.Timeout | null = null;\n  private memoryHistory: MemoryStats[] = [];\n  private activeListeners = new Map<string, Set<EventListener>>();\n  private weakRefs = new Set<WeakRef<any>>();\n  private cleanupCallbacks = new Set<() => void>();\n\n  // Memory monitoring\n  startMemoryMonitoring(intervalMs: number = 5000): void {\n    if (!('memory' in performance)) {\n      console.warn('Memory API not available');\n      return;\n    }\n\n    this.memoryCheckInterval = setInterval(() => {\n      const memoryStats = this.getMemoryStats();\n      if (memoryStats) {\n        this.memoryHistory.push(memoryStats);\n\n        // Keep only last 20 measurements\n        if (this.memoryHistory.length > 20) {\n          this.memoryHistory.shift();\n        }\n\n        // Check for memory leaks\n        this.detectMemoryLeaks(memoryStats);\n\n        if (process.env.NODE_ENV === 'development') {\n          this.logMemoryStats(memoryStats);\n        }\n      }\n    }, intervalMs);\n  }\n\n  stopMemoryMonitoring(): void {\n    if (this.memoryCheckInterval) {\n      clearInterval(this.memoryCheckInterval);\n      this.memoryCheckInterval = null;\n    }\n  }\n\n  // Get current memory statistics\n  getMemoryStats(): MemoryStats | null {\n    if (!('memory' in performance)) return null;\n\n    const memory = (performance as any).memory;\n\n    return {\n      usedJSHeapSize: memory.usedJSHeapSize,\n      totalJSHeapSize: memory.totalJSHeapSize,\n      jsHeapSizeLimit: memory.jsHeapSizeLimit,\n      usagePercentage: (memory.usedJSHeapSize / memory.jsHeapSizeLimit) * 100,\n      timestamp: Date.now(),\n    };\n  }\n\n  // Detect potential memory leaks\n  private detectMemoryLeaks(currentStats: MemoryStats): void {\n    if (this.memoryHistory.length < 5) return;\n\n    const recentStats = this.memoryHistory.slice(-5);\n    const growthTrend = recentStats.every((stats, index) => {\n      if (index === 0) return true;\n      return stats.usedJSHeapSize > recentStats[index - 1].usedJSHeapSize;\n    });\n\n    const averageGrowth =\n      recentStats.reduce((acc, stats, index) => {\n        if (index === 0) return 0;\n        return (\n          acc + (stats.usedJSHeapSize - recentStats[index - 1].usedJSHeapSize)\n        );\n      }, 0) /\n      (recentStats.length - 1);\n\n    // Alert if memory is consistently growing\n    if (growthTrend && averageGrowth > 1024 * 1024) {\n      // 1MB average growth\n      console.warn('🚨 Potential memory leak detected!', {\n        averageGrowth: `${(averageGrowth / 1024 / 1024).toFixed(2)}MB`,\n        currentUsage: `${(currentStats.usedJSHeapSize / 1024 / 1024).toFixed(2)}MB`,\n        usagePercentage: `${currentStats.usagePercentage.toFixed(1)}%`,\n      });\n\n      // Suggest garbage collection if available\n      if ('gc' in window && typeof (window as any).gc === 'function') {\n        console.log('🗑️ Running garbage collection...');\n        (window as any).gc();\n      }\n    }\n\n    // Alert if memory usage is very high\n    if (currentStats.usagePercentage > 80) {\n      console.error('🚨 High memory usage detected!', {\n        usage: `${currentStats.usagePercentage.toFixed(1)}%`,\n        used: `${(currentStats.usedJSHeapSize / 1024 / 1024).toFixed(2)}MB`,\n        limit: `${(currentStats.jsHeapSizeLimit / 1024 / 1024).toFixed(2)}MB`,\n      });\n\n      // Trigger cleanup\n      this.performEmergencyCleanup();\n    }\n  }\n\n  // Emergency cleanup when memory is high\n  private performEmergencyCleanup(): void {\n    console.log('🧹 Performing emergency memory cleanup...');\n\n    // Run all registered cleanup callbacks\n    this.cleanupCallbacks.forEach(callback => {\n      try {\n        callback();\n      } catch (error) {\n        console.error('Cleanup callback failed:', error);\n      }\n    });\n\n    // Clear weak references\n    this.weakRefs.clear();\n\n    // Remove unused event listeners\n    this.cleanupUnusedListeners();\n\n    // Clear caches if available\n    if ('caches' in window) {\n      caches.keys().then(names => {\n        names.forEach(name => {\n          if (name.includes('temp') || name.includes('cache')) {\n            caches.delete(name);\n          }\n        });\n      });\n    }\n\n    // Force garbage collection if available\n    if ('gc' in window && typeof (window as any).gc === 'function') {\n      (window as any).gc();\n    }\n  }\n\n  // Log memory statistics\n  private logMemoryStats(stats: MemoryStats): void {\n    const used = (stats.usedJSHeapSize / 1024 / 1024).toFixed(2);\n    const total = (stats.totalJSHeapSize / 1024 / 1024).toFixed(2);\n    const limit = (stats.jsHeapSizeLimit / 1024 / 1024).toFixed(2);\n\n    console.group('🧠 Memory Stats');\n    console.log(`Used: ${used}MB / Total: ${total}MB / Limit: ${limit}MB`);\n    console.log(`Usage: ${stats.usagePercentage.toFixed(1)}%`);\n    console.log(`Active Listeners: ${this.getTotalListenerCount()}`);\n    console.log(`WeakRefs: ${this.weakRefs.size}`);\n    console.groupEnd();\n  }\n\n  // Register event listener for tracking\n  addTrackedListener(\n    element: EventTarget,\n    event: string,\n    listener: EventListener,\n    options?: AddEventListenerOptions\n  ): void {\n    const key = `${element.constructor.name}_${event}`;\n\n    if (!this.activeListeners.has(key)) {\n      this.activeListeners.set(key, new Set());\n    }\n\n    this.activeListeners.get(key)!.add(listener);\n    element.addEventListener(event, listener, options);\n  }\n\n  // Remove tracked listener\n  removeTrackedListener(\n    element: EventTarget,\n    event: string,\n    listener: EventListener\n  ): void {\n    const key = `${element.constructor.name}_${event}`;\n    const listeners = this.activeListeners.get(key);\n\n    if (listeners) {\n      listeners.delete(listener);\n      if (listeners.size === 0) {\n        this.activeListeners.delete(key);\n      }\n    }\n\n    element.removeEventListener(event, listener);\n  }\n\n  // Clean up unused listeners\n  private cleanupUnusedListeners(): void {\n    let removedCount = 0;\n\n    this.activeListeners.forEach((listeners, key) => {\n      // Check if listeners are still needed (this is a simplified check)\n      listeners.forEach(listener => {\n        if (\n          typeof listener === 'function' &&\n          listener.name.includes('anonymous')\n        ) {\n          listeners.delete(listener);\n          removedCount++;\n        }\n      });\n\n      if (listeners.size === 0) {\n        this.activeListeners.delete(key);\n      }\n    });\n\n    if (removedCount > 0) {\n      console.log(`🧹 Cleaned up ${removedCount} unused event listeners`);\n    }\n  }\n\n  // Get total listener count\n  private getTotalListenerCount(): number {\n    let total = 0;\n    this.activeListeners.forEach(listeners => {\n      total += listeners.size;\n    });\n    return total;\n  }\n\n  // Register cleanup callback\n  registerCleanup(callback: () => void): void {\n    this.cleanupCallbacks.add(callback);\n  }\n\n  // Unregister cleanup callback\n  unregisterCleanup(callback: () => void): void {\n    this.cleanupCallbacks.delete(callback);\n  }\n\n  // Create weak reference for automatic cleanup\n  createWeakRef<T extends object>(obj: T): WeakRef<T> {\n    const weakRef = new WeakRef(obj);\n    this.weakRefs.add(weakRef);\n    return weakRef;\n  }\n\n  // Get performance metrics\n  getPerformanceMetrics(): PerformanceMetrics {\n    return {\n      memoryStats: this.getMemoryStats(),\n      renderTime: this.measureRenderTime(),\n      interactionLatency: this.measureInteractionLatency(),\n      resourceCount: document.querySelectorAll('*').length,\n      activeListeners: this.getTotalListenerCount(),\n    };\n  }\n\n  // Measure render time\n  private measureRenderTime(): number {\n    if ('navigation' in performance) {\n      const navigation = performance.getEntriesByType('navigation')[0] as any;\n      if (navigation) {\n        return navigation.loadEventEnd - navigation.loadEventStart;\n      }\n    }\n    return 0;\n  }\n\n  // Measure interaction latency\n  private measureInteractionLatency(): number {\n    // This would be implemented with performance observer\n    // For now, return a placeholder\n    return 0;\n  }\n\n  // Generate memory report\n  generateMemoryReport(): any {\n    const currentStats = this.getMemoryStats();\n    const metrics = this.getPerformanceMetrics();\n\n    return {\n      timestamp: new Date().toISOString(),\n      currentMemory: currentStats,\n      memoryHistory: [...this.memoryHistory],\n      performanceMetrics: metrics,\n      recommendations: this.generateRecommendations(currentStats, metrics),\n    };\n  }\n\n  // Generate performance recommendations\n  private generateRecommendations(\n    memoryStats: MemoryStats | null,\n    metrics: PerformanceMetrics\n  ): string[] {\n    const recommendations: string[] = [];\n\n    if (memoryStats && memoryStats.usagePercentage > 70) {\n      recommendations.push('Consider reducing the number of cached objects');\n      recommendations.push('Review and remove unused event listeners');\n    }\n\n    if (metrics.activeListeners > 100) {\n      recommendations.push(\n        'High number of event listeners detected - consider event delegation'\n      );\n    }\n\n    if (metrics.resourceCount > 1000) {\n      recommendations.push(\n        'High DOM node count - consider virtual scrolling for large lists'\n      );\n    }\n\n    if (metrics.renderTime > 100) {\n      recommendations.push(\n        'Slow render time detected - optimize component rendering'\n      );\n    }\n\n    return recommendations;\n  }\n\n  // Cleanup all resources\n  cleanup(): void {\n    this.stopMemoryMonitoring();\n    this.cleanupCallbacks.clear();\n    this.activeListeners.clear();\n    this.weakRefs.clear();\n    this.memoryHistory = [];\n  }\n}\n\n// React component memory optimizer\nexport class ReactMemoryOptimizer {\n  private componentRefs = new Map<string, WeakRef<any>>();\n\n  // Track component mount/unmount\n  trackComponent(componentName: string, component: any): void {\n    this.componentRefs.set(componentName, new WeakRef(component));\n  }\n\n  // Check for components that should have been unmounted\n  checkForLeakedComponents(): string[] {\n    const leaked: string[] = [];\n\n    this.componentRefs.forEach((weakRef, componentName) => {\n      const component = weakRef.deref();\n      if (component) {\n        // Component still exists - check if it should have been cleaned up\n        if (component._unmounted || component._reactInternalFiber === null) {\n          leaked.push(componentName);\n        }\n      } else {\n        // Component was garbage collected - remove from tracking\n        this.componentRefs.delete(componentName);\n      }\n    });\n\n    return leaked;\n  }\n\n  // Get component count\n  getComponentCount(): number {\n    let count = 0;\n    this.componentRefs.forEach(weakRef => {\n      if (weakRef.deref()) count++;\n    });\n    return count;\n  }\n}\n\n// Export singleton instances\nexport const memoryOptimizer = new MemoryOptimizer();\nexport const reactMemoryOptimizer = new ReactMemoryOptimizer();\n\n// Initialize memory optimization\nexport const initializeMemoryOptimization = () => {\n  if (process.env.NODE_ENV === 'development') {\n    memoryOptimizer.startMemoryMonitoring(10000); // Check every 10 seconds in dev\n  } else {\n    memoryOptimizer.startMemoryMonitoring(30000); // Check every 30 seconds in prod\n  }\n\n  // Cleanup on page unload\n  window.addEventListener('beforeunload', () => {\n    memoryOptimizer.cleanup();\n  });\n\n  // Register global cleanup for React components\n  memoryOptimizer.registerCleanup(() => {\n    const leaked = reactMemoryOptimizer.checkForLeakedComponents();\n    if (leaked.length > 0) {\n      console.warn('🚨 Potentially leaked components:', leaked);\n    }\n  });\n\n  console.log('🧠 Memory optimization initialized');\n};\n\nexport default {\n  memoryOptimizer,\n  reactMemoryOptimizer,\n  initializeMemoryOptimization,\n};\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/utils/pdfGenerator.ts",
    "messages": [
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 7,
        "column": 11,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 7,
        "endColumn": 14,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [141, 144], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [141, 144], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 9,
        "column": 21,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 9,
        "endColumn": 24,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [186, 189], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [186, 189], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 2,
        "message": "'quality' is defined but never used.",
        "line": 300,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 300,
        "endColumn": 20
      },
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 2,
        "message": "'quality' is defined but never used.",
        "line": 438,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 438,
        "endColumn": 20
      },
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 2,
        "message": "'quality' is defined but never used.",
        "line": 628,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 628,
        "endColumn": 20
      }
    ],
    "suppressedMessages": [],
    "errorCount": 5,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "import jsPDF from 'jspdf';\nimport 'jspdf-autotable';\n\nexport interface ProtocolData {\n  id: string;\n  type: 'handover' | 'return';\n  rental: any;\n  location: string;\n  vehicleCondition: any;\n  vehicleImages: unknown[];\n  documentImages: unknown[];\n  damageImages: unknown[];\n  damages: unknown[];\n  signatures: unknown[];\n  notes: string;\n  createdAt: Date;\n  completedAt: Date;\n}\n\ninterface PDFOptions {\n  includeImages?: boolean;\n  includeSignatures?: boolean;\n  imageQuality?: number;\n  maxImageWidth?: number;\n  maxImageHeight?: number;\n  filename?: string;\n  saveToR2?: boolean;\n  downloadLocal?: boolean;\n}\n\nclass PDFGenerator {\n  private doc: jsPDF;\n  private currentY: number = 30;\n  private pageWidth: number;\n  private pageHeight: number;\n  private margin: number = 20;\n  private primaryColor: [number, number, number] = [25, 118, 210]; // Modrá\n  private secondaryColor: [number, number, number] = [75, 85, 99]; // Sivá\n  private accentColor: [number, number, number] = [59, 130, 246]; // Modrá akcent\n  private successColor: [number, number, number] = [34, 197, 94]; // Zelená\n  private warningColor: [number, number, number] = [245, 158, 11]; // Oranžová\n\n  /**\n   * Bezpečné nastavenie fontu s fallback\n   */\n  private setFontSafely(font: string, style: string = 'normal') {\n    try {\n      this.doc.setFont(font, style);\n    } catch (error) {\n      console.warn(\n        `⚠️ Warning: Could not set font ${font} ${style}, using helvetica:`,\n        error\n      );\n      try {\n        this.doc.setFont('helvetica', style);\n      } catch (fallbackError) {\n        console.warn('⚠️ Warning: Could not set fallback font, using default');\n      }\n    }\n  }\n\n  constructor() {\n    this.doc = new jsPDF('p', 'mm', 'a4');\n    this.pageWidth = this.doc.internal.pageSize.getWidth();\n    this.pageHeight = this.doc.internal.pageSize.getHeight();\n\n    // Nastavenie Unicode podpory pre diakritiku\n    // jsPDF podporuje tieto fonty: 'helvetica', 'courier', 'times', 'symbol', 'zapfdingbats'\n    // Používame 'helvetica' ako štandardný font\n    this.setFontSafely('helvetica');\n  }\n\n  /**\n   * Generovanie PDF protokolu s fotkami\n   */\n  async generateProtocolPDF(\n    protocol: ProtocolData,\n    options: PDFOptions = {}\n  ): Promise<Blob> {\n    const {\n      includeImages = true,\n      includeSignatures = true,\n      imageQuality = 0.9,\n      maxImageWidth = 80,\n      maxImageHeight = 60,\n    } = options;\n\n    try {\n      // Header\n      this.addHeader(protocol);\n\n      // Základné informácie\n      this.addBasicInfo(protocol);\n\n      // Stav vozidla\n      this.addVehicleCondition(protocol);\n\n      // Fotky vozidla\n      if (\n        includeImages &&\n        protocol.vehicleImages &&\n        protocol.vehicleImages.length > 0\n      ) {\n        await this.addVehicleImages(\n          protocol.vehicleImages,\n          maxImageWidth,\n          maxImageHeight,\n          imageQuality\n        );\n      }\n\n      // Dokumenty\n      if (\n        includeImages &&\n        protocol.documentImages &&\n        protocol.documentImages.length > 0\n      ) {\n        await this.addDocumentImages(\n          protocol.documentImages,\n          maxImageWidth,\n          maxImageHeight,\n          imageQuality\n        );\n      }\n\n      // Škody\n      if (protocol.damages && protocol.damages.length > 0) {\n        this.addDamages(protocol.damages);\n      }\n\n      // Poznámky\n      if (protocol.notes) {\n        this.addNotes(protocol.notes);\n      }\n\n      // Podpisy\n      if (\n        includeSignatures &&\n        protocol.signatures &&\n        protocol.signatures.length > 0\n      ) {\n        await this.addSignatures(\n          protocol.signatures,\n          maxImageWidth,\n          maxImageHeight,\n          imageQuality\n        );\n      }\n\n      // Footer\n      this.addFooter(protocol);\n\n      return this.doc.output('blob');\n    } catch (error) {\n      console.error('❌ Error generating PDF:', error);\n      throw error;\n    }\n  }\n\n  /**\n   * Header s logom a názvom\n   */\n  private addHeader(protocol: ProtocolData) {\n    // Pozadie pre header\n    this.doc.setFillColor(...this.primaryColor);\n    this.doc.rect(0, 0, this.pageWidth, 35, 'F');\n\n    // Logo\n    this.doc.setFillColor(255, 255, 255);\n    this.doc.circle(25, 17.5, 8, 'F');\n    this.doc.setFontSize(12);\n    this.setFontSafely('helvetica', 'bold');\n    this.doc.setTextColor(255, 255, 255);\n    this.doc.text('BR', 25, 21, { align: 'center' });\n\n    // Názov protokolu\n    this.doc.setFontSize(16);\n    this.setFontSafely('helvetica', 'bold');\n    this.doc.setTextColor(255, 255, 255);\n    const title =\n      protocol.type === 'handover'\n        ? 'PROTOKOL O PREVZATÍ VOZIDLA'\n        : 'PROTOKOL O VRÁTENÍ VOZIDLA';\n    this.doc.text(title, this.pageWidth / 2, 22, { align: 'center' });\n\n    // Reset pozície\n    this.currentY = 45;\n\n    // Informácie o protokole\n    this.doc.setFontSize(10);\n    this.setFontSafely('helvetica', 'normal');\n    this.doc.setTextColor(...this.secondaryColor);\n    this.doc.text(\n      `Číslo protokolu: ${protocol.id}`,\n      this.margin,\n      this.currentY\n    );\n    this.currentY += 6;\n\n    this.doc.text(\n      `Dátum: ${new Date(protocol.completedAt).toLocaleDateString('sk-SK')}`,\n      this.margin,\n      this.currentY\n    );\n    this.currentY += 6;\n\n    this.doc.text(`Miesto: ${protocol.location}`, this.margin, this.currentY);\n    this.currentY += 15;\n  }\n\n  /**\n   * Základné informácie\n   */\n  private addBasicInfo(protocol: ProtocolData) {\n    this.addSectionTitle('ZÁKLADNÉ INFORMÁCIE');\n\n    const rental = protocol.rental;\n    const vehicle = rental.vehicle || {};\n    const customer = rental.customer || {};\n\n    const basicInfo = [\n      ['Číslo objednávky:', rental.orderNumber || 'N/A'],\n      [\n        'Vozidlo:',\n        `${vehicle.brand || ''} ${vehicle.model || ''} (${vehicle.licensePlate || 'N/A'})`,\n      ],\n      ['Zákazník:', `${customer.name || ''} ${customer.surname || ''}`],\n      ['Telefón:', customer.phone || 'N/A'],\n      ['Email:', customer.email || 'N/A'],\n      [\n        'Dátum prenájmu:',\n        `${new Date(rental.startDate).toLocaleDateString('sk-SK')} - ${new Date(rental.endDate).toLocaleDateString('sk-SK')}`,\n      ],\n      ['Cena:', `${rental.totalPrice} ${rental.currency || 'EUR'}`],\n    ];\n\n    // Layout s lepším rozložením\n    basicInfo.forEach(([label, value], index) => {\n      const row = Math.floor(index / 2);\n      const col = index % 2;\n      const x = col === 0 ? this.margin : this.margin + 85;\n      const y = this.currentY + row * 7;\n\n      this.doc.setFontSize(10);\n      this.setFontSafely('helvetica', 'bold');\n      this.doc.setTextColor(...this.primaryColor);\n      this.doc.text(label, x, y);\n\n      this.setFontSafely('helvetica', 'normal');\n      this.doc.setTextColor(...this.secondaryColor);\n      this.doc.text(value, x + 50, y);\n    });\n\n    this.currentY += Math.ceil(basicInfo.length / 2) * 7 + 10;\n  }\n\n  /**\n   * Stav vozidla\n   */\n  private addVehicleCondition(protocol: ProtocolData) {\n    this.addSectionTitle('STAV VOZIDLA');\n\n    const condition = protocol.vehicleCondition;\n\n    const vehicleInfo = [\n      ['Počet kilometrov:', `${condition.odometer?.toLocaleString() || 0} km`],\n      ['Úroveň paliva:', `${condition.fuelLevel || 0}%`],\n      ['Typ paliva:', condition.fuelType || 'N/A'],\n      ['Exteriér:', condition.exteriorCondition || 'N/A'],\n      ['Interiér:', condition.interiorCondition || 'N/A'],\n    ];\n\n    // Layout s lepším rozložením\n    vehicleInfo.forEach(([label, value], index) => {\n      const row = Math.floor(index / 2);\n      const col = index % 2;\n      const x = col === 0 ? this.margin : this.margin + 85;\n      const y = this.currentY + row * 7;\n\n      this.doc.setFontSize(10);\n      this.setFontSafely('helvetica', 'bold');\n      this.doc.setTextColor(...this.primaryColor);\n      this.doc.text(label, x, y);\n\n      this.setFontSafely('helvetica', 'normal');\n      this.doc.setTextColor(...this.secondaryColor);\n      this.doc.text(value, x + 50, y);\n    });\n\n    this.currentY += Math.ceil(vehicleInfo.length / 2) * 7 + 10;\n  }\n\n  /**\n   * Pridanie fotiek vozidla\n   */\n  private async addVehicleImages(\n    images: unknown[],\n    maxWidth: number,\n    maxHeight: number,\n    quality: number\n  ) {\n    this.addSectionTitle('FOTODOKUMENTÁCIA VOZIDLA');\n\n    if (images.length === 0) {\n      this.doc.setFontSize(10);\n      this.doc.setTextColor(128, 128, 128);\n      this.doc.text(\n        'Žiadne fotky nie sú k dispozícii',\n        this.margin,\n        this.currentY\n      );\n      this.currentY += 10;\n      return;\n    }\n\n    const imagesPerRow = 2;\n    let currentX = this.margin;\n    let rowHeight = 0;\n    let imagesInRow = 0;\n\n    for (let i = 0; i < images.length; i++) {\n      const image = images[i];\n\n      try {\n        let imgData: string;\n        try {\n          imgData = await this.loadImageFromUrl(image.url);\n        } catch (error) {\n          console.warn('⚠️ CORS error, trying proxy approach:', image.url);\n          imgData = this.createImagePlaceholder(\n            maxWidth,\n            maxHeight,\n            `Fotka ${i + 1}`\n          );\n        }\n\n        const { width, height } = await this.calculateImageDimensions(\n          imgData,\n          maxWidth,\n          maxHeight\n        );\n\n        // Kontrola či sa zmestí na stránku\n        if (this.currentY + height + 15 > this.pageHeight - 30) {\n          this.doc.addPage();\n          this.currentY = 30;\n          currentX = this.margin;\n          rowHeight = 0;\n          imagesInRow = 0;\n        }\n\n        // Pridanie obrázka\n        this.doc.addImage(\n          imgData,\n          'JPEG',\n          currentX,\n          this.currentY,\n          width,\n          height\n        );\n\n        // Popis obrázka\n        this.doc.setFontSize(8);\n        this.setFontSafely('helvetica', 'bold');\n        this.doc.setTextColor(...this.primaryColor);\n        this.doc.text(`Fotka ${i + 1}`, currentX, this.currentY + height + 3);\n\n        // URL link pod obrázkom (kratší)\n        if (image.url) {\n          const urlText = image.url;\n          const encodedUrl = urlText.replace(/\\s/g, '%20');\n\n          this.doc.setFontSize(4);\n          this.setFontSafely('helvetica', 'normal');\n          this.doc.setTextColor(...this.accentColor);\n\n          // Skrátený URL pre zobrazenie pod fotkou\n          const shortUrl =\n            encodedUrl.length > 50\n              ? encodedUrl.substring(0, 50) + '...'\n              : encodedUrl;\n\n          if (this.doc.getTextWidth(shortUrl) > width) {\n            this.doc.setFontSize(3);\n          }\n\n          this.doc.text(shortUrl, currentX, this.currentY + height + 6);\n        }\n\n        currentX += width + 15; // Zväčšený spacing medzi obrázkami\n        rowHeight = Math.max(rowHeight, height + 20); // Zväčšený row height pre URL\n        imagesInRow++;\n\n        if (imagesInRow >= imagesPerRow) {\n          this.currentY += rowHeight;\n          currentX = this.margin;\n          rowHeight = 0;\n          imagesInRow = 0;\n        }\n      } catch (error) {\n        console.error('❌ Error processing image:', image.url, error);\n        const placeholder = this.createImagePlaceholder(\n          maxWidth,\n          maxHeight,\n          `Chyba ${i + 1}`\n        );\n        this.doc.addImage(\n          placeholder,\n          'JPEG',\n          currentX,\n          this.currentY,\n          maxWidth,\n          maxHeight\n        );\n        currentX += maxWidth + 10;\n      }\n    }\n\n    if (imagesInRow > 0) {\n      this.currentY += rowHeight;\n    }\n\n    this.currentY += 10;\n\n    // Pridanie URL na novú stranu\n    if (images.length > 0) {\n      this.addImageUrlsPage(images);\n    }\n  }\n\n  /**\n   * Pridanie dokumentov\n   */\n  private async addDocumentImages(\n    images: unknown[],\n    maxWidth: number,\n    maxHeight: number,\n    quality: number\n  ) {\n    this.addSectionTitle('DOKUMENTY');\n\n    if (images.length === 0) {\n      this.doc.setFontSize(10);\n      this.doc.setTextColor(128, 128, 128);\n      this.doc.text(\n        'Žiadne dokumenty nie sú k dispozícii',\n        this.margin,\n        this.currentY\n      );\n      this.currentY += 10;\n      return;\n    }\n\n    const imagesPerRow = 2;\n    let currentX = this.margin;\n    let rowHeight = 0;\n    let imagesInRow = 0;\n\n    for (let i = 0; i < images.length; i++) {\n      const image = images[i];\n\n      try {\n        let imgData: string;\n        try {\n          imgData = await this.loadImageFromUrl(image.url);\n        } catch (error) {\n          console.warn('⚠️ CORS error, trying proxy approach:', image.url);\n          imgData = this.createImagePlaceholder(\n            maxWidth,\n            maxHeight,\n            `Dokument ${i + 1}`\n          );\n        }\n\n        const { width, height } = await this.calculateImageDimensions(\n          imgData,\n          maxWidth,\n          maxHeight\n        );\n\n        if (this.currentY + height + 15 > this.pageHeight - 30) {\n          this.doc.addPage();\n          this.currentY = 30;\n          currentX = this.margin;\n          rowHeight = 0;\n          imagesInRow = 0;\n        }\n\n        this.doc.addImage(\n          imgData,\n          'JPEG',\n          currentX,\n          this.currentY,\n          width,\n          height\n        );\n\n        this.doc.setFontSize(8);\n        this.setFontSafely('helvetica', 'bold');\n        this.doc.setTextColor(...this.primaryColor);\n        this.doc.text(\n          `Dokument ${i + 1}`,\n          currentX,\n          this.currentY + height + 3\n        );\n\n        if (image.url) {\n          const urlText = image.url;\n          const encodedUrl = urlText.replace(/\\s/g, '%20');\n\n          this.doc.setFontSize(4);\n          this.setFontSafely('helvetica', 'normal');\n          this.doc.setTextColor(...this.accentColor);\n\n          if (this.doc.getTextWidth(encodedUrl) > width) {\n            this.doc.setFontSize(3);\n          }\n\n          this.doc.text(encodedUrl, currentX, this.currentY + height + 6);\n        }\n\n        currentX += width + 15; // Zväčšený spacing medzi obrázkami\n        rowHeight = Math.max(rowHeight, height + 20); // Zväčšený row height pre URL\n        imagesInRow++;\n\n        if (imagesInRow >= imagesPerRow) {\n          this.currentY += rowHeight;\n          currentX = this.margin;\n          rowHeight = 0;\n          imagesInRow = 0;\n        }\n      } catch (error) {\n        console.error('❌ Error processing document:', image.url, error);\n        const placeholder = this.createImagePlaceholder(\n          maxWidth,\n          maxHeight,\n          `Chyba ${i + 1}`\n        );\n        this.doc.addImage(\n          placeholder,\n          'JPEG',\n          currentX,\n          this.currentY,\n          maxWidth,\n          maxHeight\n        );\n        currentX += maxWidth + 10;\n      }\n    }\n\n    if (imagesInRow > 0) {\n      this.currentY += rowHeight;\n    }\n\n    this.currentY += 10;\n  }\n\n  /**\n   * Pridanie škôd\n   */\n  private addDamages(damages: unknown[]) {\n    this.addSectionTitle('ŠKODY A POŠKODENIA');\n\n    if (damages.length === 0) {\n      this.doc.setFontSize(10);\n      this.doc.setTextColor(128, 128, 128);\n      this.doc.text(\n        'Žiadne škody nie sú zaznamenané',\n        this.margin,\n        this.currentY\n      );\n      this.currentY += 10;\n      return;\n    }\n\n    damages.forEach((damage, index) => {\n      this.doc.setFontSize(10);\n      this.setFontSafely('helvetica', 'bold');\n      this.doc.setTextColor(...this.warningColor);\n      this.doc.text(`${index + 1}.`, this.margin, this.currentY);\n\n      this.setFontSafely('helvetica', 'normal');\n      this.doc.setTextColor(...this.secondaryColor);\n      this.doc.text(\n        damage.description || 'N/A',\n        this.margin + 15,\n        this.currentY\n      );\n\n      if (damage.location) {\n        this.doc.setFontSize(8);\n        this.doc.setTextColor(128, 128, 128);\n        this.doc.text(\n          `Lokácia: ${damage.location}`,\n          this.margin + 15,\n          this.currentY + 4\n        );\n        this.currentY += 8;\n      } else {\n        this.currentY += 6;\n      }\n    });\n\n    this.currentY += 5;\n  }\n\n  /**\n   * Pridanie poznámok\n   */\n  private addNotes(notes: string) {\n    this.addSectionTitle('POZNÁMKY');\n\n    this.doc.setFontSize(10);\n    this.setFontSafely('helvetica', 'normal');\n    this.doc.setTextColor(...this.secondaryColor);\n    this.doc.text(notes, this.margin, this.currentY);\n\n    this.currentY += 15;\n  }\n\n  /**\n   * Pridanie podpisov\n   */\n  private async addSignatures(\n    signatures: unknown[],\n    maxWidth: number,\n    maxHeight: number,\n    quality: number\n  ) {\n    this.addSectionTitle('PODPISY');\n\n    if (signatures.length === 0) {\n      this.doc.setFontSize(10);\n      this.doc.setTextColor(128, 128, 128);\n      this.doc.text(\n        'Žiadne podpisy nie sú k dispozícii',\n        this.margin,\n        this.currentY\n      );\n      this.currentY += 10;\n      return;\n    }\n\n    const signaturesPerRow = 2;\n    let currentX = this.margin;\n    let rowHeight = 0;\n    let signaturesInRow = 0;\n\n    for (let i = 0; i < signatures.length; i++) {\n      const signature = signatures[i];\n\n      if (!signature.url && !signature.signature) {\n        console.warn('⚠️ Signature without URL or base64 data:', signature);\n        continue;\n      }\n\n      try {\n        let imgData: string;\n\n        if (signature.url) {\n          try {\n            imgData = await this.loadImageFromUrl(signature.url);\n          } catch (error) {\n            console.warn(\n              '⚠️ CORS error, trying proxy approach:',\n              signature.url\n            );\n            imgData = this.createImagePlaceholder(\n              maxWidth,\n              maxHeight,\n              `Podpis ${i + 1}`\n            );\n          }\n        } else if (\n          signature.signature &&\n          signature.signature.startsWith('data:image/')\n        ) {\n          imgData = signature.signature;\n        } else {\n          imgData = this.createImagePlaceholder(\n            maxWidth,\n            maxHeight,\n            `Podpis ${i + 1}`\n          );\n        }\n\n        const { width, height } = await this.calculateImageDimensions(\n          imgData,\n          maxWidth,\n          maxHeight\n        );\n\n        if (this.currentY + height + 15 > this.pageHeight - 30) {\n          this.doc.addPage();\n          this.currentY = 30;\n          currentX = this.margin;\n          rowHeight = 0;\n          signaturesInRow = 0;\n        }\n\n        this.doc.addImage(\n          imgData,\n          'JPEG',\n          currentX,\n          this.currentY,\n          width,\n          height\n        );\n\n        this.doc.setFontSize(8);\n        this.setFontSafely('helvetica', 'bold');\n        this.doc.setTextColor(...this.primaryColor);\n        this.doc.text(`Podpis ${i + 1}`, currentX, this.currentY + height + 3);\n\n        if (signature.url) {\n          const urlText = signature.url;\n          const encodedUrl = urlText.replace(/\\s/g, '%20');\n\n          this.doc.setFontSize(4);\n          this.setFontSafely('helvetica', 'normal');\n          this.doc.setTextColor(...this.accentColor);\n\n          if (this.doc.getTextWidth(encodedUrl) > width) {\n            this.doc.setFontSize(3);\n          }\n\n          this.doc.text(encodedUrl, currentX, this.currentY + height + 6);\n        }\n\n        currentX += width + 15; // Zväčšený spacing medzi podpismi\n        rowHeight = Math.max(rowHeight, height + 20); // Zväčšený row height pre URL\n        signaturesInRow++;\n\n        if (signaturesInRow >= signaturesPerRow) {\n          this.currentY += rowHeight;\n          currentX = this.margin;\n          rowHeight = 0;\n          signaturesInRow = 0;\n        }\n      } catch (error) {\n        console.error(\n          '❌ Error processing signature:',\n          signature.url || signature.signature,\n          error\n        );\n        const placeholder = this.createImagePlaceholder(\n          maxWidth,\n          maxHeight,\n          `Chyba ${i + 1}`\n        );\n        this.doc.addImage(\n          placeholder,\n          'JPEG',\n          currentX,\n          this.currentY,\n          maxWidth,\n          maxHeight\n        );\n        currentX += maxWidth + 10;\n      }\n    }\n\n    if (signaturesInRow > 0) {\n      this.currentY += rowHeight;\n    }\n\n    this.currentY += 10;\n  }\n\n  /**\n   * Footer\n   */\n  private addFooter(protocol: ProtocolData) {\n    this.currentY = this.pageHeight - 25;\n\n    // Čiara\n    this.doc.setDrawColor(...this.primaryColor);\n    this.doc.line(\n      this.margin,\n      this.currentY,\n      this.pageWidth - this.margin,\n      this.currentY\n    );\n    this.currentY += 5;\n\n    this.doc.setFontSize(8);\n    this.setFontSafely('helvetica', 'normal');\n    this.doc.setTextColor(...this.secondaryColor);\n    this.doc.text(\n      `Protokol vygenerovaný: ${new Date().toLocaleString('sk-SK')}`,\n      this.margin,\n      this.currentY\n    );\n    this.currentY += 4;\n    this.doc.text(`ID protokolu: ${protocol.id}`, this.margin, this.currentY);\n    this.currentY += 4;\n    this.doc.text(\n      'BlackRent - Profesionálne riešenia pre autopožičovne',\n      this.margin,\n      this.currentY\n    );\n  }\n\n  /**\n   * Názov sekcie\n   */\n  private addSectionTitle(title: string) {\n    this.doc.setFontSize(12);\n    this.setFontSafely('helvetica', 'bold');\n    this.doc.setTextColor(...this.primaryColor);\n    this.doc.text(title, this.margin, this.currentY);\n    this.currentY += 8;\n\n    // Čiara pod názvom\n    this.doc.setDrawColor(...this.primaryColor);\n    this.doc.line(\n      this.margin,\n      this.currentY,\n      this.pageWidth - this.margin,\n      this.currentY\n    );\n    this.currentY += 8;\n  }\n\n  /**\n   * Načítanie obrázka z URL s CORS handling\n   */\n  private async loadImageFromUrl(url: string): Promise<string> {\n    return new Promise((resolve, reject) => {\n      // Kontrola či URL existuje\n      if (!url) {\n        reject(new Error('URL is undefined or empty'));\n        return;\n      }\n\n      // Skontroluj či je to base64 URL\n      const isBase64Url = url.startsWith('data:image/');\n\n      if (isBase64Url) {\n        // Base64 URL - vráť priamo\n        console.log('✅ Using base64 image data directly');\n        resolve(url);\n        return;\n      }\n\n      // Skontroluj či je to R2 URL a potrebuje proxy\n      const isR2Url = url.includes('r2.dev') || url.includes('cloudflare.com');\n\n      if (isR2Url) {\n        try {\n          // Extrahuj key z R2 URL\n          const urlParts = url.split('/');\n          // Zober všetky časti po doméne ako key (preskoč https:// a doménu)\n          const key = urlParts.slice(3).join('/');\n\n          // Použi proxy endpoint\n          const proxyUrl = `${import.meta.env.VITE_API_URL || 'https://blackrent-app-production-4d6f.up.railway.app/api'}/files/proxy/${encodeURIComponent(key)}`;\n\n          console.log('🔄 Loading R2 image via proxy:', proxyUrl);\n\n          fetch(proxyUrl)\n            .then(response => {\n              if (!response.ok) {\n                throw new Error(\n                  `HTTP ${response.status}: ${response.statusText}`\n                );\n              }\n              return response.blob();\n            })\n            .then(blob => {\n              const reader = new FileReader();\n              reader.onload = () => {\n                const result = reader.result as string;\n                resolve(result);\n              };\n              reader.onerror = () => reject(new Error('Failed to read blob'));\n              reader.readAsDataURL(blob);\n            })\n            .catch(error => {\n              console.error('❌ Proxy fetch error:', error);\n              reject(error);\n            });\n        } catch (error) {\n          console.error('❌ Error processing R2 URL:', error);\n          reject(error);\n        }\n      } else {\n        // Pre iné URL použij priame načítanie\n        try {\n          const img = new Image();\n          img.crossOrigin = 'anonymous';\n\n          img.onload = () => {\n            const canvas = document.createElement('canvas');\n            canvas.width = img.width;\n            canvas.height = img.height;\n\n            const ctx = canvas.getContext('2d');\n            if (ctx) {\n              ctx.drawImage(img, 0, 0);\n              const dataUrl = canvas.toDataURL('image/jpeg', 0.8);\n              resolve(dataUrl);\n            } else {\n              reject(new Error('Failed to get canvas context'));\n            }\n          };\n\n          img.onerror = () => {\n            reject(new Error('Failed to load image'));\n          };\n\n          img.src = url;\n        } catch (error) {\n          console.error('❌ Error loading image:', error);\n          reject(error);\n        }\n      }\n    });\n  }\n\n  /**\n   * Vytvorenie placeholder obrázka\n   */\n  private createImagePlaceholder(\n    width: number,\n    height: number,\n    text: string\n  ): string {\n    const canvas = document.createElement('canvas');\n    const ctx = canvas.getContext('2d');\n\n    if (!ctx) {\n      return '';\n    }\n\n    // Nastavenie veľkosti canvas\n    canvas.width = width * 3.779527559; // Konverzia mm na px\n    canvas.height = height * 3.779527559;\n\n    // Pozadie\n    ctx.fillStyle = '#f3f4f6';\n    ctx.fillRect(0, 0, canvas.width, canvas.height);\n\n    // Border\n    ctx.strokeStyle = '#d1d5db';\n    ctx.lineWidth = 2;\n    ctx.strokeRect(1, 1, canvas.width - 2, canvas.height - 2);\n\n    // Text\n    ctx.fillStyle = '#6b7280';\n    ctx.font = '14px Arial';\n    ctx.textAlign = 'center';\n    ctx.textBaseline = 'middle';\n    ctx.fillText(text, canvas.width / 2, canvas.height / 2);\n\n    return canvas.toDataURL('image/jpeg', 0.8);\n  }\n\n  /**\n   * Výpočet rozmerov obrázka\n   */\n  private async calculateImageDimensions(\n    imgData: string,\n    maxWidth: number,\n    maxHeight: number\n  ) {\n    return new Promise<{ width: number; height: number }>(resolve => {\n      const img = new Image();\n      img.onload = () => {\n        const aspectRatio = img.width / img.height;\n\n        let width = maxWidth;\n        let height = width / aspectRatio;\n\n        if (height > maxHeight) {\n          height = maxHeight;\n          width = height * aspectRatio;\n        }\n\n        resolve({ width, height });\n      };\n\n      img.onerror = () => {\n        resolve({ width: maxWidth, height: maxHeight });\n      };\n\n      img.src = imgData;\n    });\n  }\n\n  /**\n   * Pridanie URL na novú stranu\n   */\n  private addImageUrlsPage(images: unknown[]) {\n    this.doc.addPage();\n    this.currentY = 30;\n\n    this.addSectionTitle('LINKY NA FOTKY');\n\n    this.doc.setFontSize(10);\n    this.setFontSafely('helvetica', 'normal');\n    this.doc.setTextColor(...this.secondaryColor);\n\n    images.forEach((image, index) => {\n      if (image.url) {\n        const urlText = image.url;\n        const encodedUrl = urlText.replace(/\\s/g, '%20');\n\n        // Číslo fotky\n        this.doc.setFontSize(10);\n        this.setFontSafely('helvetica', 'bold');\n        this.doc.setTextColor(...this.primaryColor);\n        this.doc.text(`${index + 1}.`, this.margin, this.currentY);\n\n        // URL\n        this.setFontSafely('helvetica', 'normal');\n        this.doc.setTextColor(...this.accentColor);\n        this.doc.setFontSize(8);\n\n        // Kontrola či sa zmestí na stránku\n        if (this.currentY > this.pageHeight - 30) {\n          this.doc.addPage();\n          this.currentY = 30;\n        }\n\n        // Rozdelenie dlhého URL na viac riadkov\n        const maxWidth = this.pageWidth - this.margin * 2 - 20; // 20mm pre číslo\n        const words = encodedUrl.split('/');\n        let currentLine = '';\n        let lineY = this.currentY;\n\n        for (const word of words) {\n          const testLine = currentLine + (currentLine ? '/' : '') + word;\n          if (this.doc.getTextWidth(testLine) > maxWidth) {\n            if (currentLine) {\n              this.doc.text(currentLine, this.margin + 20, lineY);\n              lineY += 4;\n              currentLine = word;\n            } else {\n              this.doc.text(word, this.margin + 20, lineY);\n              lineY += 4;\n            }\n          } else {\n            currentLine = testLine;\n          }\n        }\n\n        if (currentLine) {\n          this.doc.text(currentLine, this.margin + 20, lineY);\n        }\n\n        this.currentY = lineY + 8;\n      }\n    });\n  }\n}\n\nexport const generateProtocolPDF = async (\n  protocol: ProtocolData,\n  options: PDFOptions = {}\n): Promise<Blob> => {\n  const generator = new PDFGenerator();\n  return await generator.generateProtocolPDF(protocol, options);\n};\n\nexport default PDFGenerator;\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/utils/performance.ts",
    "messages": [
      {
        "ruleId": "react-hooks/exhaustive-deps",
        "severity": 2,
        "message": "React Hook useMemo has an unnecessary dependency: 'dependencies'. Either exclude it or remove the dependency array.",
        "line": 98,
        "column": 6,
        "nodeType": "ArrayExpression",
        "endLine": 98,
        "endColumn": 36,
        "suggestions": [
          {
            "desc": "Update the dependencies array to be: [data, filterFn]",
            "fix": { "range": [2501, 2531], "text": "[data, filterFn]" }
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 1,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "import { useState, useEffect, useMemo } from 'react';\n\n/**\n * Hook pre debouncing hodnoty - optimalizuje vyhľadávanie\n * @param value - hodnota na debouncing\n * @param delay - oneskorenie v ms (default: 300ms)\n * @returns debounced hodnota\n */\nexport function useDebounce<T>(value: T, delay: number = 300): T {\n  const [debouncedValue, setDebouncedValue] = useState<T>(value);\n\n  useEffect(() => {\n    const handler = setTimeout(() => {\n      setDebouncedValue(value);\n    }, delay);\n\n    return () => {\n      clearTimeout(handler);\n    };\n  }, [value, delay]);\n\n  return debouncedValue;\n}\n\n/**\n * Hook pre pagination - optimalizuje zobrazenie veľkých tabuliek\n * @param data - pole dát\n * @param itemsPerPage - počet položiek na stránku\n * @param initialPage - počiatočná stránka\n */\nexport function usePagination<T>(\n  data: T[],\n  itemsPerPage: number = 20,\n  initialPage: number = 1\n) {\n  const [currentPage, setCurrentPage] = useState(initialPage);\n\n  const totalItems = data.length;\n  const totalPages = Math.ceil(totalItems / itemsPerPage);\n  const startIndex = (currentPage - 1) * itemsPerPage;\n  const endIndex = startIndex + itemsPerPage;\n  const currentData = data.slice(startIndex, endIndex);\n\n  const goToPage = (page: number) => {\n    if (page >= 1 && page <= totalPages) {\n      setCurrentPage(page);\n    }\n  };\n\n  const nextPage = () => {\n    if (currentPage < totalPages) {\n      setCurrentPage(currentPage + 1);\n    }\n  };\n\n  const prevPage = () => {\n    if (currentPage > 1) {\n      setCurrentPage(currentPage - 1);\n    }\n  };\n\n  return {\n    currentData,\n    currentPage,\n    totalPages,\n    totalItems,\n    hasNextPage: currentPage < totalPages,\n    hasPrevPage: currentPage > 1,\n    goToPage,\n    nextPage,\n    prevPage,\n    pageInfo: {\n      startIndex: startIndex + 1,\n      endIndex: Math.min(endIndex, totalItems),\n      showing: `${startIndex + 1}-${Math.min(endIndex, totalItems)} z ${totalItems}`,\n    },\n  };\n}\n\n/**\n * Hook pre memoized filtering - optimalizuje filtrovanie\n * @param data - pole dát\n * @param filterFn - filter funkcia\n * @param dependencies - závislosti pre re-run\n */\nexport function useMemoizedFilter<T>(\n  data: T[],\n  filterFn: (item: T) => boolean,\n  dependencies: unknown[] = []\n): T[] {\n  return useMemo(() => {\n    // Bezpečnostná kontrola - ak data nie je pole, vráť prázdne pole\n    if (!Array.isArray(data)) {\n      console.warn('useMemoizedFilter: data is not an array:', data);\n      return [];\n    }\n    return data.filter(filterFn);\n  }, [data, filterFn, dependencies]);\n}\n\n/**\n * Hook pre lazy loading - optimalizuje načítanie obrázkov\n * @param src - URL obrázka\n * @param placeholder - placeholder obrázok\n */\nexport function useLazyImage(src: string, placeholder: string = '') {\n  const [imageSrc, setImageSrc] = useState(placeholder);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    if (!src) {\n      setImageSrc(placeholder);\n      setLoading(false);\n      return;\n    }\n\n    setLoading(true);\n    const img = new Image();\n    img.src = src;\n\n    img.onload = () => {\n      setImageSrc(src);\n      setLoading(false);\n    };\n\n    img.onerror = () => {\n      setImageSrc(placeholder);\n      setLoading(false);\n    };\n  }, [src, placeholder]);\n\n  return { imageSrc, loading };\n}\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/utils/priceCalculator.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/utils/protocolCache.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/utils/protocolFormCache.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/utils/rentalCloneUtils.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/utils/rentalDaysCalculator.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/utils/rentalFilters.ts",
    "messages": [
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 42,
        "column": 16,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 42,
        "endColumn": 19,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [861, 864], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [861, 864], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 43,
        "column": 14,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 43,
        "endColumn": 17,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [879, 882], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [879, 882], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 2,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "/**\n * 🔍 RENTAL FILTERS UTILITIES\n *\n * Optimalizované filter funkcie s memoization\n */\n\nimport type { Rental } from '../types';\n\nimport { searchInTexts } from './textNormalization';\n\nexport interface FilterCriteria {\n  searchQuery: string;\n  status: string;\n  paymentMethod: string;\n  company: string;\n  dateFrom: string;\n  dateTo: string;\n  priceMin: string;\n  priceMax: string;\n  protocolStatus: string;\n  vehicleBrand: string;\n  insuranceCompany: string;\n  insuranceType: string;\n  customerType: string;\n  rentalLocation: string;\n  vehicleCategory: string;\n}\n\nexport interface VehicleLookup {\n  [vehicleId: string]: {\n    brand?: string;\n    model?: string;\n    licensePlate?: string;\n    vin?: string; // 🆔 VIN číslo pre search\n    company?: string;\n    category?: string;\n  };\n}\n\nexport interface ProtocolLookup {\n  [rentalId: string]: {\n    handover?: any;\n    return?: any;\n  };\n}\n\n/**\n * 🚀 Optimalizovaná search filter funkcia\n */\nexport const applySearchFilter = (\n  rentals: Rental[],\n  query: string,\n  vehicleLookup: VehicleLookup\n): Rental[] => {\n  if (!query.trim()) return rentals;\n\n  return rentals.filter(rental => {\n    const vehicle = vehicleLookup[rental.vehicleId || ''];\n\n    // 🔤 DIACRITICS NORMALIZATION: Vyhľadávanie bez ohľadu na diakritiku\n    return searchInTexts(\n      [\n        rental.customerName,\n        rental.customerPhone,\n        rental.customerEmail,\n        rental.vehicleVin,\n        rental.notes,\n        vehicle?.brand,\n        vehicle?.model,\n        vehicle?.licensePlate,\n        vehicle?.vin,\n        vehicle?.company,\n      ],\n      query\n    );\n  });\n};\n\n/**\n * ⚡ Optimalizované status filter\n */\nexport const applyStatusFilter = (\n  rentals: Rental[],\n  status: string\n): Rental[] => {\n  if (status === 'all') return rentals;\n  return rentals.filter(rental => rental.status === status);\n};\n\n/**\n * 💳 Payment method filter\n */\nexport const applyPaymentMethodFilter = (\n  rentals: Rental[],\n  paymentMethod: string\n): Rental[] => {\n  if (paymentMethod === 'all') return rentals;\n  return rentals.filter(rental => rental.paymentMethod === paymentMethod);\n};\n\n/**\n * 🏢 Company filter\n */\nexport const applyCompanyFilter = (\n  rentals: Rental[],\n  company: string,\n  vehicleLookup: VehicleLookup\n): Rental[] => {\n  if (company === 'all') return rentals;\n  return rentals.filter(rental => {\n    const vehicle = vehicleLookup[rental.vehicleId || ''];\n    return vehicle?.company === company;\n  });\n};\n\n/**\n * 📅 Date range filter\n */\nexport const applyDateRangeFilter = (\n  rentals: Rental[],\n  dateFrom: string,\n  dateTo: string\n): Rental[] => {\n  let filtered = rentals;\n\n  if (dateFrom) {\n    const fromDate = new Date(dateFrom);\n    filtered = filtered.filter(\n      rental => new Date(rental.startDate) >= fromDate\n    );\n  }\n\n  if (dateTo) {\n    const toDate = new Date(dateTo);\n    filtered = filtered.filter(rental => new Date(rental.endDate) <= toDate);\n  }\n\n  return filtered;\n};\n\n/**\n * 💰 Price range filter\n */\nexport const applyPriceRangeFilter = (\n  rentals: Rental[],\n  priceMin: string,\n  priceMax: string\n): Rental[] => {\n  let filtered = rentals;\n\n  if (priceMin) {\n    const minPrice = parseFloat(priceMin);\n    if (!isNaN(minPrice)) {\n      filtered = filtered.filter(rental => rental.totalPrice >= minPrice);\n    }\n  }\n\n  if (priceMax) {\n    const maxPrice = parseFloat(priceMax);\n    if (!isNaN(maxPrice)) {\n      filtered = filtered.filter(rental => rental.totalPrice <= maxPrice);\n    }\n  }\n\n  return filtered;\n};\n\n/**\n * 📄 Protocol status filter\n */\nexport const applyProtocolStatusFilter = (\n  rentals: Rental[],\n  protocolStatus: string,\n  protocolLookup: ProtocolLookup\n): Rental[] => {\n  if (protocolStatus === 'all') return rentals;\n\n  return rentals.filter(rental => {\n    const rentalProtocols = protocolLookup[rental.id];\n    if (!rentalProtocols) return protocolStatus === 'none';\n\n    const hasHandover = !!rentalProtocols.handover;\n    const hasReturn = !!rentalProtocols.return;\n\n    switch (protocolStatus) {\n      case 'none':\n        return !hasHandover && !hasReturn;\n      case 'handover':\n        return hasHandover && !hasReturn;\n      case 'return':\n        return !hasHandover && hasReturn;\n      case 'both':\n        return hasHandover && hasReturn;\n      case 'partial':\n        return hasHandover || hasReturn;\n      default:\n        return true;\n    }\n  });\n};\n\n/**\n * 🚗 Vehicle brand filter\n */\nexport const applyVehicleBrandFilter = (\n  rentals: Rental[],\n  vehicleBrand: string,\n  vehicleLookup: VehicleLookup\n): Rental[] => {\n  if (vehicleBrand === 'all') return rentals;\n  return rentals.filter(rental => {\n    const vehicle = vehicleLookup[rental.vehicleId || ''];\n    return vehicle?.brand === vehicleBrand;\n  });\n};\n\n/**\n * 🔗 Composite filter function - aplikuje všetky filtre naraz\n */\nexport const applyAllFilters = (\n  rentals: Rental[],\n  criteria: FilterCriteria,\n  vehicleLookup: VehicleLookup,\n  protocolLookup: ProtocolLookup\n): Rental[] => {\n  let filtered = rentals;\n\n  // Aplikuj filtre v poradí podľa očakávanej selektivity (najselektívnejšie prvé)\n  filtered = applySearchFilter(filtered, criteria.searchQuery, vehicleLookup);\n  filtered = applyStatusFilter(filtered, criteria.status);\n  filtered = applyCompanyFilter(filtered, criteria.company, vehicleLookup);\n  filtered = applyDateRangeFilter(filtered, criteria.dateFrom, criteria.dateTo);\n  filtered = applyPaymentMethodFilter(filtered, criteria.paymentMethod);\n  filtered = applyPriceRangeFilter(\n    filtered,\n    criteria.priceMin,\n    criteria.priceMax\n  );\n  filtered = applyProtocolStatusFilter(\n    filtered,\n    criteria.protocolStatus,\n    protocolLookup\n  );\n  filtered = applyVehicleBrandFilter(\n    filtered,\n    criteria.vehicleBrand,\n    vehicleLookup\n  );\n\n  return filtered;\n};\n\n/**\n * 📊 Get unique values for filter options\n */\nexport const getUniqueFilterValues = (\n  rentals: Rental[],\n  vehicleLookup: VehicleLookup\n) => {\n  const statuses = new Set<string>();\n  const companies = new Set<string>();\n  const paymentMethods = new Set<string>();\n  const vehicleBrands = new Set<string>();\n\n  rentals.forEach(rental => {\n    if (rental.status) statuses.add(rental.status);\n    if (rental.paymentMethod) paymentMethods.add(rental.paymentMethod);\n\n    const vehicle = vehicleLookup[rental.vehicleId || ''];\n    if (vehicle?.company) companies.add(vehicle.company);\n    if (vehicle?.brand) vehicleBrands.add(vehicle.brand);\n  });\n\n  return {\n    statuses: Array.from(statuses).sort(),\n    companies: Array.from(companies).sort(),\n    paymentMethods: Array.from(paymentMethods).sort(),\n    vehicleBrands: Array.from(vehicleBrands).sort(),\n  };\n};\n\n/**\n * 🔍 Create vehicle lookup map for fast access\n */\nexport const createVehicleLookup = (vehicles: unknown[]): VehicleLookup => {\n  const lookup: VehicleLookup = {};\n\n  vehicles.forEach(vehicle => {\n    if (vehicle.id) {\n      lookup[vehicle.id] = {\n        brand: vehicle.brand,\n        model: vehicle.model,\n        licensePlate: vehicle.licensePlate,\n        company: vehicle.company,\n        category: vehicle.category,\n      };\n    }\n  });\n\n  return lookup;\n};\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/utils/rentalHelpers.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/utils/smartLogger.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/utils/storage.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/utils/textNormalization.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/utils/typeHelpers.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/utils/unifiedCacheSystem.ts",
    "messages": [
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 30,
        "column": 15,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 30,
        "endColumn": 18,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [799, 802], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [799, 802], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 31,
        "column": 17,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 31,
        "endColumn": 20,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [820, 823], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [820, 823], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 32,
        "column": 15,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 32,
        "endColumn": 18,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [839, 842], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [839, 842], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 41,
        "column": 35,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 41,
        "endColumn": 38,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [1009, 1012], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [1009, 1012], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 116,
        "column": 38,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 116,
        "endColumn": 41,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [2882, 2885], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [2882, 2885], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 5,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "/**\n * 🗄️ UNIFIED CACHE SYSTEM\n *\n * Postupne nahradí všetky cache systémy jedným inteligentným systémom.\n * FÁZA 1: Wrapper okolo existujúcich systémov (BEZPEČNÉ)\n * FÁZA 2: Postupná migrácia (KONTROLOVANÉ)\n * FÁZA 3: Odstránenie starých systémov (FINÁLNE)\n */\n\nimport { logger } from './smartLogger';\n\n// 🔄 PHASE 4: apiCache.ts removed - implementing direct cache logic\n// import { apiCache, cacheKeys, cacheHelpers } from './apiCache';\n\nexport interface UnifiedCacheOptions {\n  ttl?: number;\n  tags?: string[];\n  priority?: 'low' | 'normal' | 'high';\n  backgroundRefresh?: boolean;\n  background?: boolean; // Compatibility with old API\n}\n\nexport interface CacheStats {\n  hits: number;\n  misses: number;\n  hitRate: number;\n  memoryUsage: string;\n  entryCount: number;\n  systems: {\n    apiCache: any;\n    middleware: any;\n    database: any;\n  };\n}\n\n/**\n * 🎯 UNIFIED CACHE SYSTEM\n * Kompletný cache systém nahrádzajúci všetky predchádzajúce\n */\nclass UnifiedCacheSystem {\n  private cache = new Map<string, any>();\n  private stats = { hits: 0, misses: 0 };\n  private defaultTTL = 10 * 60 * 1000; // 10 minutes\n\n  /**\n   * 🔄 PHASE 4: Direct cache implementation\n   */\n  async getOrFetch<T>(\n    key: string,\n    fetchFn: () => Promise<T>,\n    options: UnifiedCacheOptions = {}\n  ): Promise<T> {\n    logger.debug(`🗄️ UNIFIED: Getting ${key}`);\n\n    const ttl = options.ttl || this.defaultTTL;\n    const cached = this.cache.get(key);\n\n    // Check if cached and not expired\n    if (cached && Date.now() - cached.timestamp < ttl) {\n      this.stats.hits++;\n      logger.debug(`🗄️ UNIFIED: Cache HIT for ${key}`);\n      return cached.data;\n    }\n\n    // Fetch fresh data\n    this.stats.misses++;\n    logger.debug(`🗄️ UNIFIED: Cache MISS for ${key}, fetching...`);\n\n    const data = await fetchFn();\n\n    // Store in cache\n    this.cache.set(key, {\n      data,\n      timestamp: Date.now(),\n      ttl,\n      tags: options.tags || [],\n    });\n\n    return data;\n  }\n\n  /**\n   * 🔄 PHASE 4: Direct cache invalidation\n   */\n  invalidateEntity(entity: string): void {\n    logger.debug(`🗄️ UNIFIED: Invalidating ${entity}`);\n\n    if (entity === 'all') {\n      // Clear all caches\n      this.cache.clear();\n      logger.debug('🗄️ UNIFIED: All cache cleared');\n    } else {\n      // Clear cache entries with matching tags\n      const keysToDelete: string[] = [];\n\n      this.cache.forEach((value, key) => {\n        if (value.tags && value.tags.includes(entity)) {\n          keysToDelete.push(key);\n        }\n        // Also clear by key pattern\n        if (key.includes(entity)) {\n          keysToDelete.push(key);\n        }\n      });\n\n      keysToDelete.forEach(key => {\n        this.cache.delete(key);\n        logger.debug(`🗄️ UNIFIED: Cleared cache key ${key}`);\n      });\n    }\n  }\n\n  /**\n   * 🔄 PHASE 1: Wrapper okolo cacheKeys (BEZPEČNÉ)\n   */\n  generateKey(type: string, params?: any): string {\n    // 🔄 PHASE 4: Direct key generation\n    const baseKey = type;\n    if (!params) return baseKey;\n\n    // Generate consistent key from parameters\n    const paramString = Object.keys(params)\n      .sort()\n      .map(key => `${key}:${params[key]}`)\n      .join('|');\n\n    return `${baseKey}_${paramString}`;\n  }\n\n  /**\n   * 📊 Unified stats (kombinuje všetky systémy)\n   */\n  getStats(): CacheStats {\n    // FÁZA 1: Zbiera stats zo všetkých systémov\n    // 🔄 PHASE 4: Direct stats from unified cache\n    const apiStats = {};\n\n    return {\n      hits: this.stats.hits,\n      misses: this.stats.misses,\n      hitRate:\n        (this.stats.hits / (this.stats.hits + this.stats.misses)) * 100 || 0,\n      memoryUsage: '~calculating~',\n      entryCount: this.cache.size,\n      systems: {\n        apiCache: apiStats,\n        middleware: { status: 'active' },\n        database: { status: 'active' },\n      },\n    };\n  }\n\n  /**\n   * 🧹 Clear all caches\n   */\n  clear(): void {\n    logger.debug('🗄️ UNIFIED: Clearing all caches');\n\n    // 🔄 PHASE 4: Direct cache clearing\n    this.cache.clear();\n    this.stats = { hits: 0, misses: 0 };\n    logger.debug('🗄️ UNIFIED: All caches cleared');\n  }\n}\n\n// 🎯 SINGLETON INSTANCE\nexport const unifiedCache = new UnifiedCacheSystem();\n\n// 🔄 COMPATIBILITY EXPORTS (pre postupnú migráciu)\nexport const compatibilityCache = {\n  // Zachováva existujúce API\n  getOrFetch: unifiedCache.getOrFetch.bind(unifiedCache),\n  invalidateEntity: unifiedCache.invalidateEntity.bind(unifiedCache),\n  generateKey: unifiedCache.generateKey.bind(unifiedCache),\n  clear: unifiedCache.clear.bind(unifiedCache),\n};\n\nexport default unifiedCache;\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/utils/unifiedFilterSystem.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/utils/v2TestData.ts",
    "messages": [
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 152,
        "column": 27,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 152,
        "endColumn": 30,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [4226, 4229], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [4226, 4229], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 175,
        "column": 52,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 175,
        "endColumn": 55,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [5076, 5079], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [5076, 5079], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 2,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "/**\n * V2 Protocol Test Data Generator\n * Generuje testovací rental objekt s reálnymi dátami pre V2 protokol\n */\n\nimport type { Customer, Rental, Vehicle } from '../types';\n\n// Reálne dáta z BMW X5 prenájmu (ID: 1606)\nexport const testRentalData: Rental = {\n  id: '1606',\n  customerId: '395',\n  vehicleId: '209',\n  startDate: new Date('2025-08-31T23:33:04.583Z'),\n  endDate: new Date('2025-08-31T23:33:04.583Z'),\n  totalPrice: 100.0,\n  deposit: 110.0,\n  currency: 'EUR',\n  allowedKilometers: 125,\n  extraKilometerRate: 0.3,\n  customerName: 'Mikail Pirgozi',\n  orderNumber: '123521',\n  handoverPlace: 'Trenčín',\n  pickupLocation: 'Trenčín',\n  returnLocation: 'Trenčín',\n  paymentMethod: 'cash',\n  paid: false,\n  status: 'pending',\n  notes: '',\n  createdAt: new Date('2025-08-31T23:33:29.039Z'),\n  commission: 20.0,\n  discount: null,\n  customCommission: null,\n  extraKmCharge: null,\n  payments: [],\n  history: [],\n  confirmed: false,\n  dailyKilometers: null,\n  returnConditions: null,\n  fuelLevel: null,\n  odometer: null,\n  returnFuelLevel: null,\n  returnOdometer: null,\n  actualKilometers: null,\n  fuelRefillCost: null,\n  handoverProtocolId: null,\n  returnProtocolId: null,\n  company: 'Miki',\n  isFlexible: false,\n  flexibleEndDate: null,\n  customerEmail: 'pirgozi1@gmail.com',\n  customerPhone: '421907751872',\n  vehicleName: 'Bmw X5 - založena',\n  vehicleCode: 'C95246',\n  approvalStatus: 'approved',\n  autoProcessedAt: null,\n  emailContent: null,\n  rentalType: 'standard',\n  canBeOverridden: false,\n  overridePriority: 5,\n  notificationThreshold: 3,\n  autoExtend: false,\n  overrideHistory: [],\n};\n\nexport const testVehicleData: Vehicle = {\n  id: '209',\n  companyId: '3',\n  brand: 'Bmw',\n  model: 'X5 - založena',\n  year: 2024,\n  licensePlate: 'C95246',\n  vin: '', // Prázdne v databáze\n  color: '',\n  fuelType: '',\n  transmission: '',\n  category: 'suv',\n  dailyRate: null,\n  status: 'temporarily_removed',\n  createdAt: new Date('2025-08-23T17:25:38.597Z'),\n  company: 'Miki',\n  pricing: [\n    { id: '1', maxDays: 1, minDays: 0, pricePerDay: 100 },\n    { id: '2', maxDays: 3, minDays: 2, pricePerDay: 90 },\n    { id: '3', maxDays: 7, minDays: 4, pricePerDay: 80 },\n    { id: '4', maxDays: 14, minDays: 8, pricePerDay: 70 },\n    { id: '5', maxDays: 22, minDays: 15, pricePerDay: 60 },\n    { id: '6', maxDays: 30, minDays: 23, pricePerDay: 50 },\n    { id: '7', maxDays: 365, minDays: 31, pricePerDay: 40 },\n  ],\n  commission: { type: 'percentage', value: 20 },\n};\n\nexport const testCustomerData: Customer = {\n  id: '395',\n  firstName: 'Mikail',\n  lastName: 'Pirgozi',\n  email: 'pirgozi1@gmail.com',\n  phone: '421907751872',\n  createdAt: new Date('2025-08-31T23:33:29.039Z'),\n};\n\n/**\n * Vytvorí kompletný rental objekt s vehicle a customer dátami\n * Simuluje to čo dostáva V1 protokol z API\n */\nexport function createTestRentalWithRelations(): Rental & {\n  vehicle: Vehicle;\n  customer: Customer;\n} {\n  return {\n    ...testRentalData,\n    vehicle: testVehicleData,\n    customer: testCustomerData,\n    // Dodatočné polia pre V1 kompatibilitu\n    vehicleVin: testVehicleData.vin,\n    customerAddress: '', // Nie je v databáze\n  };\n}\n\n/**\n * Generuje HandoverProtocolDataV2 z rental dát\n * Rovnako ako V1 automaticky mapuje dáta\n */\nexport function generateV2ProtocolData(\n  rental: Rental & { vehicle: Vehicle; customer: Customer }\n) {\n  return {\n    protocolId: `test-protocol-${Date.now()}`,\n    vehicleId: rental.vehicleId,\n    customerId: rental.customerId,\n    rentalId: rental.id,\n\n    // Vehicle info - mapované z rental.vehicle\n    vehicle: {\n      licensePlate: rental.vehicle.licensePlate,\n      brand: rental.vehicle.brand,\n      model: rental.vehicle.model,\n      year: rental.vehicle.year,\n      vin: rental.vehicle.vin || rental.vehicleVin,\n      status: rental.vehicle.status,\n      company: rental.vehicle.company,\n      companyName: rental.company, // Pre caching\n    },\n\n    // Customer info - mapované z rental.customer\n    customer: {\n      firstName: rental.customer.firstName,\n      lastName: rental.customer.lastName,\n      name: `${rental.customer.firstName} ${rental.customer.lastName}`, // V1 kompatibilita\n      email: rental.customer.email,\n      phone: rental.customer.phone,\n      address: (rental as any).customerAddress || '', // Ak existuje\n    },\n\n    // Rental details - všetky V1 kompatibilné polia\n    rental: {\n      orderNumber: rental.orderNumber,\n      startDate: rental.startDate,\n      endDate: rental.endDate,\n      startKm: rental.odometer || 0,\n      location: rental.pickupLocation || rental.handoverPlace || '',\n      pricePerDay: 100, // Z pricing\n      totalPrice: rental.totalPrice,\n      deposit: rental.deposit,\n      allowedKilometers: rental.allowedKilometers,\n      extraKilometerRate: rental.extraKilometerRate,\n      pickupLocation: rental.pickupLocation,\n      returnLocation: rental.returnLocation,\n    },\n\n    // Protocol specific fields (V2 interface)\n    fuelLevel: rental.fuelLevel || 100,\n    odometer: rental.odometer || undefined,\n    condition: 'good' as const,\n    depositPaymentMethod: (rental.paymentMethod as any) || 'cash',\n    damages: [],\n    notes: rental.notes || '',\n\n    // Signatures - prázdne\n    signatures: [],\n\n    // V1 kompatibilné foto kategórie - prázdne\n    vehicleImages: [],\n    documentImages: [],\n    damageImages: [],\n    odometerImages: [],\n    fuelImages: [],\n\n    // V2 photos - prázdne\n    photos: [],\n  };\n}\n\n/**\n * Console helper pre debugging\n */\nexport function logTestData() {\n  const rental = createTestRentalWithRelations();\n  const v2Data = generateV2ProtocolData(rental);\n\n  console.group('🧪 V2 Protocol Test Data');\n  console.log('📋 Rental:', rental);\n  console.log('🚗 Vehicle:', rental.vehicle);\n  console.log('👤 Customer:', rental.customer);\n  console.log('📝 V2 Protocol Data:', v2Data);\n  console.groupEnd();\n\n  return { rental, v2Data };\n}\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/utils/vehicles/vehicleHelpers.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/utils/videoCompression.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/utils/viteOptimizations.ts",
    "messages": [
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 2,
        "message": "'ComponentType' is defined but never used.",
        "line": 4,
        "column": 10,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 4,
        "endColumn": 23
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 9,
        "column": 48,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 9,
        "endColumn": 51,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [306, 309], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [306, 309], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 9,
        "column": 65,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 9,
        "endColumn": 68,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [323, 326], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [323, 326], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 13,
        "column": 50,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 13,
        "endColumn": 53,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [434, 437], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [434, 437], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 14,
        "column": 45,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 14,
        "endColumn": 48,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [487, 490], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [487, 490], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 29,
        "column": 52,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 29,
        "endColumn": 55,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [940, 943], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [940, 943], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 29,
        "column": 67,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 29,
        "endColumn": 70,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [955, 958], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [955, 958], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 42,
        "column": 42,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 42,
        "endColumn": 45,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [1334, 1337], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [1334, 1337], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 100,
        "column": 61,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 100,
        "endColumn": 64,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [3076, 3079], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [3076, 3079], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 9,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "// 🚀 Vite Performance Optimizations\n// Advanced preloading, code splitting, and performance utilities\n\nimport { ComponentType } from 'react';\n\n// Vite-specific module preloading\ninterface ViteModulePreloader {\n  preloadModule: (id: string) => Promise<void>;\n  preloadComponent: (importFunc: () => Promise<any>) => Promise<any>;\n}\n\nclass ViteOptimizer implements ViteModulePreloader {\n  private preloadCache = new Map<string, Promise<any>>();\n  private preloadQueue: Array<() => Promise<any>> = [];\n  private isProcessingQueue = false;\n\n  // Preload Vite module by ID\n  async preloadModule(id: string): Promise<void> {\n    if (this.preloadCache.has(id)) {\n      return this.preloadCache.get(id);\n    }\n\n    const preloadPromise = import(/* @vite-ignore */ id);\n    this.preloadCache.set(id, preloadPromise);\n    return preloadPromise;\n  }\n\n  // Preload component with intelligent batching\n  async preloadComponent(importFunc: () => Promise<any>): Promise<any> {\n    const funcString = importFunc.toString();\n\n    if (this.preloadCache.has(funcString)) {\n      return this.preloadCache.get(funcString);\n    }\n\n    const preloadPromise = importFunc();\n    this.preloadCache.set(funcString, preloadPromise);\n    return preloadPromise;\n  }\n\n  // Batch preload multiple components during idle time\n  queuePreload(importFunc: () => Promise<any>): void {\n    this.preloadQueue.push(importFunc);\n    this.processQueueWhenIdle();\n  }\n\n  private processQueueWhenIdle(): void {\n    if (this.isProcessingQueue || this.preloadQueue.length === 0) return;\n\n    this.isProcessingQueue = true;\n\n    // Use requestIdleCallback for non-blocking preloading\n    const processNext = (deadline?: IdleDeadline) => {\n      while (\n        this.preloadQueue.length > 0 &&\n        (!deadline || deadline.timeRemaining() > 0)\n      ) {\n        const importFunc = this.preloadQueue.shift();\n        if (importFunc) {\n          this.preloadComponent(importFunc).catch(console.warn);\n        }\n      }\n\n      if (this.preloadQueue.length > 0) {\n        if ('requestIdleCallback' in window) {\n          requestIdleCallback(processNext);\n        } else {\n          setTimeout(() => processNext(), 16); // Fallback for Safari\n        }\n      } else {\n        this.isProcessingQueue = false;\n      }\n    };\n\n    if ('requestIdleCallback' in window) {\n      requestIdleCallback(processNext);\n    } else {\n      setTimeout(() => processNext(), 16);\n    }\n  }\n}\n\n// Global Vite optimizer instance\nexport const viteOptimizer = new ViteOptimizer();\n\n// Critical component preloading for BlackRent\nexport const preloadCriticalComponents = () => {\n  // Preload most used components immediately\n  viteOptimizer.queuePreload(\n    () => import('../components/vehicles/VehicleListNew')\n  );\n  viteOptimizer.queuePreload(() => import('../components/rentals/RentalList'));\n  viteOptimizer.queuePreload(\n    () => import('../components/customers/CustomerListNew')\n  );\n};\n\n// Route-based preloading\nexport const preloadRouteComponents = (currentRoute: string) => {\n  const routePreloadMap: Record<string, Array<() => Promise<any>>> = {\n    '/vehicles': [\n      () => import('../components/vehicles/VehicleListNew'),\n      () => import('../components/common/LazyDetailView'),\n    ],\n    '/rentals': [\n      () => import('../components/rentals/RentalList'),\n      () => import('../components/protocols/HandoverProtocolForm'),\n    ],\n    '/customers': [() => import('../components/customers/CustomerListNew')],\n    '/statistics': [() => import('../components/Statistics')],\n    '/email-monitoring': [\n      () => import('../components/email-management/EmailManagementLayout'),\n    ],\n  };\n\n  const preloads = routePreloadMap[currentRoute];\n  if (preloads) {\n    preloads.forEach(importFunc => viteOptimizer.queuePreload(importFunc));\n  }\n};\n\n// Intersection Observer for predictive preloading\nexport const setupPredictivePreloading = () => {\n  const observer = new IntersectionObserver(\n    entries => {\n      entries.forEach(entry => {\n        if (entry.isIntersecting) {\n          const element = entry.target as HTMLElement;\n          const preloadRoute = element.dataset.preloadRoute;\n\n          if (preloadRoute) {\n            preloadRouteComponents(preloadRoute);\n            observer.unobserve(element);\n          }\n        }\n      });\n    },\n    { rootMargin: '50px' }\n  );\n\n  // Observe navigation elements\n  document.querySelectorAll('[data-preload-route]').forEach(el => {\n    observer.observe(el);\n  });\n\n  return observer;\n};\n\n// Vite environment-specific optimizations\nexport const initializeViteOptimizations = () => {\n  if (import.meta.env.DEV) {\n    console.log('🚀 Vite optimizations initialized (development mode)');\n\n    // In development, preload less aggressively\n    setTimeout(preloadCriticalComponents, 2000);\n  } else {\n    console.log('🚀 Vite optimizations initialized (production mode)');\n\n    // In production, preload more aggressively\n    setTimeout(preloadCriticalComponents, 500);\n    setTimeout(setupPredictivePreloading, 1000);\n  }\n};\n\n// Performance monitoring for Vite chunks\nexport const monitorVitePerformance = () => {\n  if ('performance' in window && 'getEntriesByType' in performance) {\n    const observer = new PerformanceObserver(list => {\n      list.getEntries().forEach(entry => {\n        if (entry.name.includes('chunk-') || entry.name.includes('assets/')) {\n          console.log(\n            `📊 Vite chunk loaded: ${entry.name} (${entry.duration}ms)`\n          );\n        }\n      });\n    });\n\n    observer.observe({ entryTypes: ['resource'] });\n  }\n};\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/utils/webVitals.ts",
    "messages": [
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 18,
        "column": 16,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 18,
        "endColumn": 19,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [432, 435], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [432, 435], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 44,
        "column": 32,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 44,
        "endColumn": 35,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [1172, 1175], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [1172, 1175], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 61,
        "column": 35,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 61,
        "endColumn": 38,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [1743, 1746], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [1743, 1746], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 144,
        "column": 26,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 144,
        "endColumn": 29,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [4116, 4119], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [4116, 4119], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 175,
        "column": 39,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 175,
        "endColumn": 42,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [5010, 5013], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [5010, 5013], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 232,
        "column": 33,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 232,
        "endColumn": 36,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [6409, 6412], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [6409, 6412], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 293,
        "column": 36,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 293,
        "endColumn": 39,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [8207, 8210], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [8207, 8210], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 304,
        "column": 38,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 304,
        "endColumn": 41,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [8520, 8523], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [8520, 8523], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 8,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "// ⚡ Enhanced Web Vitals Monitoring\n// Comprehensive performance tracking with real-time metrics\n\nimport { getCLS, getFID, getFCP, getLCP, getTTFB } from 'web-vitals';\n\ninterface VitalsMetric {\n  name: string;\n  value: number;\n  rating: 'good' | 'needs-improvement' | 'poor';\n  navigationType: string;\n}\n\ninterface PerformanceData {\n  metrics: VitalsMetric[];\n  timestamp: number;\n  url: string;\n  userAgent: string;\n  connection?: any;\n}\n\nclass WebVitalsMonitor {\n  private metrics: VitalsMetric[] = [];\n  private onMetricCallback?: (data: PerformanceData) => void;\n\n  constructor(onMetricCallback?: (data: PerformanceData) => void) {\n    this.onMetricCallback = onMetricCallback;\n    this.initializeMonitoring();\n  }\n\n  private initializeMonitoring() {\n    // Core Web Vitals\n    getCLS(this.handleMetric.bind(this));\n    getFID(this.handleMetric.bind(this));\n    getFCP(this.handleMetric.bind(this));\n    getLCP(this.handleMetric.bind(this));\n    getTTFB(this.handleMetric.bind(this));\n\n    // Performance Observer for additional metrics\n    this.observeResourceTiming();\n    this.observeLongTasks();\n    this.observeLayoutShifts();\n  }\n\n  private handleMetric(metric: any) {\n    const vitalsMetric: VitalsMetric = {\n      name: metric.name,\n      value: metric.value,\n      rating: metric.rating || this.calculateRating(metric.name, metric.value),\n      navigationType: metric.navigationType || 'navigate',\n    };\n\n    this.metrics.push(vitalsMetric);\n\n    // Send metric to callback\n    if (this.onMetricCallback) {\n      const performanceData: PerformanceData = {\n        metrics: [vitalsMetric],\n        timestamp: Date.now(),\n        url: window.location.href,\n        userAgent: navigator.userAgent,\n        connection: (navigator as any).connection,\n      };\n\n      this.onMetricCallback(performanceData);\n    }\n\n    // Log to console in development\n    if (process.env.NODE_ENV === 'development') {\n      console.group(`📊 Web Vital: ${metric.name}`);\n      console.log(`Value: ${metric.value.toFixed(2)}ms`);\n      console.log(`Rating: ${vitalsMetric.rating}`);\n      console.log(`Navigation: ${vitalsMetric.navigationType}`);\n      console.groupEnd();\n    }\n  }\n\n  private calculateRating(\n    name: string,\n    value: number\n  ): 'good' | 'needs-improvement' | 'poor' {\n    const thresholds: { [key: string]: [number, number] } = {\n      CLS: [0.1, 0.25],\n      FID: [100, 300],\n      FCP: [1800, 3000],\n      LCP: [2500, 4000],\n      TTFB: [800, 1800],\n    };\n\n    const threshold = thresholds[name];\n    if (!threshold) return 'good';\n\n    if (value <= threshold[0]) return 'good';\n    if (value <= threshold[1]) return 'needs-improvement';\n    return 'poor';\n  }\n\n  private observeResourceTiming() {\n    if ('PerformanceObserver' in window) {\n      try {\n        const observer = new PerformanceObserver(list => {\n          const entries = list.getEntries();\n          entries.forEach(entry => {\n            if (entry.entryType === 'resource') {\n              this.trackResourceTiming(entry as PerformanceResourceTiming);\n            }\n          });\n        });\n\n        observer.observe({ entryTypes: ['resource'] });\n      } catch (error) {\n        console.warn('Resource timing observation failed:', error);\n      }\n    }\n  }\n\n  private observeLongTasks() {\n    if ('PerformanceObserver' in window) {\n      try {\n        const observer = new PerformanceObserver(list => {\n          const entries = list.getEntries();\n          entries.forEach(entry => {\n            if (entry.duration > 50) {\n              // Long task threshold\n              this.trackLongTask(entry);\n            }\n          });\n        });\n\n        observer.observe({ entryTypes: ['longtask'] });\n      } catch (error) {\n        console.warn('Long task observation not supported');\n      }\n    }\n  }\n\n  private observeLayoutShifts() {\n    if ('PerformanceObserver' in window) {\n      try {\n        const observer = new PerformanceObserver(list => {\n          const entries = list.getEntries();\n          entries.forEach(entry => {\n            if (\n              entry.entryType === 'layout-shift' &&\n              !(entry as any).hadRecentInput\n            ) {\n              this.trackLayoutShift(entry);\n            }\n          });\n        });\n\n        observer.observe({ entryTypes: ['layout-shift'] });\n      } catch (error) {\n        console.warn('Layout shift observation failed:', error);\n      }\n    }\n  }\n\n  private trackResourceTiming(entry: PerformanceResourceTiming) {\n    const slowResources = entry.duration > 1000; // Slow resource threshold\n\n    if (slowResources && process.env.NODE_ENV === 'development') {\n      console.warn(\n        `🐌 Slow resource: ${entry.name} (${entry.duration.toFixed(2)}ms)`\n      );\n    }\n  }\n\n  private trackLongTask(entry: PerformanceEntry) {\n    if (process.env.NODE_ENV === 'development') {\n      console.warn(`⏰ Long task detected: ${entry.duration.toFixed(2)}ms`);\n    }\n  }\n\n  private trackLayoutShift(entry: PerformanceEntry) {\n    const layoutShiftEntry = entry as any;\n\n    if (\n      process.env.NODE_ENV === 'development' &&\n      layoutShiftEntry.value > 0.1\n    ) {\n      console.warn(\n        `📐 Significant layout shift: ${layoutShiftEntry.value.toFixed(4)}`\n      );\n    }\n  }\n\n  // Get current metrics summary\n  getMetricsSummary() {\n    const summary: { [key: string]: VitalsMetric } = {};\n\n    this.metrics.forEach(metric => {\n      if (!summary[metric.name] || metric.value < summary[metric.name].value) {\n        summary[metric.name] = metric;\n      }\n    });\n\n    return summary;\n  }\n\n  // Get performance score (0-100)\n  getPerformanceScore(): number {\n    const summary = this.getMetricsSummary();\n    const metrics = Object.values(summary);\n\n    if (metrics.length === 0) return 0;\n\n    const scores: number[] = metrics.map(metric => {\n      switch (metric.rating) {\n        case 'good':\n          return 100;\n        case 'needs-improvement':\n          return 50;\n        case 'poor':\n          return 0;\n        default:\n          return 50;\n      }\n    });\n\n    return Math.round(\n      scores.reduce((a: number, b: number) => a + b, 0) / scores.length\n    );\n  }\n\n  // Send metrics to analytics\n  sendToAnalytics(endpoint?: string) {\n    const performanceData: PerformanceData = {\n      metrics: this.metrics,\n      timestamp: Date.now(),\n      url: window.location.href,\n      userAgent: navigator.userAgent,\n      connection: (navigator as any).connection,\n    };\n\n    if (endpoint) {\n      // Send to custom endpoint\n      fetch(endpoint, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify(performanceData),\n      }).catch(error => {\n        console.warn('Failed to send performance data:', error);\n      });\n    } else if (process.env.NODE_ENV === 'development') {\n      // Log summary in development\n      console.group('📈 Performance Summary');\n      console.log('Score:', this.getPerformanceScore() + '/100');\n      console.log('Metrics:', this.getMetricsSummary());\n      console.log('Connection:', performanceData.connection);\n      console.groupEnd();\n    }\n  }\n}\n\n// Export enhanced reporting function\nexport const reportWebVitals = (\n  onPerfEntry?: (data: PerformanceData) => void\n) => {\n  if (onPerfEntry && typeof onPerfEntry === 'function') {\n    // Initialize enhanced monitoring\n    const monitor = new WebVitalsMonitor(onPerfEntry);\n\n    // Send summary after page load\n    window.addEventListener('load', () => {\n      setTimeout(() => {\n        monitor.sendToAnalytics();\n      }, 2000);\n    });\n\n    return monitor;\n  }\n};\n\n// Helper function for performance debugging\nexport const debugPerformance = () => {\n  if (process.env.NODE_ENV !== 'development') return;\n\n  console.group('🔍 Performance Debug Info');\n\n  // Performance timing\n  const perfTiming = performance.timing;\n  const pageLoad = perfTiming.loadEventEnd - perfTiming.navigationStart;\n  const domReady =\n    perfTiming.domContentLoadedEventEnd - perfTiming.navigationStart;\n\n  console.log(`Page Load Time: ${pageLoad}ms`);\n  console.log(`DOM Ready Time: ${domReady}ms`);\n\n  // Memory usage (if available)\n  if ('memory' in performance) {\n    const memory = (performance as any).memory;\n    console.log(\n      `Memory Used: ${(memory.usedJSHeapSize / 1048576).toFixed(2)} MB`\n    );\n    console.log(\n      `Memory Limit: ${(memory.jsHeapSizeLimit / 1048576).toFixed(2)} MB`\n    );\n  }\n\n  // Network connection info\n  if ('connection' in navigator) {\n    const connection = (navigator as any).connection;\n    console.log(\n      `Connection: ${connection.effectiveType} (${connection.downlink} Mbps)`\n    );\n  }\n\n  console.groupEnd();\n};\n\n// Performance monitoring hook for React components\nexport const usePerformanceMonitoring = () => {\n  const measureComponent = (componentName: string) => {\n    const startTime = performance.now();\n\n    return () => {\n      const endTime = performance.now();\n      const duration = endTime - startTime;\n\n      if (duration > 16 && process.env.NODE_ENV === 'development') {\n        console.warn(\n          `⚠️ Slow component render: ${componentName} (${duration.toFixed(2)}ms)`\n        );\n      }\n    };\n  };\n\n  return { measureComponent };\n};\n\nexport default WebVitalsMonitor;\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/mikailpirgozi/Desktop/Cursor zalohy mac16/Blackrent Beta 2/src/vite-env.d.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  }
]
