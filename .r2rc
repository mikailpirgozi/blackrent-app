#!/bin/bash
# R2 CLI Shortcuts for Blackrent
# Add to your ~/.zshrc or ~/.bashrc:
# source "/Users/mikailpirgozi/Desktop/Aplikacie Cursor/Blackrent Beta 2/.r2rc"

export R2_ENDPOINT="https://9ccdca0d876e24bd9acefabe56f94f53.r2.cloudflarestorage.com"
export R2_BUCKET="blackrent-storage"
export R2_PROFILE="r2"

# Quick alias for R2 commands
alias r2='aws s3 --profile r2 --endpoint-url https://9ccdca0d876e24bd9acefabe56f94f53.r2.cloudflarestorage.com'

# Blackrent specific shortcuts
alias r2ls='r2 ls s3://blackrent-storage/'
alias r2tree='r2 ls s3://blackrent-storage/ --recursive'
alias r2protocols='r2 ls s3://blackrent-storage/protocols/'
alias r2documents='r2 ls s3://blackrent-storage/documents/'
alias r2vehicles='r2 ls s3://blackrent-storage/vehicles/'

# Helper function for quick upload
r2upload() {
    if [ -z "$1" ] || [ -z "$2" ]; then
        echo "Usage: r2upload <local-file> <r2-path>"
        return 1
    fi
    r2 cp "$1" "s3://blackrent-storage/$2"
}

# Helper function for quick download
r2download() {
    if [ -z "$1" ] || [ -z "$2" ]; then
        echo "Usage: r2download <r2-path> <local-file>"
        return 1
    fi
    r2 cp "s3://blackrent-storage/$1" "$2"
}

# Helper function for presigned URL
r2url() {
    if [ -z "$1" ]; then
        echo "Usage: r2url <r2-path> [expiry-seconds]"
        return 1
    fi
    EXPIRY="${2:-3600}"
    aws s3 presign "s3://blackrent-storage/$1" \
        --profile r2 \
        --endpoint-url "$R2_ENDPOINT" \
        --expires-in "$EXPIRY"
}

echo "âœ… R2 CLI shortcuts loaded!"
echo "Try: r2ls, r2protocols, r2upload, r2download, r2url"

